/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  time: Wed Nov 17 2021 04:11:42 GMT+0000 (Coordinated Universal Time)
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17442634"],{"47b6":function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("ab5b"),o=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a};function i(){var e=o(Object(r["useState"])(0),2),t=e[1],n=Object(r["useCallback"])((function(){t((function(e){return e+1}))}),[]);return n}function a(e){if(!e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}function s(e){return"function"===typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}var u={};function c(){return"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:u}}).call(this,n("c8ba"))},"4f20":function(e,t,n){"use strict";n.r(t),n.d(t,"Observer",(function(){return D})),n.d(t,"isUsingStaticRendering",(function(){return h})),n.d(t,"observerBatching",(function(){return f})),n.d(t,"useAsObservableSource",(function(){return L})),n.d(t,"useLocalStore",(function(){return z})),n.d(t,"useObserver",(function(){return I})),n.d(t,"useStaticRendering",(function(){return l})),n.d(t,"MobXProviderContext",(function(){return we})),n.d(t,"PropTypes",(function(){return Fe})),n.d(t,"Provider",(function(){return _e})),n.d(t,"disposeOnUnmount",(function(){return xe})),n.d(t,"inject",(function(){return Pe})),n.d(t,"observer",(function(){return be}));var r=n("daf9"),o=n("ab5b"),i=n.n(o);if(!o["useState"])throw new Error("mobx-react-lite requires React with Hooks support");if(!r["spy"])throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=n("8bc8"),s=n("47b6"),u=Object(s["b"])("observerBatching");function c(e){e()}function f(e){e||(e=c),Object(r["configure"])({reactionScheduler:e}),Object(s["a"])()[u]=!0}var p=!1;function l(e){p=e}function h(){return p}function d(e){return Object(r["getDependencyTree"])(e)}function v(e){var t={cleanAt:Date.now()+b,reaction:e};return t}var y,b=1e4,m=1e4,g=new Set;function w(){void 0===y&&(y=setTimeout(A,m))}function _(e){g.add(e),w()}function O(e){g.delete(e)}function A(){y=void 0;var e=Date.now();g.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,g.delete(t))})),g.size>0&&w()}var S=!1,P=[];function E(e){return function(){S?P.push(e):e()}}function j(e){S=!0,P=[];try{var t=e();S=!1;var n=P.length>0?P:void 0;return i.a.useLayoutEffect((function(){n&&n.forEach((function(e){return e()}))}),[n]),t}finally{S=!1}}var T={};function x(e){return"observer"+e}function I(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=T),h())return e();var o=n.useForceUpdate||s["d"],a=o(),u=E(a),c=i.a.useRef(null);if(!c.current){var f=new r["Reaction"](x(t),(function(){p.mounted?u():(f.dispose(),c.current=null)})),p=v(f);c.current=p,_(c)}var l=c.current.reaction;return i.a.useDebugValue(l,d),i.a.useEffect((function(){return O(c),c.current?c.current.mounted=!0:(c.current={reaction:new r["Reaction"](x(t),(function(){u()})),cleanAt:1/0},u()),function(){c.current.reaction.dispose(),c.current=null}}),[]),j((function(){var t,n;if(l.track((function(){try{t=e()}catch(r){n=r}})),n)throw n;return t}))}var C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)};function V(e,t){if(h())return e;var n,r=C({forwardRef:!1},t),i=e.displayName||e.name,a=function(t,n){return I((function(){return e(t,n)}),i)};return a.displayName=i,n=r.forwardRef?Object(o["memo"])(Object(o["forwardRef"])(a)):Object(o["memo"])(a),N(e,n),n.displayName=i,n}var k={$$typeof:!0,render:!0,compare:!0,type:!0};function N(e,t){Object.keys(e).forEach((function(n){k[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}function D(e){var t=e.children,n=e.render,r=t||n;return"function"!==typeof r?null:I(r)}function R(e,t,n,r,o){var i="children"===t?"render":"children",a="function"===typeof e[t],s="function"===typeof e[i];return a&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||s?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}D.propTypes={children:R,render:R},D.displayName="Observer";var M=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a};function U(e,t){if(!t||void 0!==e){0;var n=M(i.a.useState((function(){return Object(r["observable"])(e,{},{deep:!1})})),1),o=n[0];return Object(r["runInAction"])((function(){Object.assign(o,e)})),o}}function L(e){return U(e,!1)}function z(e,t){var n=U(t,!0);return i.a.useState((function(){var t=Object(r["observable"])(e(n));return Object(s["c"])(t)&&Object(r["runInAction"])((function(){Object.keys(t).forEach((function(e){var n=t[e];"function"===typeof n&&(t[e]=H(n,t))}))})),t}))[0]}function H(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return Object(r["transaction"])((function(){return e.apply(t,n)}))}}f(a["unstable_batchedUpdates"]);var $=0;function F(e){if("function"===typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+$+")";return $++,t}var B={};function G(e){return B[e]||(B[e]=F(e)),B[e]}function W(e,t){if(q(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!q(e[n[o]],t[n[o]]))return!1;return!0}function q(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var J={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function K(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach((function(r){J[r]||-1!==n.indexOf(r)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}function Y(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var X=G("patchMixins"),Z=G("patchedDefinition");function Q(e,t){var n=e[X]=e[X]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function ee(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return void 0!==e&&null!==e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function te(e,t){var n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];ee.call.apply(ee,[this,e,t].concat(r))};return n}function ne(e,t,n){var r=Q(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[Z]){var i=e[t],a=re(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function re(e,t,n,r,o){var i,a=te(o,r);return i={},i[Z]=!0,i.get=function(){return a},i.set=function(o){if(this===e)a=te(o,r);else{var i=re(this,t,n,r,o);Object.defineProperty(this,t,i)}},i.configurable=!0,i.enumerable=n,i}var oe=r["$mobx"]||"$mobx",ie=G("isMobXReactObserver"),ae=G("isUnmounted"),se=G("skipRender"),ue=G("isForcingUpdate");function ce(e){var t=e.prototype;if(e[ie]){var n=fe(t);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else e[ie]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e["__proto__"]!==o["PureComponent"])if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==le)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=le;he(t,"props"),he(t,"state");var r=t.render;return t.render=function(){return pe.call(this,r)},ne(t,"componentWillUnmount",(function(){var e;if(!0!==h()&&(null===(e=this.render[oe])||void 0===e||e.dispose(),this[ae]=!0,!this.render[oe])){var t=fe(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function fe(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function pe(e){var t=this;if(!0===h())return e.call(this);Y(this,se,!1),Y(this,ue,!1);var n=fe(this),i=e.bind(this),a=!1,s=new r["Reaction"](n+".render()",(function(){if(!a&&(a=!0,!0!==t[ae])){var e=!0;try{Y(t,ue,!0),t[se]||o["Component"].prototype.forceUpdate.call(t),e=!1}finally{Y(t,ue,!1),e&&s.dispose()}}}));function u(){a=!1;var e=void 0,t=void 0;if(s.track((function(){try{t=Object(r["_allowStateChanges"])(!1,i)}catch(n){e=n}})),e)throw e;return t}return s["reactComponent"]=this,u[oe]=s,this.render=u,u.call(this)}function le(e,t){return h()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!W(this.props,e)}function he(e,t){var n=G("reactProp_"+t+"_valueHolder"),o=G("reactProp_"+t+"_atomHolder");function i(){return this[o]||Y(this,o,Object(r["createAtom"])("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return r["_allowStateReadsStart"]&&r["_allowStateReadsEnd"]&&(e=Object(r["_allowStateReadsStart"])(!0)),i.call(this).reportObserved(),r["_allowStateReadsStart"]&&r["_allowStateReadsEnd"]&&Object(r["_allowStateReadsEnd"])(e),this[n]},set:function(e){this[ue]||W(this[n],e)?Y(this,n,e):(Y(this,n,e),Y(this,se,!0),i.call(this).reportChanged(),Y(this,se,!1))}})}var de="function"===typeof Symbol&&Symbol.for,ve=de?Symbol.for("react.forward_ref"):"function"===typeof o["forwardRef"]&&Object(o["forwardRef"])((function(e){return null}))["$$typeof"],ye=de?Symbol.for("react.memo"):"function"===typeof o["memo"]&&Object(o["memo"])((function(e){return null}))["$$typeof"];function be(e){if(!0===e["isMobxInjector"]&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),ye&&e["$$typeof"]===ye)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(ve&&e["$$typeof"]===ve){var t=e["render"];if("function"!==typeof t)throw new Error("render property of ForwardRef was not a function");return Object(o["forwardRef"])((function(){var e=arguments;return Object(o["createElement"])(D,null,(function(){return t.apply(void 0,e)}))}))}return"function"!==typeof e||e.prototype&&e.prototype.render||e["isReactClass"]||Object.prototype.isPrototypeOf.call(o["Component"],e)?ce(e):V(e)}function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function ge(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var we=i.a.createContext({});function _e(e){var t=e.children,n=ge(e,["children"]),r=i.a.useContext(we),o=i.a.useRef(me({},r,n)),a=o.current;return i.a.createElement(we.Provider,{value:a},t)}function Oe(e,t,n,r){var o=i.a.forwardRef((function(n,r){var o=me({},n),a=i.a.useContext(we);return Object.assign(o,e(a||{},o)||{}),r&&(o.ref=r),i.a.createElement(t,o)}));return r&&(o=be(o)),o["isMobxInjector"]=!0,K(t,o),o["wrappedComponent"]=t,o.displayName=Ae(t,n),o}function Ae(e,t){var n,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return n=t?"inject-with-"+t+"("+r+")":"inject("+r+")",n}function Se(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"===typeof arguments[0]){var r=arguments[0];return function(e){return Oe(r,e,r.name,!0)}}return function(e){return Oe(Se(t),e,t.join("-"),!1)}}_e.displayName="MobXProvider";var Ee=G("disposeOnUnmountProto"),je=G("disposeOnUnmountInst");function Te(){var e=this;[].concat(this[Ee]||[],this[je]||[]).forEach((function(t){var n="string"===typeof t?e[t]:t;void 0!==n&&null!==n&&(Array.isArray(n)?n.map((function(e){return e()})):n())}))}function xe(e,t){if(Array.isArray(t))return t.map((function(t){return xe(e,t)}));var n=Object.getPrototypeOf(e).constructor,r=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(n!==i.a.Component&&n!==i.a.PureComponent&&r!==i.a.Component&&r!==i.a.PureComponent&&o!==i.a.Component&&o!==i.a.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!==typeof t&&"function"!==typeof t&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var a="string"===typeof t,s=!!e[Ee]||!!e[je],u=a?e[Ee]||(e[Ee]=[]):e[je]||(e[je]=[]);return u.push(t),s||ne(e,"componentWillUnmount",Te),"string"!==typeof t?t:void 0}function Ie(e){function t(t,n,o,i,a,s){for(var u=arguments.length,c=new Array(u>6?u-6:0),f=6;f<u;f++)c[f-6]=arguments[f];return Object(r["untracked"])((function(){if(i=i||"<<anonymous>>",s=s||o,null==n[o]){if(t){var r=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+s+"` is marked as required in `"+i+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,o,i,a,s].concat(c))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function Ce(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}function Ve(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":Ce(t,e)?"symbol":t}function ke(e){var t=Ve(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function Ne(e,t){return Ie((function(n,o,i,a,s){return Object(r["untracked"])((function(){if(e&&Ve(n[o])===t.toLowerCase())return null;var a;switch(t){case"Array":a=r["isObservableArray"];break;case"Object":a=r["isObservableObject"];break;case"Map":a=r["isObservableMap"];break;default:throw new Error("Unexpected mobxType: "+t)}var u=n[o];if(!a(u)){var c=ke(u),f=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+c+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+f+".")}return null}))}))}function De(e,t){return Ie((function(n,o,i,a,s){for(var u=arguments.length,c=new Array(u>5?u-5:0),f=5;f<u;f++)c[f-5]=arguments[f];return Object(r["untracked"])((function(){if("function"!==typeof t)return new Error("Property `"+s+"` of component `"+i+"` has invalid PropType notation.");var r=Ne(e,"Array")(n,o,i,a,s);if(r instanceof Error)return r;for(var u=n[o],f=0;f<u.length;f++)if(r=t.apply(void 0,[u,f,i,a,s+"["+f+"]"].concat(c)),r instanceof Error)return r;return null}))}))}var Re=Ne(!1,"Array"),Me=De.bind(null,!1),Ue=Ne(!1,"Map"),Le=Ne(!1,"Object"),ze=Ne(!0,"Array"),He=De.bind(null,!0),$e=Ne(!0,"Object"),Fe={observableArray:Re,observableArrayOf:Me,observableMap:Ue,observableObject:Le,arrayOrObservableArray:ze,arrayOrObservableArrayOf:He,objectOrObservableObject:$e};if(!o["Component"])throw new Error("mobx-react requires React to be available");if(!r["observable"])throw new Error("mobx-react requires mobx to be available")},"8a53":function(e,t,n){"use strict";n.r(t),n.d(t,"defaultBaseSortFn",(function(){return s})),n.d(t,"matchSorter",(function(){return u})),n.d(t,"rankings",(function(){return a}));var r=n("c31d"),o=n("d825"),i=n.n(o),a={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};u.rankings=a;var s=function(e,t){return String(e.rankedValue).localeCompare(String(t.rankedValue))};function u(e,t,n){void 0===n&&(n={});var o=n,i=o.keys,u=o.threshold,f=void 0===u?a.MATCHES:u,p=o.baseSort,l=void 0===p?s:p,d=o.sorter,v=void 0===d?function(e){return e.sort((function(e,t){return h(e,t,l)}))}:d,y=e.reduce(b,[]);return v(y).map((function(e){var t=e.item;return t}));function b(e,o,a){var s=c(o,i,t,n),u=s.rank,p=s.keyThreshold,l=void 0===p?f:p;return u>=l&&e.push(Object(r["a"])({},s,{item:o,index:a})),e}}function c(e,t,n,r){if(!t){var o=e;return{rankedValue:o,rank:f(o,n,r),keyIndex:-1,keyThreshold:r.threshold}}var i=b(e,t);return i.reduce((function(e,t,o){var i=e.rank,s=e.rankedValue,u=e.keyIndex,c=e.keyThreshold,p=t.itemValue,l=t.attributes,h=f(p,n,r),d=s,v=l.minRanking,y=l.maxRanking,b=l.threshold;return h<v&&h>=a.MATCHES?h=v:h>y&&(h=y),h>i&&(i=h,u=o,c=b,d=p),{rankedValue:d,rank:i,keyIndex:u,keyThreshold:c}}),{rankedValue:e,rank:a.NO_MATCH,keyIndex:-1,keyThreshold:r.threshold})}function f(e,t,n){return e=d(e,n),t=d(t,n),t.length>e.length?a.NO_MATCH:e===t?a.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?a.EQUAL:e.startsWith(t)?a.STARTS_WITH:e.includes(" "+t)?a.WORD_STARTS_WITH:e.includes(t)?a.CONTAINS:1===t.length?a.NO_MATCH:p(e).includes(t)?a.ACRONYM:l(e,t))}function p(e){var t="",n=e.split(" ");return n.forEach((function(e){var n=e.split("-");n.forEach((function(e){t+=e.substr(0,1)}))})),t}function l(e,t){var n=0,r=0;function o(e,t,r){for(var o=r,i=t.length;o<i;o++){var a=t[o];if(a===e)return n+=1,o+1}return-1}function i(e){var r=1/e,o=n/t.length,i=a.MATCHES+o*r;return i}var s=o(t[0],e,0);if(s<0)return a.NO_MATCH;r=s;for(var u=1,c=t.length;u<c;u++){var f=t[u];r=o(f,e,r);var p=r>-1;if(!p)return a.NO_MATCH}var l=r-s;return i(l)}function h(e,t,n){var r=-1,o=1,i=e.rank,a=e.keyIndex,s=t.rank,u=t.keyIndex,c=i===s;return c?a===u?n(e,t):a<u?r:o:i>s?r:o}function d(e,t){var n=t.keepDiacritics;return e=""+e,n||(e=i()(e)),e}function v(e,t){var n;if("object"===typeof t&&(t=t.key),"function"===typeof t)n=t(e);else if(null==e)n=null;else if(Object.hasOwnProperty.call(e,t))n=e[t];else{if(t.includes("."))return y(t,e);n=null}return null==n?[]:Array.isArray(n)?n:[String(n)]}function y(e,t){for(var n=e.split("."),r=[t],o=0,i=n.length;o<i;o++){for(var a=n[o],s=[],u=0,c=r.length;u<c;u++){var f=r[u];if(null!=f)if(Object.hasOwnProperty.call(f,a)){var p=f[a];null!=p&&s.push(p)}else"*"===a&&(s=s.concat(f))}r=s}if(Array.isArray(r[0])){var l=[];return l.concat.apply(l,r)}return r}function b(e,t){for(var n=[],r=0,o=t.length;r<o;r++)for(var i=t[r],a=g(i),s=v(e,i),u=0,c=s.length;u<c;u++)n.push({itemValue:s[u],attributes:a});return n}var m={maxRanking:1/0,minRanking:-1/0};function g(e){return"string"===typeof e?m:Object(r["a"])({},m,e)}},daf9:function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"$mobx",(function(){return Nr})),n.d(t,"FlowCancellationError",(function(){return un})),n.d(t,"IDerivationState",(function(){return ge})),n.d(t,"ObservableMap",(function(){return ur})),n.d(t,"ObservableSet",(function(){return lr})),n.d(t,"Reaction",(function(){return Ot})),n.d(t,"_allowStateChanges",(function(){return qe})),n.d(t,"_allowStateChangesInsideComputed",(function(){return Ye})),n.d(t,"_allowStateReadsEnd",(function(){return Ue})),n.d(t,"_allowStateReadsStart",(function(){return Me})),n.d(t,"_endAction",(function(){return We})),n.d(t,"_getAdministration",(function(){return jr})),n.d(t,"_getGlobalState",(function(){return st})),n.d(t,"_interceptReads",(function(){return ln})),n.d(t,"_isComputingDerivation",(function(){return je})),n.d(t,"_resetGlobalState",(function(){return ut})),n.d(t,"_startAction",(function(){return Ge})),n.d(t,"action",(function(){return zt})),n.d(t,"autorun",(function(){return Bt})),n.d(t,"comparer",(function(){return B})),n.d(t,"computed",(function(){return Ae})),n.d(t,"configure",(function(){return Zt})),n.d(t,"createAtom",(function(){return L})),n.d(t,"decorate",(function(){return Qt})),n.d(t,"entries",(function(){return Sn})),n.d(t,"extendObservable",(function(){return tn})),n.d(t,"extendShallowObservable",(function(){return en})),n.d(t,"flow",(function(){return fn})),n.d(t,"get",(function(){return Tn})),n.d(t,"getAtom",(function(){return Er})),n.d(t,"getDebugName",(function(){return Tr})),n.d(t,"getDependencyTree",(function(){return nn})),n.d(t,"getObserverTree",(function(){return on})),n.d(t,"has",(function(){return jn})),n.d(t,"intercept",(function(){return hn})),n.d(t,"isAction",(function(){return $t})),n.d(t,"isArrayLike",(function(){return P})),n.d(t,"isBoxedObservable",(function(){return Ze})),n.d(t,"isComputed",(function(){return bn})),n.d(t,"isComputedProp",(function(){return mn})),n.d(t,"isFlowCancellationError",(function(){return cn})),n.d(t,"isObservable",(function(){return wn})),n.d(t,"isObservableArray",(function(){return ar})),n.d(t,"isObservableMap",(function(){return fr})),n.d(t,"isObservableObject",(function(){return Pr})),n.d(t,"isObservableProp",(function(){return _n})),n.d(t,"isObservableSet",(function(){return hr})),n.d(t,"keys",(function(){return On})),n.d(t,"observable",(function(){return be})),n.d(t,"observe",(function(){return xn})),n.d(t,"onBecomeObserved",(function(){return Kt})),n.d(t,"onBecomeUnobserved",(function(){return Yt})),n.d(t,"onReactionError",(function(){return At})),n.d(t,"reaction",(function(){return qt})),n.d(t,"remove",(function(){return En})),n.d(t,"runInAction",(function(){return Ht})),n.d(t,"set",(function(){return Pn})),n.d(t,"spy",(function(){return Dt})),n.d(t,"toJS",(function(){return Dn})),n.d(t,"trace",(function(){return Rn})),n.d(t,"transaction",(function(){return Un})),n.d(t,"untracked",(function(){return Ne})),n.d(t,"values",(function(){return An})),n.d(t,"when",(function(){return Ln}));var o="An invariant failed, however the error is obfuscated because this is an production build.",i=[];Object.freeze(i);var a={};Object.freeze(a);var s={};function u(){return"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:s}function c(){return++it.mobxGuid}function f(e){throw p(!1,e),"X"}function p(e,t){if(!e)throw new Error("[mobx] "+(t||o))}function l(e,t){return!1}function h(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var d=function(){};function v(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}function y(e){return null!==e&&"object"===typeof e}function b(e){if(null===e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function m(e){if(E(e)||fr(e))return e;if(Array.isArray(e))return new Map(e);if(b(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return f("Cannot convert to map from '"+e+"'")}function g(e,t){for(var n=0;n<t.length;n++)w(e,t[n],e[t[n]])}function w(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function _(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function O(e,t){0}function A(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return y(e)&&!0===e[n]}}function S(e,t){return"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)}function P(e){return Array.isArray(e)||ar(e)}function E(e){return void 0!==u().Map&&e instanceof u().Map}function j(e){return e instanceof Set}function T(e){var t=[];while(1){var n=e.next();if(n.done)break;t.push(n.value)}return t}function x(){return"function"===typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function I(e){return null===e?null:"object"===typeof e?""+e:e}function C(e,t){var n=e.next();while(!n.done)t(n.value),n=e.next()}function V(){return"function"===typeof Symbol&&Symbol.iterator||"@@iterator"}function k(e,t){_(e,V(),t)}function N(e){return e[V()]=R,e}function D(){return"function"===typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function R(){return this}var M=function(){function e(e){void 0===e&&(e="Atom@"+c()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ge.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return yt(this)},e.prototype.reportChanged=function(){dt(),bt(this),vt()},e.prototype.toString=function(){return this.name},e}(),U=A("Atom",M);function L(e,t,n){void 0===t&&(t=d),void 0===n&&(n=d);var r=new M(e);return Kt(r,t),Yt(r,n),r}function z(e,t){return e===t}function H(e,t){return Ir(e,t)}function $(e,t){return Ir(e,t,1)}function F(e,t){return S(e,t)||z(e,t)}var B={identity:z,structural:H,default:F,shallow:$},G=function(e,t){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},G(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function W(e,t){function n(){this.constructor=e}G(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},q.apply(this,arguments)};function J(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function K(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(J(arguments[t]));return e}var Y={},X={};function Z(e,t){var n=t?Y:X;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return Q(this),this[e]},set:function(t){Q(this),this[e]=t}})}function Q(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in w(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function ee(e,t){return function(){var n,r=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var s=r.__mobxDecorators;w(r,"__mobxDecorators",q({},s))}return r.__mobxDecorators[o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},Z(o,e)};return te(arguments)?(n=i,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function te(e){return(2===e.length||3===e.length)&&"string"===typeof e[1]||4===e.length&&!0===e[3]}function ne(e,t,n){return wn(e)?e:Array.isArray(e)?be.array(e,{name:n}):b(e)?be.object(e,void 0,{name:n}):E(e)?be.map(e,{name:n}):j(e)?be.set(e,{name:n}):e}function re(e,t,n){return void 0===e||null===e||Pr(e)||ar(e)||fr(e)||hr(e)?e:Array.isArray(e)?be.array(e,{name:n,deep:!1}):b(e)?be.object(e,void 0,{name:n,deep:!1}):E(e)?be.map(e,{name:n,deep:!1}):j(e)?be.set(e,{name:n,deep:!1}):f(!1)}function oe(e){return e}function ie(e,t,n){return Ir(e,t)?t:e}function ae(e){p(e);var t=ee(!0,(function(t,n,r,o,i){var a=r?r.initializer?r.initializer.call(t):r.value:void 0;yr(t,n,a,e)})),n=("undefined"!==typeof r&&Object({NODE_ENV:"production",VUE_APP_TITLE:"物联网开发平台",VUE_APP_AUTHOR:"iotn2n",VUE_APP_UPDATE_TIME:"Wed Nov 17 2021 04:11:42 GMT+0000 (Coordinated Universal Time)",VUE_APP_VERSION:"4.3.6",VUE_APP_Keywords:"一站式物联网PaaS平台|物联网应用服务",VUE_APP_Description:"提供物联网垂直领域应用使能平台及解决方案",VUE_APP_URL:"http://prod.iotn2n.com",BASE_URL:""}),t);return n.enhancer=e,n}var se={deep:!0,name:void 0,defaultDecorator:void 0},ue={deep:!1,name:void 0,defaultDecorator:void 0};function ce(e){return null===e||void 0===e?se:"string"===typeof e?{name:e,deep:!0}:e}function fe(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?oe:ne}Object.freeze(se),Object.freeze(ue);var pe=ae(ne),le=ae(re),he=ae(oe),de=ae(ie);function ve(e,t,n){if("string"===typeof arguments[1])return pe.apply(null,arguments);if(wn(e))return e;var r=b(e)?be.object(e,t,n):Array.isArray(e)?be.array(e,t):E(e)?be.map(e,t):j(e)?be.set(e,t):e;if(r!==e)return r;f(!1)}var ye={box:function(e,t){arguments.length>2&&me("box");var n=ce(t);return new Xe(e,fe(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&me("shallowBox"),l("observable.shallowBox","observable.box(value, { deep: false })"),be.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&me("array");var n=ce(t);return new er(e,fe(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&me("shallowArray"),l("observable.shallowArray","observable.array(values, { deep: false })"),be.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&me("map");var n=ce(t);return new ur(e,fe(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&me("shallowMap"),l("observable.shallowMap","observable.map(values, { deep: false })"),be.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&me("set");var n=ce(t);return new lr(e,fe(n),n.name)},object:function(e,t,n){"string"===typeof arguments[1]&&me("object");var r=ce(n);return tn({},e,t,r)},shallowObject:function(e,t){return"string"===typeof arguments[1]&&me("shallowObject"),l("observable.shallowObject","observable.object(values, {}, { deep: false })"),be.object(e,{},{name:t,deep:!1})},ref:he,shallow:le,deep:pe,struct:de},be=ve;function me(e){f("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(ye).forEach((function(e){return be[e]=ye[e]}));var ge,we,_e=ee(!1,(function(e,t,n,r,o){var i=n.get,a=n.set,s=o[0]||{};br(e,t,q({get:i,set:a},s))})),Oe=_e({equals:B.structural}),Ae=function(e,t,n){if("string"===typeof t)return _e.apply(null,arguments);if(null!==e&&"object"===typeof e&&1===arguments.length)return _e.apply(null,arguments);var r="object"===typeof t?t:{};return r.get=e,r.set="function"===typeof t?t:r.set,r.name=r.name||e.name||"",new Qe(r)};Ae.struct=Oe,function(e){e[e["NOT_TRACKING"]=-1]="NOT_TRACKING",e[e["UP_TO_DATE"]=0]="UP_TO_DATE",e[e["POSSIBLY_STALE"]=1]="POSSIBLY_STALE",e[e["STALE"]=2]="STALE"}(ge||(ge={})),function(e){e[e["NONE"]=0]="NONE",e[e["LOG"]=1]="LOG",e[e["BREAK"]=2]="BREAK"}(we||(we={}));var Se=function(){function e(e){this.cause=e}return e}();function Pe(e){return e instanceof Se}function Ee(e){switch(e.dependenciesState){case ge.UP_TO_DATE:return!1;case ge.NOT_TRACKING:case ge.STALE:return!0;case ge.POSSIBLY_STALE:for(var t=Me(!0),n=De(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(et(a)){if(it.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return Re(n),Ue(t),!0}if(e.dependenciesState===ge.STALE)return Re(n),Ue(t),!0}}return Le(e),Re(n),Ue(t),!1}}function je(){return null!==it.trackingDerivation}function Te(e){var t=e.observers.length>0;it.computationDepth>0&&t&&f(!1),it.allowStateChanges||!t&&"strict"!==it.enforceActions||f(!1)}function xe(e){0}function Ie(e,t,n){var r=Me(!0);Le(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++it.runId;var o,i=it.trackingDerivation;if(it.trackingDerivation=e,!0===it.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(a){o=new Se(a)}return it.trackingDerivation=i,Ve(e),0===e.observing.length&&Ce(e),Ue(r),o}function Ce(e){}function Ve(e){for(var t=e.observing,n=e.observing=e.newObserving,r=ge.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++){var s=n[a];0===s.diffValue&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=o,e.newObserving=null,i=t.length;while(i--){s=t[i];0===s.diffValue&&lt(s,e),s.diffValue=0}while(o--){s=n[o];1===s.diffValue&&(s.diffValue=0,pt(s,e))}r!==ge.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}function ke(e){var t=e.observing;e.observing=[];var n=t.length;while(n--)lt(t[n],e);e.dependenciesState=ge.NOT_TRACKING}function Ne(e){var t=De(),n=e();return Re(t),n}function De(){var e=it.trackingDerivation;return it.trackingDerivation=null,e}function Re(e){it.trackingDerivation=e}function Me(e){var t=it.allowStateReads;return it.allowStateReads=e,t}function Ue(e){it.allowStateReads=e}function Le(e){if(e.dependenciesState!==ge.UP_TO_DATE){e.dependenciesState=ge.UP_TO_DATE;var t=e.observing,n=t.length;while(n--)t[n].lowestObserverState=ge.UP_TO_DATE}}var ze=0,He=1,$e=Object.getOwnPropertyDescriptor((function(){}),"name");$e&&$e.configurable;function Fe(e,t){var n=function(){return Be(e,t,this,arguments)};return n.isMobxAction=!0,n}function Be(e,t,n,r){var o=Ge(e,n,r);try{return t.apply(n,r)}catch(i){throw o.error=i,i}finally{We(o)}}function Ge(e,t,n){var r=It()&&!!e,o=0;if(r){o=Date.now();var i=n&&n.length||0,a=new Array(i);if(i>0)for(var s=0;s<i;s++)a[s]=n[s];Vt({type:"action",name:e,object:t,arguments:a})}var u=De();dt();var c=Je(!0),f=Me(!0),p={prevDerivation:u,prevAllowStateChanges:c,prevAllowStateReads:f,notifySpy:r,startTime:o,actionId:He++,parentActionId:ze};return ze=p.actionId,p}function We(e){ze!==e.actionId&&f("invalid action stack. did you forget to finish an action?"),ze=e.parentActionId,void 0!==e.error&&(it.suppressReactionErrors=!0),Ke(e.prevAllowStateChanges),Ue(e.prevAllowStateReads),vt(),Re(e.prevDerivation),e.notifySpy&&Nt({time:Date.now()-e.startTime}),it.suppressReactionErrors=!1}function qe(e,t){var n,r=Je(e);try{n=t()}finally{Ke(r)}return n}function Je(e){var t=it.allowStateChanges;return it.allowStateChanges=e,t}function Ke(e){it.allowStateChanges=e}function Ye(e){var t,n=it.computationDepth;it.computationDepth=0;try{t=e()}finally{it.computationDepth=n}return t}var Xe=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+c()),void 0===o&&(o=!0),void 0===i&&(i=B.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),o&&It()&&Ct({type:"create",name:a.name,newValue:""+a.value}),a}return W(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if(e=this.prepareNewValue(e),e!==it.UNCHANGED){var n=It();n&&Vt({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&Nt()}},t.prototype.prepareNewValue=function(e){if(Te(this),$n(this)){var t=Bn(this,{object:this,type:"update",newValue:e});if(!t)return it.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?it.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Gn(this)&&qn(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Fn(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Wn(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return I(this.get())},t}(M);Xe.prototype[x()]=Xe.prototype.valueOf;var Ze=A("ObservableValue",Xe),Qe=function(){function e(e){this.dependenciesState=ge.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ge.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+c(),this.value=new Se(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=we.NONE,p(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+c(),e.set&&(this.setter=Fe(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?B.structural:B.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){gt(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&f("Cycle detected in computation "+this.name+": "+this.derivation),0!==it.inBatch||0!==this.observers.length||this.keepAlive?(yt(this),Ee(this)&&this.trackAndCompute()&&mt(this)):Ee(this)&&(this.warnAboutUntrackedRead(),dt(),this.value=this.computeValue(!1),vt());var e=this.value;if(Pe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(Pe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){p(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else p(!1,!1)},e.prototype.trackAndCompute=function(){It()&&Ct({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===ge.NOT_TRACKING,n=this.computeValue(!0),r=t||Pe(e)||Pe(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,it.computationDepth++,e)t=Ie(this,this.derivation,this.scope);else if(!0===it.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new Se(n)}return it.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ke(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return Bt((function(){var i=n.get();if(!r||t){var a=De();e({type:"update",object:n,newValue:i,oldValue:o}),Re(a)}r=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return I(this.get())},e}();Qe.prototype[x()]=Qe.prototype.valueOf;var et=A("ComputedValue",Qe),tt=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],nt=function(){function e(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return e}(),rt=!0,ot=!1,it=function(){var e=u();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(rt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new nt).version&&(rt=!1),rt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new nt):(setTimeout((function(){ot||f("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new nt)}();function at(){(it.pendingReactions.length||it.inBatch||it.isRunningReactions)&&f("isolateGlobalState should be called before MobX is running any reactions"),ot=!0,rt&&(0===--u().__mobxInstanceCount&&(u().__mobxGlobals=void 0),it=new nt)}function st(){return it}function ut(){var e=new nt;for(var t in e)-1===tt.indexOf(t)&&(it[t]=e[t]);it.allowStateChanges=!it.enforceActions}function ct(e){return e.observers&&e.observers.length>0}function ft(e){return e.observers}function pt(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function lt(e,t){if(1===e.observers.length)e.observers.length=0,ht(e);else{var n=e.observers,r=e.observersIndexes,o=n.pop();if(o!==t){var i=r[t.__mapid]||0;i?r[o.__mapid]=i:delete r[o.__mapid],n[i]=o}delete r[t.__mapid]}}function ht(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,it.pendingUnobservations.push(e))}function dt(){it.inBatch++}function vt(){if(0===--it.inBatch){Et();for(var e=it.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Qe&&n.suspend())}it.pendingUnobservations=[]}}function yt(e){xe(e);var t=it.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&it.inBatch>0&&ht(e),!1)}function bt(e){if(e.lowestObserverState!==ge.STALE){e.lowestObserverState=ge.STALE;var t=e.observers,n=t.length;while(n--){var r=t[n];r.dependenciesState===ge.UP_TO_DATE&&(r.isTracing!==we.NONE&&wt(r,e),r.onBecomeStale()),r.dependenciesState=ge.STALE}}}function mt(e){if(e.lowestObserverState!==ge.STALE){e.lowestObserverState=ge.STALE;var t=e.observers,n=t.length;while(n--){var r=t[n];r.dependenciesState===ge.POSSIBLY_STALE?r.dependenciesState=ge.STALE:r.dependenciesState===ge.UP_TO_DATE&&(e.lowestObserverState=ge.UP_TO_DATE)}}}function gt(e){if(e.lowestObserverState===ge.UP_TO_DATE){e.lowestObserverState=ge.POSSIBLY_STALE;var t=e.observers,n=t.length;while(n--){var r=t[n];r.dependenciesState===ge.UP_TO_DATE&&(r.dependenciesState=ge.POSSIBLY_STALE,r.isTracing!==we.NONE&&wt(r,e),r.onBecomeStale())}}}function wt(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===we.BREAK){var n=[];_t(nn(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Qe?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function _t(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return _t(e,t,n+1)})))}var Ot=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+c()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=ge.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+c(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=we.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,it.pendingReactions.push(this),Et())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(dt(),this._isScheduled=!1,Ee(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&It()&&Ct({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}vt()}},e.prototype.track=function(e){dt();var t,n=It();n&&(t=Date.now(),Vt({name:this.name,type:"reaction"})),this._isRunning=!0;var r=Ie(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ke(this),Pe(r)&&this.reportExceptionInDerivation(r.cause),n&&Nt({time:Date.now()-t}),vt()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(it.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";it.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),It()&&Ct({type:"error",name:this.name,message:n,error:""+e}),it.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(dt(),ke(this),vt()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),Rn(this,e)},e}();function At(e){return it.globalReactionErrorHandlers.push(e),function(){var t=it.globalReactionErrorHandlers.indexOf(e);t>=0&&it.globalReactionErrorHandlers.splice(t,1)}}var St=100,Pt=function(e){return e()};function Et(){it.inBatch>0||it.isRunningReactions||Pt(jt)}function jt(){it.isRunningReactions=!0;var e=it.pendingReactions,t=0;while(e.length>0){++t===St&&(console.error("Reaction doesn't converge to a stable state after "+St+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}it.isRunningReactions=!1}var Tt=A("Reaction",Ot);function xt(e){var t=Pt;Pt=function(n){return e((function(){return t(n)}))}}function It(){return!!it.spyListeners.length}function Ct(e){if(it.spyListeners.length)for(var t=it.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function Vt(e){var t=q(q({},e),{spyReportStart:!0});Ct(t)}var kt={spyReportEnd:!0};function Nt(e){Ct(e?q(q({},e),{spyReportEnd:!0}):kt)}function Dt(e){return it.spyListeners.push(e),h((function(){it.spyListeners=it.spyListeners.filter((function(t){return t!==e}))}))}function Rt(){f(!1)}function Mt(e){return function(t,n,r){if(r){if(r.value)return{value:Fe(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Fe(e,o.call(this))}}}return Ut(e).apply(this,arguments)}}function Ut(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){w(this,n,zt(e,t))}})}}function Lt(e,t,n,r){return!0===r?(Ft(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Ft(this,t,n.value||n.initializer.call(this)),this[t]},set:Rt}:{enumerable:!1,configurable:!0,set:function(e){Ft(this,t,e)},get:function(){}}}var zt=function(e,t,n,r){return 1===arguments.length&&"function"===typeof e?Fe(e.name||"<unnamed action>",e):2===arguments.length&&"function"===typeof t?Fe(e,t):1===arguments.length&&"string"===typeof e?Mt(e):!0!==r?Mt(t).apply(null,arguments):void(e[t]=Fe(e.name||t,n.value))};function Ht(e,t){var n="string"===typeof e?e:e.name||"<unnamed action>",r="function"===typeof e?e:t;return Be(n,r,this,void 0)}function $t(e){return"function"===typeof e&&!0===e.isMobxAction}function Ft(e,t,n){w(e,t,Fe(t,n.bind(e)))}function Bt(e,t){void 0===t&&(t=a);var n,r=t&&t.name||e.name||"Autorun@"+c(),o=!t.scheduler&&!t.delay;if(o)n=new Ot(r,(function(){this.track(u)}),t.onError,t.requiresObservable);else{var i=Wt(t),s=!1;n=new Ot(r,(function(){s||(s=!0,i((function(){s=!1,n.isDisposed||n.track(u)})))}),t.onError,t.requiresObservable)}function u(){e(n)}return n.schedule(),n.getDisposer()}zt.bound=Lt;var Gt=function(e){return e()};function Wt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Gt}function qt(e,t,n){void 0===n&&(n=a),"boolean"===typeof n&&(n={fireImmediately:n},l("Using fireImmediately as argument is deprecated. Use '{ fireImmediately: true }' instead"));var r,o=n.name||"Reaction@"+c(),i=zt(o,n.onError?Jt(n.onError,t):t),s=!n.scheduler&&!n.delay,u=Wt(n),f=!0,p=!1,h=n.compareStructural?B.structural:n.equals||B.default,d=new Ot(o,(function(){f||s?v():p||(p=!0,u(v))}),n.onError,n.requiresObservable);function v(){if(p=!1,!d.isDisposed){var t=!1;d.track((function(){var n=e(d);t=f||!h(r,n),r=n})),f&&n.fireImmediately&&i(r,d),f||!0!==t||i(r,d),f&&(f=!1)}}return d.schedule(),d.getDisposer()}function Jt(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}function Kt(e,t,n){return Xt("onBecomeObserved",e,t,n)}function Yt(e,t,n){return Xt("onBecomeUnobserved",e,t,n)}function Xt(e,t,n,r){var o="function"===typeof r?Er(t,n):Er(t),i="function"===typeof r?r:n,a=o[e];return"function"!==typeof a?f(!1):(o[e]=function(){a.call(this),i.call(this)},function(){o[e]=a})}function Zt(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.arrayBuffer,a=e.reactionScheduler,s=e.reactionRequiresObservable,u=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&at(),void 0!==t){"boolean"!==typeof t&&"strict"!==t||l("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var c=void 0;switch(t){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:f("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}it.enforceActions=c,it.allowStateChanges=!0!==c&&"strict"!==c}void 0!==n&&(it.computedRequiresReaction=!!n),void 0!==s&&(it.reactionRequiresObservable=!!s),void 0!==u&&(it.observableRequiresReaction=!!u,it.allowStateReads=!it.observableRequiresReaction),void 0!==r&&(it.computedConfigurable=!!r),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),it.disableErrorBoundaries=!!o),"number"===typeof i&&or(i),a&&xt(a)}function Qt(e,t){var n="function"===typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]);var o=Object.getOwnPropertyDescriptor(n,e),i=r.reduce((function(t,r){return r(n,e,t)}),o);i&&Object.defineProperty(n,e,i)};for(var o in t)r(o);return e}function en(e,t,n){return l("'extendShallowObservable' is deprecated, use 'extendObservable(target, props, { deep: false })' instead"),tn(e,t,n,ue)}function tn(e,t,n,r){r=ce(r);var o=r.defaultDecorator||(!1===r.deep?he:pe);Q(e),vr(e,r.name,o.enhancer),dt();try{for(var i=Object.getOwnPropertyNames(t),a=0,s=i.length;a<s;a++){var u=i[a],c=Object.getOwnPropertyDescriptor(t,u);0;var f=n&&u in n?n[u]:c.get?_e:o;0;var p=f(e,u,c,!0);p&&Object.defineProperty(e,u,p)}}finally{vt()}return e}function nn(e,t){return rn(Er(e,t))}function rn(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=v(e.observing).map(rn)),t}function on(e,t){return an(Er(e,t))}function an(e){var t={name:e.name};return ct(e)&&(t.observers=ft(e).map(an)),t}var sn=0;function un(){this.message="FLOW_CANCELLED"}function cn(e){return e instanceof un}function fn(e){1!==arguments.length&&f("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++sn,a=zt(t+" - runid: "+i+" - init",e).apply(r,o),s=void 0,u=new Promise((function(e,r){var o=0;function u(e){var n;s=void 0;try{n=zt(t+" - runid: "+i+" - yield "+o++,a.next).call(a,e)}catch(u){return r(u)}f(n)}function c(e){var n;s=void 0;try{n=zt(t+" - runid: "+i+" - yield "+o++,a.throw).call(a,e)}catch(u){return r(u)}f(n)}function f(t){if(!t||"function"!==typeof t.then)return t.done?e(t.value):(s=Promise.resolve(t.value),s.then(u,c));t.then(f,r)}n=r,u(void 0)}));return u.cancel=zt(t+" - runid: "+i+" - cancel",(function(){try{s&&pn(s);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(d,d),pn(t),n(new un)}catch(r){n(r)}})),u}}function pn(e){"function"===typeof e.cancel&&e.cancel()}function ln(e,t,n){var r;if(fr(e)||ar(e)||Ze(e))r=jr(e);else{if(!Pr(e))return f(!1);if("string"!==typeof t)return f(!1);r=jr(e,t)}return void 0!==r.dehancer?f(!1):(r.dehancer="function"===typeof t?t:n,function(){r.dehancer=void 0})}function hn(e,t,n){return"function"===typeof n?vn(e,t,n):dn(e,t)}function dn(e,t){return jr(e).intercept(t)}function vn(e,t,n){return jr(e,t).intercept(n)}function yn(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(!1===Pr(e))return!1;if(!e.$mobx.values[t])return!1;var n=Er(e,t);return et(n)}return et(e)}function bn(e){return arguments.length>1?f(!1):yn(e)}function mn(e,t){return"string"!==typeof t?f(!1):yn(e,t)}function gn(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(Pr(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return Pr(e)||!!e.$mobx||U(e)||Tt(e)||et(e)}function wn(e){return 1!==arguments.length&&f(!1),gn(e)}function _n(e,t){return"string"!==typeof t?f(!1):gn(e,t)}function On(e){return Pr(e)?e.$mobx.getKeys():fr(e)||hr(e)?T(e.keys()):ar(e)?e.map((function(e,t){return t})):f(!1)}function An(e){return Pr(e)?On(e).map((function(t){return e[t]})):fr(e)?On(e).map((function(t){return e.get(t)})):hr(e)?T(e.values()):ar(e)?e.slice():f(!1)}function Sn(e){return Pr(e)?On(e).map((function(t){return[t,e[t]]})):fr(e)?On(e).map((function(t){return[t,e.get(t)]})):hr(e)?T(e.entries()):ar(e)?e.map((function(e,t){return[t,e]})):f(!1)}function Pn(e,t,n){if(2!==arguments.length||hr(e))if(Pr(e)){var r=e.$mobx,o=r.values[t];o?r.write(e,t,n):yr(e,t,n,r.defaultEnhancer)}else if(fr(e))e.set(t,n);else if(hr(e))e.add(t);else{if(!ar(e))return f(!1);"number"!==typeof t&&(t=parseInt(t,10)),p(t>=0,"Not a valid index: '"+t+"'"),dt(),t>=e.length&&(e.length=t+1),e[t]=n,vt()}else{dt();var i=t;try{for(var a in i)Pn(e,a,i[a])}finally{vt()}}}function En(e,t){if(Pr(e))e.$mobx.remove(t);else if(fr(e))e.delete(t);else if(hr(e))e.delete(t);else{if(!ar(e))return f(!1);"number"!==typeof t&&(t=parseInt(t,10)),p(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}}function jn(e,t){if(Pr(e)){var n=jr(e);return n.getKeys(),!!n.values[t]}return fr(e)||hr(e)?e.has(t):ar(e)?t>=0&&t<e.length:f(!1)}function Tn(e,t){if(jn(e,t))return Pr(e)?e[t]:fr(e)?e.get(t):ar(e)?e[t]:f(!1)}function xn(e,t,n,r){return"function"===typeof n?Cn(e,t,n,r):In(e,t,n)}function In(e,t,n){return jr(e).observe(t,n)}function Cn(e,t,n,r){return jr(e,t).observe(n,r)}un.prototype=Object.create(Error.prototype);var Vn={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function kn(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Nn(e,t,n){if(!t.recurseEverything&&!wn(e))return e;if("object"!==typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Ze(e))return Nn(e.get(),t,n);wn(e)&&On(e);var r=!0===t.detectCycles;if(r&&null!==e&&n.has(e))return n.get(e);if(ar(e)||Array.isArray(e)){var o=kn(n,e,[],t),i=e.map((function(e){return Nn(e,t,n)}));o.length=i.length;for(var a=0,s=i.length;a<s;a++)o[a]=i[a];return o}if(hr(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var u=kn(n,e,new Set,t);return e.forEach((function(e){u.add(Nn(e,t,n))})),u}var c=kn(n,e,[],t);return e.forEach((function(e){c.push(Nn(e,t,n))})),c}if(fr(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var f=kn(n,e,new Map,t);return e.forEach((function(e,r){f.set(r,Nn(e,t,n))})),f}var p=kn(n,e,{},t);return e.forEach((function(e,r){p[r]=Nn(e,t,n)})),p}var l=kn(n,e,{},t);for(var h in e)l[h]=Nn(e[h],t,n);return l}function Dn(e,t){var n;return"boolean"===typeof t&&(t={detectCycles:t}),t||(t=Vn),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),Nn(e,t,n)}function Rn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"===typeof e[e.length-1]&&(n=e.pop());var r=Mn(e);if(!r)return f(!1);r.isTracing===we.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?we.BREAK:we.LOG}function Mn(e){switch(e.length){case 0:return it.trackingDerivation;case 1:return Er(e[0]);case 2:return Er(e[0],e[1])}}function Un(e,t){void 0===t&&(t=void 0),dt();try{return e.apply(t)}finally{vt()}}function Ln(e,t,n){return 1===arguments.length||t&&"object"===typeof t?Hn(e,t):zn(e,t,n||{})}function zn(e,t,n){var r;"number"===typeof n.timeout&&(r=setTimeout((function(){if(!i.$mobx.isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+c();var o=Fe(n.name+"-effect",t),i=Bt((function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())}),n);return i}function Hn(e,t){var n;var r=new Promise((function(r,o){var i=zn(e,r,q(q({},t),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function $n(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Fn(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),h((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Bn(e,t){var n=De();try{var r=e.interceptors;if(r)for(var o=0,i=r.length;o<i;o++)if(t=r[o](t),p(!t||t.type,"Intercept handlers should return nothing or a change object"),!t)break;return t}finally{Re(n)}}function Gn(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Wn(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),h((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function qn(e,t){var n=De(),r=e.changeListeners;if(r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](t);Re(n)}}var Jn=1e4,Kn=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)["0"]=1,!1===e}(),Yn=0,Xn=function(){function e(){}return e}();function Zn(e,t){"undefined"!==typeof Object["setPrototypeOf"]?Object["setPrototypeOf"](e.prototype,t):"undefined"!==typeof e.prototype.__proto__?e.prototype.__proto__=t:e["prototype"]=t}Zn(Xn,Array.prototype),Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(Xn.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var Qn=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new M(e||"ObservableArray@"+c()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Fn(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Wn(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!==typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>Yn&&or(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;Te(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:void 0===t||null===t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=i),$n(this)){var a=Bn(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!a)return i;t=a.removedCount,n=a.added}n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}));var s=n.length-t;this.updateArrayLength(o,s);var u=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,u),this.dehanceValues(u)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<Jn)return(r=this.values).splice.apply(r,K([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&It(),o=Gn(this),i=o||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&Vt(q(q({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&qn(this,i),r&&Nt()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&It(),o=Gn(this),i=o||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&Vt(q(q({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&qn(this,i),r&&Nt()},e}(),er=function(e){function t(t,n,r,o){void 0===r&&(r="ObservableArray@"+c()),void 0===o&&(o=!1);var i=e.call(this)||this,a=new Qn(r,n,i,o);if(_(i,"$mobx",a),t&&t.length){var s=Je(!0);i.spliceWithArray(0,0,t),Ke(s)}return Kn&&Object.defineProperty(a.array,"0",tr),i}return W(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return ar(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&l("The array.find fromIndex argument to find will not be supported anymore in the next major");var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&l("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");for(var r=this.peek(),o=r.length,i=n;i<o;i++)if(e.call(t,r[i],i,this))return i;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(l("observableArray.move is deprecated, use .slice() & .replace() instead"),n.call(this,e),n.call(this,t),e!==t){var r,o=this.$mobx.values;r=e<t?K(o.slice(0,e),o.slice(e+1,t+1),[o[e]],o.slice(t+1)):K(o.slice(0,t),[o[e]],o.slice(t,e),o.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){Te(n.atom);var o=r[e];if($n(n)){var i=Bn(n,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}t=n.enhancer(t,o);var a=t!==o;a&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(Xn);k(er.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return N({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(er.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),w(er.prototype,D(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];p("function"===typeof t,"Base function not defined on Array prototype: '"+e+"'"),w(er.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){var t=Array.prototype[e];p("function"===typeof t,"Base function not defined on Array prototype: '"+e+"'"),w(er.prototype,e,(function(t,n){var r=this,o=this.$mobx;o.atom.reportObserved();var i=o.dehanceValues(o.values);return i[e]((function(e,o){return t.call(n,e,o,r)}),n)}))})),["reduce","reduceRight"].forEach((function(e){w(er.prototype,e,(function(){var t=this,n=this.$mobx;n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,o,i){return o=n.dehanceValue(o),r(e,o,i,t)},n.values[e].apply(n.values,arguments)}))})),g(er.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var tr=nr(0);function nr(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function rr(e){Object.defineProperty(er.prototype,""+e,nr(e))}function or(e){for(var t=Yn;t<e;t++)rr(t);Yn=e}or(1e3);var ir=A("ObservableArrayAdministration",Qn);function ar(e){return y(e)&&ir(e.$mobx)}var sr={},ur=function(){function e(e,t,n){if(void 0===t&&(t=ne),void 0===n&&(n="ObservableMap@"+c()),this.enhancer=t,this.name=n,this.$mobx=sr,this._keysAtom=L(this.name+".keys()"),"function"!==typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!it.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Xe(this._has(e),oe,this.name+"."+cr(e)+"?",!1);this._hasMap.set(e,r),Yt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if($n(this)){var r=Bn(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(Te(this._keysAtom),$n(this)){var n=Bn(this,{type:"delete",object:this,name:e});if(!n)return!1}if(this._has(e)){var r=It(),o=Gn(this);n=o||r?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return r&&Vt(q(q({},n),{name:this.name,key:e})),Un((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1);var n=t._data.get(e);n.setNewValue(void 0),t._data.delete(e)})),o&&qn(this,n),r&&Nt(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if(t=n.prepareNewValue(t),t!==it.UNCHANGED){var r=It(),o=Gn(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&Vt(q(q({},i),{name:this.name,key:e})),n.setNewValue(t),o&&qn(this,i),r&&Nt()}},e.prototype._addValue=function(e,t){var n=this;Te(this._keysAtom),Un((function(){var r=new Xe(t,n.enhancer,n.name+"."+cr(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=It(),o=Gn(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;r&&Vt(q(q({},i),{name:this.name,key:e})),o&&qn(this,i),r&&Nt()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return N({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return N({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,e.get(o)]}}})},e.prototype.forEach=function(e,t){var n=this;this._keysAtom.reportObserved(),this._data.forEach((function(r,o){return e.call(t,n.get(o),o,n)}))},e.prototype.merge=function(e){var t=this;return fr(e)&&(e=e.toJS()),Un((function(){var n=Je(!0);try{b(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=J(e,2),r=n[0],o=n[1];return t.set(r,o)})):E(e)?e.constructor!==Map?f("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!==e&&void 0!==e&&f("Cannot initialize map from "+e)}finally{Ke(n)}})),this},e.prototype.clear=function(){var e=this;Un((function(){Ne((function(){e._data.forEach((function(t,n){return e.delete(n)}))}))}))},e.prototype.replace=function(e){var t=this;return Un((function(){var n=m(e),r=new Map,o=!1;if(C(t._data.keys(),(function(e){if(!n.has(e)){var i=t.delete(e);if(i)o=!0;else{var a=t._data.get(e);r.set(e,a)}}})),C(n.entries(),(function(e){var n=J(e,2),i=n[0],a=n[1],s=t._data.has(i);if(t.set(i,a),t._data.has(i)){var u=t._data.get(i);r.set(i,u),s||(o=!0)}})),!o)if(t._data.size!==r.size)t._keysAtom.reportChanged();else{var i=t._data.keys(),a=r.keys(),s=i.next(),u=a.next();while(!s.done){if(s.value!==u.value){t._keysAtom.reportChanged();break}s=i.next(),u=a.next()}}t._data=r})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(n,r){return t["symbol"===typeof r?r:cr(r)]=e.get(r)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+T(this.keys()).map((function(t){return cr(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Wn(this,e)},e.prototype.intercept=function(e){return Fn(this,e)},e}();function cr(e){return e&&e.toString?e.toString():new String(e).toString()}k(ur.prototype,(function(){return this.entries()})),_(ur.prototype,D(),"Map");var fr=A("ObservableMap",ur),pr={},lr=function(){function e(e,t,n){if(void 0===t&&(t=ne),void 0===n&&(n="ObservableSet@"+c()),this.name=n,this.$mobx=pr,this._data=new Set,this._atom=L(this.name),"function"!==typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Un((function(){Ne((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._atom.reportObserved(),this._data.forEach((function(r){e.call(t,r,r,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(Te(this._atom),$n(this)){var n=Bn(this,{type:"add",object:this,newValue:e});if(!n)return this}if(!this.has(e)){Un((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var r=It(),o=Gn(this);n=o||r?{type:"add",object:this,newValue:e}:null;0,o&&qn(this,n)}return this},e.prototype.delete=function(e){var t=this;if($n(this)){var n=Bn(this,{type:"delete",object:this,oldValue:e});if(!n)return!1}if(this.has(e)){var r=It(),o=Gn(this);n=o||r?{type:"delete",object:this,oldValue:e}:null;return Un((function(){t._atom.reportChanged(),t._data.delete(e)})),o&&qn(this,n),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=T(this.keys()),n=T(this.values());return N({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=T(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),N({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return hr(e)&&(e=e.toJS()),Un((function(){var n=Je(!0);try{Array.isArray(e)||j(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&f("Cannot initialize set from "+e)}finally{Ke(n)}})),this},e.prototype.observe=function(e,t){return Wn(this,e)},e.prototype.intercept=function(e){return Fn(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+T(this.keys()).join(", ")+" ]"},e}();k(lr.prototype,(function(){return this.values()})),_(lr.prototype,D(),"Set");var hr=A("ObservableSet",lr),dr=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var r=this.target;r!==e&&this.illegalAccess(e,t);var o=this.values[t];if(o instanceof Qe)o.set(n);else{if($n(this)){var i=Bn(this,{type:"update",object:r,name:t,newValue:n});if(!i)return;n=i.newValue}if(n=o.prepareNewValue(n),n!==it.UNCHANGED){var a=Gn(this),s=It();i=a||s?{type:"update",object:r,oldValue:o.value,name:t,newValue:n}:null;s&&Vt(q(q({},i),{name:this.name,key:t})),o.setNewValue(n),a&&qn(this,i),s&&Nt()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if($n(this)){var n=Bn(this,{object:t,name:e,type:"remove"});if(!n)return}try{dt();var r=Gn(this),o=It(),i=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];n=r||o?{type:"remove",object:t,oldValue:i,name:e}:null;o&&Vt(q(q({},n),{name:this.name,key:e})),r&&qn(this,n),o&&Nt()}finally{vt()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Wn(this,e)},e.prototype.intercept=function(e){return Fn(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new er(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Xe})),oe,"keys("+this.name+")",!0)),this.keys.slice()},e}();function vr(e,t,n){void 0===t&&(t=""),void 0===n&&(n=ne);var r=e.$mobx;return r||(b(e)||(t=(e.constructor.name||"ObservableObject")+"@"+c()),t||(t="ObservableObject@"+c()),r=new dr(e,t,n),_(e,"$mobx",r),r)}function yr(e,t,n,r){var o=vr(e);if(O(e,t),$n(o)){var i=Bn(o,{object:e,name:t,type:"add",newValue:n});if(!i)return;n=i.newValue}var a=o.values[t]=new Xe(n,r,o.name+"."+t,!1);n=a.value,Object.defineProperty(e,t,wr(t)),o.keys&&o.keys.push(t),Ar(o,e,t,n)}function br(e,t,n){var r=vr(e);n.name=r.name+"."+t,n.context=e,r.values[t]=new Qe(n),Object.defineProperty(e,t,Or(t))}var mr=Object.create(null),gr=Object.create(null);function wr(e){return mr[e]||(mr[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}function _r(e){var t=e.$mobx;return t||(Q(e),e.$mobx)}function Or(e){return gr[e]||(gr[e]={configurable:it.computedConfigurable,enumerable:!1,get:function(){return _r(this).read(this,e)},set:function(t){_r(this).write(this,e,t)}})}function Ar(e,t,n,r){var o=Gn(e),i=It(),a=o||i?{type:"add",object:t,name:n,newValue:r}:null;i&&Vt(q(q({},a),{name:e.name,key:n})),o&&qn(e,a),i&&Nt()}var Sr=A("ObservableObjectAdministration",dr);function Pr(e){return!!y(e)&&(Q(e),Sr(e.$mobx))}function Er(e,t){if("object"===typeof e&&null!==e){if(ar(e))return void 0!==t&&f(!1),e.$mobx.atom;if(hr(e))return e.$mobx;if(fr(e)){var n=e;if(void 0===t)return n._keysAtom;var r=n._data.get(t)||n._hasMap.get(t);return r||f(!1),r}if(Q(e),t&&!e.$mobx&&e[t],Pr(e)){if(!t)return f(!1);r=e.$mobx.values[t];return r||f(!1),r}if(U(e)||et(e)||Tt(e))return e}else if("function"===typeof e&&Tt(e.$mobx))return e.$mobx;return f(!1)}function jr(e,t){return e||f("Expecting some object"),void 0!==t?jr(Er(e,t)):U(e)||et(e)||Tt(e)||fr(e)||hr(e)?e:(Q(e),e.$mobx?e.$mobx:void f(!1))}function Tr(e,t){var n;return n=void 0!==t?Er(e,t):Pr(e)||fr(e)||hr(e)?jr(e):Er(e),n.name}var xr=Object.prototype.toString;function Ir(e,t,n){return void 0===n&&(n=-1),Cr(e,t,n)}function Cr(e,t,n,r,o){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;e=Vr(e),t=Vr(t);var a=xr.call(e);if(a!==xr.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!("function"===typeof u&&u instanceof u&&"function"===typeof c&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[],o=o||[];var f=r.length;while(f--)if(r[f]===e)return o[f]===t;if(r.push(e),o.push(t),s){if(f=e.length,f!==t.length)return!1;while(f--)if(!Cr(e[f],t[f],n-1,r,o))return!1}else{var p=Object.keys(e),l=void 0;if(f=p.length,Object.keys(t).length!==f)return!1;while(f--)if(l=p[f],!kr(t,l)||!Cr(e[l],t[l],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function Vr(e){return ar(e)?e.peek():E(e)||fr(e)||j(e)||hr(e)?T(e.entries()):e}function kr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(function(){function e(){}e.name})();var Nr="$mobx";"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Dt,extras:{getDebugName:Tr},$mobx:Nr})}.call(this,n("c8ba"),n("4362"))},f7d3:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"addDisposer",(function(){return J})),n.d(t,"addMiddleware",(function(){return ke})),n.d(t,"applyAction",(function(){return Oe})),n.d(t,"applyPatch",(function(){return O})),n.d(t,"applySnapshot",(function(){return j})),n.d(t,"cast",(function(){return Q})),n.d(t,"castFlowReturn",(function(){return Jt})),n.d(t,"castToReferenceSnapshot",(function(){return te})),n.d(t,"castToSnapshot",(function(){return ee})),n.d(t,"clone",(function(){return B})),n.d(t,"createActionTrackingMiddleware",(function(){return ye})),n.d(t,"createActionTrackingMiddleware2",(function(){return me})),n.d(t,"decorate",(function(){return Ne})),n.d(t,"destroy",(function(){return W})),n.d(t,"detach",(function(){return G})),n.d(t,"escapeJsonPath",(function(){return nn})),n.d(t,"flow",(function(){return qt})),n.d(t,"getChildType",(function(){return g})),n.d(t,"getEnv",(function(){return K})),n.d(t,"getIdentifier",(function(){return L})),n.d(t,"getLivelinessChecking",(function(){return s})),n.d(t,"getMembers",(function(){return Z})),n.d(t,"getNodeId",(function(){return ne})),n.d(t,"getParent",(function(){return I})),n.d(t,"getParentOfType",(function(){return V})),n.d(t,"getPath",(function(){return N})),n.d(t,"getPathParts",(function(){return D})),n.d(t,"getPropertyMembers",(function(){return X})),n.d(t,"getRelativePath",(function(){return F})),n.d(t,"getRoot",(function(){return k})),n.d(t,"getRunningActionContext",(function(){return Me})),n.d(t,"getSnapshot",(function(){return T})),n.d(t,"getType",(function(){return m})),n.d(t,"hasParent",(function(){return x})),n.d(t,"hasParentOfType",(function(){return C})),n.d(t,"isActionContextChildOf",(function(){return Le})),n.d(t,"isActionContextThisOrChildOf",(function(){return ze})),n.d(t,"isAlive",(function(){return q})),n.d(t,"isArrayType",(function(){return On})),n.d(t,"isFrozenType",(function(){return dr})),n.d(t,"isIdentifierType",(function(){return xr})),n.d(t,"isLateType",(function(){return fr})),n.d(t,"isLiteralType",(function(){return Gn})),n.d(t,"isMapType",(function(){return yn})),n.d(t,"isModelType",(function(){return Cn})),n.d(t,"isOptionalType",(function(){return rr})),n.d(t,"isPrimitiveType",(function(){return $n})),n.d(t,"isProtected",(function(){return E})),n.d(t,"isReferenceType",(function(){return Or})),n.d(t,"isRefinementType",(function(){return Jn})),n.d(t,"isRoot",(function(){return R})),n.d(t,"isStateTreeNode",(function(){return ot})),n.d(t,"isType",(function(){return he})),n.d(t,"isUnionType",(function(){return Zn})),n.d(t,"isValidReference",(function(){return H})),n.d(t,"joinJsonPath",(function(){return on})),n.d(t,"onAction",(function(){return Pe})),n.d(t,"onPatch",(function(){return w})),n.d(t,"onSnapshot",(function(){return _})),n.d(t,"process",(function(){return vt})),n.d(t,"protect",(function(){return S})),n.d(t,"recordActions",(function(){return Se})),n.d(t,"recordPatches",(function(){return A})),n.d(t,"resolveIdentifier",(function(){return U})),n.d(t,"resolvePath",(function(){return M})),n.d(t,"setLivelinessChecking",(function(){return a})),n.d(t,"setLivelynessChecking",(function(){return u})),n.d(t,"splitJsonPath",(function(){return an})),n.d(t,"toGenerator",(function(){return Yt})),n.d(t,"toGeneratorFunction",(function(){return Kt})),n.d(t,"tryReference",(function(){return z})),n.d(t,"tryResolve",(function(){return $})),n.d(t,"typecheck",(function(){return Ye})),n.d(t,"types",(function(){return Dr})),n.d(t,"unescapeJsonPath",(function(){return rn})),n.d(t,"unprotect",(function(){return P})),n.d(t,"walk",(function(){return Y}));var r,o=n("daf9"),i="warn";function a(e){i=e}function s(){return i}function u(e){a(e)}(function(e){e["afterCreate"]="afterCreate",e["afterAttach"]="afterAttach",e["afterCreationFinalization"]="afterCreationFinalization",e["beforeDetach"]="beforeDetach",e["beforeDestroy"]="beforeDestroy"})(r||(r={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},c(e,t)};function f(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)};function l(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function h(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function v(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function m(e){return it(e,1),at(e).type}function g(e,t){return it(e,1),at(e).getChildType(t)}function w(e,t){return it(e,1),Ft(t,2),at(e).onPatch(t)}function _(e,t){return it(e,1),Ft(t,2),at(e).onSnapshot(t)}function O(e,t){it(e,1),$t(t,(function(e){return"object"===typeof e}),"object or array",2),at(e).applyPatches(At(t))}function A(e,t){it(e,1);var n,r={patches:[],reversedInversePatches:[]},o={},i={get recording(){return!!n},get patches(){return o.patches||(o.patches=r.patches.slice()),o.patches},get reversedInversePatches(){return o.reversedInversePatches||(o.reversedInversePatches=r.reversedInversePatches.slice()),o.reversedInversePatches},get inversePatches(){return o.inversePatches||(o.inversePatches=r.reversedInversePatches.slice().reverse()),o.inversePatches},stop:function(){n&&(n(),n=void 0)},resume:function(){n||(n=w(e,(function(e,n){t&&!t(e,n,Me())||(r.patches.push(e),r.reversedInversePatches.unshift(n),o.patches=void 0,o.inversePatches=void 0,o.reversedInversePatches=void 0)})))},replay:function(t){O(t||e,r.patches)},undo:function(t){O(t||e,r.reversedInversePatches)}};return i.resume(),i}function S(e){it(e,1);var t=at(e);if(!t.isRoot)throw gt("`protect` can only be invoked on root nodes");t.isProtectionEnabled=!0}function P(e){it(e,1);var t=at(e);if(!t.isRoot)throw gt("`unprotect` can only be invoked on root nodes");t.isProtectionEnabled=!1}function E(e){return at(e).isProtected}function j(e,t){return it(e,1),at(e).applySnapshot(t)}function T(e,t){void 0===t&&(t=!0),it(e,1);var n=at(e);return t?n.snapshot:Tt(n.type.getSnapshot(n,!1))}function x(e,t){void 0===t&&(t=1),it(e,1),Bt(t,2,0);var n=at(e).parent;while(n){if(0===--t)return!0;n=n.parent}return!1}function I(e,t){void 0===t&&(t=1),it(e,1),Bt(t,2,0);var n=t,r=at(e).parent;while(r){if(0===--n)return r.storedValue;r=r.parent}throw gt("Failed to find the parent of "+at(e)+" at depth "+t)}function C(e,t){it(e,1),de(t,2);var n=at(e).parent;while(n){if(t.is(n.storedValue))return!0;n=n.parent}return!1}function V(e,t){it(e,1),de(t,2);var n=at(e).parent;while(n){if(t.is(n.storedValue))return n.storedValue;n=n.parent}throw gt("Failed to find the parent of "+at(e)+" of a given type")}function k(e){return it(e,1),at(e).root.storedValue}function N(e){return it(e,1),at(e).path}function D(e){return it(e,1),an(at(e).path)}function R(e){return it(e,1),at(e).isRoot}function M(e,t){it(e,1),Gt(t,2);var n=pt(at(e),t);return n?n.value:void 0}function U(e,t,n){de(e,1),it(t,2),Vr(n,3);var r=at(t).root.identifierCache.resolve(e,Ir(n));return r?r.value:void 0}function L(e){return it(e,1),at(e).identifier}function z(e,t){void 0===t&&(t=!0);try{var n=e();if(void 0===n||null===n)return;if(ot(n))return t?q(n)?n:void 0:n;throw gt("The reference to be checked is not one of node, null or undefined")}catch(r){if(r instanceof br)return;throw r}}function H(e,t){void 0===t&&(t=!0);try{var n=e();if(void 0===n||null===n)return!1;if(ot(n))return!t||q(n);throw gt("The reference to be checked is not one of node, null or undefined")}catch(r){if(r instanceof br)return!1;throw r}}function $(e,t){it(e,1),Gt(t,2);var n=pt(at(e),t,!1);if(void 0!==n)try{return n.value}catch(r){return}}function F(e,t){return it(e,1),it(t,2),ft(at(e),at(t))}function B(e,t){void 0===t&&(t=!0),it(e,1);var n=at(e);return n.type.create(n.snapshot,!0===t?n.root.environment:!1===t?void 0:t)}function G(e){return it(e,1),at(e).detach(),e}function W(e){it(e,1);var t=at(e);t.isRoot?t.die():t.parent.removeChild(t.subpath)}function q(e){return it(e,1),at(e).observableIsAlive}function J(e,t){it(e,1),Ft(t,2);var n=at(e);return n.addDisposer(t),t}function K(e){it(e,1);var t=at(e),n=t.root.environment;return n||bt}function Y(e,t){it(e,1),Ft(t,2);var n=at(e);n.getChildren().forEach((function(e){ot(e.storedValue)&&Y(e.storedValue,t)})),t(n.storedValue)}function X(e){var t;return t=ot(e)?m(e):e,$t(t,(function(e){return Cn(e)}),"model type or model instance",1),{name:t.name,properties:p({},t.properties)}}function Z(e){var t=at(e).type,n=p(p({},X(t)),{actions:[],volatile:[],views:[]}),r=Object.getOwnPropertyNames(e);return r.forEach((function(t){if(!(t in n.properties)){var r=Object.getOwnPropertyDescriptor(e,t);r.get?Object(o["isComputedProp"])(e,t)?n.views.push(t):n.volatile.push(t):!0===r.value._isMSTAction?n.actions.push(t):Object(o["isObservableProp"])(e,t)?n.volatile.push(t):n.views.push(t)}})),n}function Q(e){return e}function ee(e){return e}function te(e){return e}function ne(e){return it(e,1),at(e).nodeId}var re,oe=function(){function e(e,t,n,r){this.type=e,this.environment=r,this._state=Ze.INITIALIZING,this.environment=r,this.baseSetParent(t,n)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var n=this.isAlive;this.aliveAtom&&t!==n&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),e.prototype.fireInternalHook=function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)},e.prototype.registerHook=function(e,t){return this._hookSubscribers||(this._hookSubscribers=new Nt),this._hookSubscribers.register(e,t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),e.prototype.baseSetParent=function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()},Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),e.prototype.getEscapedPath=function(e){return e&&(this.pathAtom||(this.pathAtom=Object(o["createAtom"])("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?nn(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""},Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==Ze.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===Ze.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=Object(o["createAtom"])("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),e.prototype.baseFinalizeCreation=function(e){if(Ht()&&!this.isAlive)throw fail("assertion failed: cannot finalize the creation of a node that is already dead");if(this.state===Ze.CREATED){if(this.parent){if(this.parent.state!==Ze.FINALIZED)return;this.fireHook(r.afterAttach)}this.state=Ze.FINALIZED,e&&e()}},e.prototype.baseFinalizeDeath=function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=Ze.DEAD},e.prototype.baseAboutToDie=function(){this.fireHook(r.beforeDestroy)},e}(),ie=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;try{a.storedValue=t.createNewInstance(i)}catch(s){throw a.state=Ze.DEAD,s}return a.state=Ze.CREATED,a.finalizeCreation(),a}return f(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw gt("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),t.prototype.setParent=function(e,t){var n=this.parent!==e,r=this.subpath!==t;if(n||r){if(Ht()){if(!t)throw gt("assertion failed: subpath expected");if(!e)throw gt("assertion failed: parent expected");if(n)throw gt("assertion failed: scalar nodes cannot change their parent")}this.environment=void 0,this.baseSetParent(this.parent,t)}},Object.defineProperty(t.prototype,"snapshot",{get:function(){return Tt(this.getSnapshot())},enumerable:!1,configurable:!0}),t.prototype.getSnapshot=function(){return this.type.getSnapshot(this)},t.prototype.toString=function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")},t.prototype.die=function(){this.isAlive&&this.state!==Ze.DETACHING&&(this.aboutToDie(),this.finalizeDeath())},t.prototype.finalizeCreation=function(){this.baseFinalizeCreation()},t.prototype.aboutToDie=function(){this.baseAboutToDie()},t.prototype.finalizeDeath=function(){this.baseFinalizeDeath()},t.prototype.fireHook=function(e){this.fireInternalHook(e)},h([o["action"]],t.prototype,"die",null),t}(oe),ae=1,se={onError:function(e){throw e}},ue=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;if(a.nodeId=++ae,a.isProtectionEnabled=!0,a._autoUnbox=!0,a._isRunningAction=!1,a._hasSnapshotReaction=!1,a._observableInstanceState=0,a._cachedInitialSnapshotCreated=!1,a.unbox=a.unbox.bind(a),a._initialSnapshot=Tt(i),a.identifierAttribute=t.identifierAttribute,n||(a.identifierCache=new et),a._childNodes=t.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var s=a._initialSnapshot[a.identifierAttribute];if(void 0===s){var u=a._childNodes[a.identifierAttribute];u&&(s=u.value)}if("string"!==typeof s&&"number"!==typeof s)throw gt("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number");a.identifier=Ir(s),a.unnormalizedIdentifier=s}return n?n.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}return f(t,e),t.prototype.applyPatches=function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)},t.prototype.applySnapshot=function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)},t.prototype.createObservableInstanceIfNeeded=function(){0===this._observableInstanceState&&this.createObservableInstance()},t.prototype.createObservableInstance=function(){var e,t;if(Ht()&&this.state!==Ze.INITIALIZING)throw gt("assertion failed: the creation of the observable instance must be done on the initializing phase");this._observableInstanceState=1;var n=[],o=this.parent;while(o&&0===o._observableInstanceState)n.unshift(o),o=o.parent;try{for(var i=v(n),a=i.next();!a.done;a=i.next()){var s=a.value;s.createObservableInstanceIfNeeded()}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var u=this.type;try{this.storedValue=u.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,u.finalizeNewInstance(this,this.storedValue)}catch(f){throw this.state=Ze.DEAD,f}finally{this._isRunningAction=!1}this._observableInstanceState=2,Rt(this,"snapshot"),this.isRoot&&this._addSnapshotReaction(),this._childNodes=bt,this.state=Ze.CREATED,this.fireHook(r.afterCreate),this.finalizeCreation()},Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),t.prototype.clearParent=function(){if(this.parent){this.fireHook(r.beforeDetach);var e=this.state;this.state=Ze.DETACHING;var t=this.root,n=t.environment,o=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=o}finally{this.state=e}}},t.prototype.setParent=function(e,t){var n=e!==this.parent,o=t!==this.subpath;if(n||o){if(Ht()){if(!t)throw gt("assertion failed: subpath expected");if(!e)throw gt("assertion failed: new parent expected");if(this.parent&&n)throw gt("A node cannot exists twice in the state tree. Failed to add "+this+" to path '"+e.path+"/"+t+"'.");if(!this.parent&&e.root===this)throw gt("A state tree is not allowed to contain itself. Cannot assign "+this+" to path '"+e.path+"/"+t+"'");if(!this.parent&&this.environment&&this.environment!==e.root.environment)throw gt("A state tree cannot be made part of another state tree as long as their environments are different.")}n?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(r.afterAttach)):o&&this.baseSetParent(this.parent,t)}},t.prototype.fireHook=function(e){var t=this;this.fireInternalHook(e);var n=this.storedValue&&"object"===typeof this.storedValue&&this.storedValue[e];"function"===typeof n&&(o["_allowStateChangesInsideComputed"]?Object(o["_allowStateChangesInsideComputed"])((function(){n.apply(t.storedValue)})):n.apply(this.storedValue))},Object.defineProperty(t.prototype,"snapshot",{get:function(){return Tt(this.getSnapshot())},enumerable:!1,configurable:!0}),t.prototype.getSnapshot=function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath},t.prototype._getActualSnapshot=function(){return this.type.getSnapshot(this)},t.prototype._getCachedInitialSnapshot=function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,n=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,n),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot},t.prototype.isRunningAction=function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()},t.prototype.assertAlive=function(e){var t=s();if(!this.isAlive&&"ignore"!==t){var n=this._getAssertAliveError(e);switch(t){case"error":throw gt(n);case"warn":Lt(n)}}},t.prototype._getAssertAliveError=function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",n=e.subpath&&nn(e.subpath)||"",r=e.actionContext||Te();r&&"action"!==r.type&&r.parentActionEvent&&(r=r.parentActionEvent);var o="";if(r&&null!=r.name){var i=r&&r.context&&N(r.context)||t;o=i+"."+r.name+"()"}return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+n+"', Action: '"+o+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."},t.prototype.getChildNode=function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}},t.prototype.getChildren=function(){this.assertAlive(bt),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):ht(this._childNodes)}finally{this._autoUnbox=!0}},t.prototype.getChildType=function(e){return this.type.getChildType(e)},Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),t.prototype.assertWritable=function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw gt("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")},t.prototype.removeChild=function(e){this.type.removeChild(this,e)},t.prototype.unbox=function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e},t.prototype.toString=function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")},t.prototype.finalizeCreation=function(){var e=this;this.baseFinalizeCreation((function(){var t,n;try{for(var o=v(e.getChildren()),i=o.next();!i.done;i=o.next()){var a=i.value;a.finalizeCreation()}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e.fireInternalHook(r.afterCreationFinalization)}))},t.prototype.detach=function(){if(!this.isAlive)throw gt("Error while detaching, node is not alive.");this.clearParent()},t.prototype.preboot=function(){var e=this;this._applyPatches=Ve(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){var n=an(t.path),r=lt(e,n.slice(0,-1));r.applyPatchLocally(n[n.length-1],t)}))})),this._applySnapshot=Ve(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),Ct(this.storedValue,"$treenode",this),Ct(this.storedValue,"toJSON",ut)},t.prototype.die=function(){this.isAlive&&this.state!==Ze.DETACHING&&(this.aboutToDie(),this.finalizeDeath())},t.prototype.aboutToDie=function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))},t.prototype.finalizeDeath=function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()},t.prototype.onSnapshot=function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)},t.prototype.emitSnapshot=function(e){this._internalEventsEmit("snapshot",e)},t.prototype.onPatch=function(e){return this._internalEventsRegister("patch",e)},t.prototype.emitPatch=function(e,t){if(this._internalEventsHasSubscribers("patch")){var n=St({},e,{path:t.path.substr(this.path.length)+"/"+e.path}),r=y(Zt(n),2),o=r[0],i=r[1];this._internalEventsEmit("patch",o,i)}this.parent&&this.parent.emitPatch(e,t)},t.prototype.hasDisposer=function(e){return this._internalEventsHas("dispose",e)},t.prototype.addDisposer=function(e){if(this.hasDisposer(e))throw gt("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)},t.prototype.removeDisposer=function(e){if(!this._internalEventsHas("dispose",e))throw gt("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)},t.prototype.removeMiddleware=function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}},t.prototype.addMiddleWare=function(e,t){var n=this;void 0===t&&(t=!0);var r={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(r):this.middlewares=[r],function(){n.removeMiddleware(r)}},t.prototype.applyPatchLocally=function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)},t.prototype._addSnapshotReaction=function(){var e=this;if(!this._hasSnapshotReaction){var t=Object(o["reaction"])((function(){return e.snapshot}),(function(t){return e.emitSnapshot(t)}),se);this.addDisposer(t),this._hasSnapshotReaction=!0}},t.prototype._internalEventsHasSubscribers=function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)},t.prototype._internalEventsRegister=function(e,t,n){return void 0===n&&(n=!1),this._internalEvents||(this._internalEvents=new Nt),this._internalEvents.register(e,t,n)},t.prototype._internalEventsHas=function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)},t.prototype._internalEventsUnregister=function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)},t.prototype._internalEventsEmit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._internalEvents&&(t=this._internalEvents).emit.apply(t,b([e],n))},t.prototype._internalEventsClear=function(e){this._internalEvents&&this._internalEvents.clear(e)},t.prototype._internalEventsClearAll=function(){this._internalEvents&&this._internalEvents.clearAll()},h([o["action"]],t.prototype,"createObservableInstance",null),h([o["computed"]],t.prototype,"snapshot",null),h([o["action"]],t.prototype,"detach",null),h([o["action"]],t.prototype,"die",null),t}(oe);(function(e){e[e["String"]=1]="String",e[e["Number"]=2]="Number",e[e["Boolean"]=4]="Boolean",e[e["Date"]=8]="Date",e[e["Literal"]=16]="Literal",e[e["Array"]=32]="Array",e[e["Map"]=64]="Map",e[e["Object"]=128]="Object",e[e["Frozen"]=256]="Frozen",e[e["Optional"]=512]="Optional",e[e["Reference"]=1024]="Reference",e[e["Identifier"]=2048]="Identifier",e[e["Late"]=4096]="Late",e[e["Refinement"]=8192]="Refinement",e[e["Union"]=16384]="Union",e[e["Null"]=32768]="Null",e[e["Undefined"]=65536]="Undefined",e[e["Integer"]=131072]="Integer",e[e["Custom"]=262144]="Custom",e[e["SnapshotProcessor"]=524288]="SnapshotProcessor"})(re||(re={}));var ce="cannotDetermine",fe=function(){function e(e){this.isType=!0,this.name=e}return e.prototype.create=function(e,t){return Ke(this,e),this.instantiate(null,"",t,e).value},e.prototype.getSnapshot=function(e,t){throw gt("unimplemented method")},e.prototype.isAssignableFrom=function(e){return e===this},e.prototype.validate=function(e,t){var n=st(e);if(n){var r=m(e);return this.isAssignableFrom(r)?We():qe(t,e)}return this.isValidSnapshot(e,t)},e.prototype.is=function(e){return 0===this.validate(e,[{path:"",type:this}]).length},Object.defineProperty(e.prototype,"Type",{get:function(){throw gt("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw gt("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw gt("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw gt("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),h([o["action"]],e.prototype,"create",null),e}(),pe=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.create=function(t,n){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,n)},t.prototype.getValue=function(e){return e.createObservableInstanceIfNeeded(),e.storedValue},t.prototype.tryToReconcileNode=function(e,t){return!e.isDetaching&&(e.snapshot===t||(!(!ot(t)||at(t)!==e)||!(e.type!==this||!Et(t)||ot(t)||e.identifierAttribute&&e.identifier!==Ir(t[e.identifierAttribute]))&&(e.applySnapshot(t),!0)))},t.prototype.reconcile=function(e,t,n,r){var o=this.tryToReconcileNode(e,t);if(o)return e.setParent(n,r),e;if(e.die(),ot(t)&&this.isAssignableFrom(m(t))){var i=at(t);return i.setParent(n,r),i}return this.instantiate(n,r,void 0,t)},t.prototype.getSubTypes=function(){return null},h([o["action"]],t.prototype,"create",null),t}(fe),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.createNewInstance=function(e){return e},t.prototype.getValue=function(e){return e.storedValue},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.reconcile=function(e,t,n,r){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var o=this.instantiate(n,r,void 0,t);return e.die(),o},t.prototype.getSubTypes=function(){return null},t}(fe);function he(e){return"object"===typeof e&&e&&!0===e.isType}function de(e,t){$t(e,he,"mobx-state-tree type",t)}var ve=new Map;function ye(e){return function(t,n,r){switch(t.type){case"action":if(e.filter&&!0!==e.filter(t))return n(t);var o=e.onStart(t);e.onResume(t,o),ve.set(t.id,{call:t,context:o,async:!1});try{var i=n(t);return e.onSuspend(t,o),!1===ve.get(t.id).async&&(ve.delete(t.id),e.onSuccess(t,o,i)),i}catch(s){throw ve.delete(t.id),e.onFail(t,o,s),s}case"flow_spawn":var a=ve.get(t.rootId);return a.async=!0,n(t);case"flow_resume":case"flow_resume_error":a=ve.get(t.rootId);e.onResume(t,a.context);try{return n(t)}finally{e.onSuspend(t,a.context)}case"flow_throw":a=ve.get(t.rootId);return ve.delete(t.rootId),e.onFail(t,a.context,t.args[0]),n(t);case"flow_return":a=ve.get(t.rootId);return ve.delete(t.rootId),e.onSuccess(t,a.context,t.args[0]),n(t)}}}var be=function(){function e(e,t){this.hooks=e,this.call=t,this.flowsPending=0,this.running=!0,e&&e.onStart(t)}return e.prototype.finish=function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))},e.prototype.incFlowsPending=function(){this.flowsPending++},e.prototype.decFlowsPending=function(){this.flowsPending--},Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0}),e}();function me(e){var t=new WeakMap;return function(n,r){var o=n.parentActionEvent?t.get(n.parentActionEvent):void 0;if("action"===n.type){var i=p(p({},n),{env:o&&o.call.env,parentCall:o&&o.call}),a=!e.filter||e.filter(i),s=a?e:void 0,u=new be(s,i);t.set(n,u);var c=void 0;try{c=r(n)}catch(l){throw u.finish(l),l}return u.hasFlowsPending||u.finish(),c}if(!o)return r(n);switch(n.type){case"flow_spawn":return o.incFlowsPending(),r(n);case"flow_resume":case"flow_resume_error":return r(n);case"flow_throw":var f=n.args[0];try{return r(n)}finally{o.decFlowsPending(),o.hasFlowsPending||o.finish(f)}case"flow_return":try{return r(n)}finally{o.decFlowsPending(),o.hasFlowsPending||o.finish()}}}}function ge(e,t,n,r){if(r instanceof Date)return{$MST_DATE:r.getTime()};if(jt(r))return r;if(ot(r))return _e("[MSTNode: "+m(r).name+"]");if("function"===typeof r)return _e("[function]");if("object"===typeof r&&!Pt(r)&&!Ot(r))return _e("[object "+(r&&r.constructor&&r.constructor.name||"Complex Object")+"]");try{return JSON.stringify(r),r}catch(o){return _e(""+o)}}function we(e,t){return t&&"object"===typeof t&&"$MST_DATE"in t?new Date(t["$MST_DATE"]):t}function _e(e){return{$MST_UNSERIALIZABLE:!0,type:e}}function Oe(e,t){it(e,1),$t(t,(function(e){return"object"===typeof e}),"object or array",2),Object(o["runInAction"])((function(){At(t).forEach((function(t){return Ae(e,t)}))}))}function Ae(e,t){var n=$(e,t.path||"");if(!n)throw gt("Invalid action path: "+(t.path||""));var r=at(n);if("@APPLY_PATCHES"===t.name)return O.call(null,n,t.args[0]);if("@APPLY_SNAPSHOT"===t.name)return j.call(null,n,t.args[0]);if("function"!==typeof n[t.name])throw gt("Action '"+t.name+"' does not exist in '"+r.path+"'");return n[t.name].apply(n,t.args?t.args.map((function(e){return we(r,e)})):[])}function Se(e,t){it(e,1);var n,r=[],o=function(e){var n=!t||t(e,Me());n&&r.push(e)},i={actions:r,get recording(){return!!n},stop:function(){n&&(n(),n=void 0)},resume:function(){n||(n=Pe(e,o))},replay:function(e){Oe(e,r)}};return i.resume(),i}function Pe(e,t,n){return void 0===n&&(n=!1),it(e,1),Ht()&&(R(e)||Lt("Warning: Attaching onAction listeners to non root nodes is dangerous: No events will be emitted for actions initiated higher up in the tree."),E(e)||Lt("Warning: Attaching onAction listeners to non protected nodes is dangerous: No events will be emitted for direct modifications without action.")),ke(e,(function(r,o){if("action"===r.type&&r.id===r.rootId){var i=at(r.context),a={name:r.name,path:ft(at(e),i),args:r.args.map((function(e,t){return ge(i,r.name,t,e)}))};if(n){var s=o(r);return t(a),s}return t(a),o(r)}return o(r)}))}var Ee,je=1;function Te(){return Ee}function xe(){return je++}function Ie(e,t){var n=at(e.context);"action"===e.type&&n.assertAlive({actionContext:e});var r=n._isRunningAction;n._isRunningAction=!0;var o=Ee;Ee=e;try{return Re(n,e,t)}finally{Ee=o,n._isRunningAction=r}}function Ce(e){if(e)return"action"===e.type?e:e.parentActionEvent}function Ve(e,t,n){var r=function(){var r=xe(),o=Ee,i=Ce(o);return Ie({type:"action",name:t,id:r,args:Dt(arguments),context:e,tree:k(e),rootId:o?o.rootId:r,parentId:o?o.id:0,allParentIds:o?b(o.allParentIds,[o.id]):[],parentEvent:o,parentActionEvent:i},n)};return r._isMSTAction=!0,r}function ke(e,t,n){void 0===n&&(n=!0);var r=at(e);return Ht()&&(r.isProtectionEnabled||Lt("It is recommended to protect the state tree before attaching action middleware, as otherwise it cannot be guaranteed that all changes are passed through middleware. See `protect`")),r.addMiddleWare(t,n)}function Ne(e,t,n){void 0===n&&(n=!0);var r={handler:e,includeHooks:n};return t.$mst_middleware=t.$mst_middleware||[],t.$mst_middleware.push(r),t}var De=function(){function e(e,t){this.arrayIndex=0,this.inArrayIndex=0,this.middlewares=[],t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);var n=e;while(n)n.middlewares&&this.middlewares.push(n.middlewares),n=n.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),e.prototype.getNextMiddleware=function(){var e=this.middlewares[this.arrayIndex];if(e){var t=e[this.inArrayIndex++];return t||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}},e}();function Re(e,t,n){var i=new De(e,n);if(i.isEmpty)return Object(o["action"])(n).apply(null,t.args);var a=null;function s(e){var t=i.getNextMiddleware(),u=t&&t.handler;if(!u)return Object(o["action"])(n).apply(null,e.args);if(!t.includeHooks&&r[e.name])return s(e);var c=!1;function f(e,t){c=!0,a=s(e),t&&(a=t(a))}var p=!1;function l(e){p=!0,a=e}if(u(e,f,l),Ht()){if(!c&&!p){var h=at(e.tree);throw gt("Neither the next() nor the abort() callback within the middleware "+u.name+' for the action: "'+e.name+'" on the node: '+h.type.name+" was invoked.")}if(c&&p){h=at(e.tree);throw gt("The next() and abort() callback within the middleware "+u.name+' for the action: "'+e.name+'" on the node: '+h.type.name+" were invoked.")}}return a}return s(t)}function Me(){var e=Te();while(e&&"action"!==e.type)e=e.parentActionEvent;return e}function Ue(e,t,n){var r="number"===typeof t?t:t.id,o=n?e:e.parentActionEvent;while(o){if(o.id===r)return!0;o=o.parentActionEvent}return!1}function Le(e,t){return Ue(e,t,!1)}function ze(e,t){return Ue(e,t,!0)}function He(e){try{return JSON.stringify(e)}catch(t){return"<Unserializable: "+t+">"}}function $e(e){return"function"===typeof e?"<function"+(e.name?" "+e.name:"")+">":ot(e)?"<"+e+">":"`"+He(e)+"`"}function Fe(e){return e.length<280?e:e.substring(0,272)+"......"+e.substring(e.length-8)}function Be(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map((function(e){var t=e.path;return t})).filter((function(e){return e.length>0})).join("/"),o=r.length>0?'at path "/'+r+'" ':"",i=ot(t)?"value of type "+at(t).type.name+":":jt(t)?"value":"snapshot",a=n&&ot(t)&&n.is(at(t).snapshot);return""+o+i+" "+$e(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?$n(n)||jt(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function Ge(e,t,n){return e.concat([{path:t,type:n}])}function We(){return yt}function qe(e,t,n){return[{context:e,value:t,message:n}]}function Je(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function Ke(e,t){zt()&&Ye(e,t)}function Ye(e,t){var n=e.validate(t,[{path:"",type:e}]);if(n.length>0)throw gt(Xe(e,t,n))}function Xe(e,t,n){if(0!==n.length)return"Error while converting "+Fe($e(t))+" to `"+e.name+"`:\n\n    "+n.map(Be).join("\n    ")}var Ze,Qe=0,et=function(){function e(){this.cacheId=Qe++,this.cache=o["observable"].map(),this.lastCacheModificationPerId=o["observable"].map()}return e.prototype.updateLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)},e.prototype.getLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t},e.prototype.addNodeToCache=function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var n=e.identifier;this.cache.has(n)||this.cache.set(n,o["observable"].array([],mt));var r=this.cache.get(n);if(-1!==r.indexOf(e))throw gt("Already registered");r.push(e),t&&this.updateLastCacheModificationPerId(n)}},e.prototype.mergeCache=function(e){var t=this;Object(o["values"])(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))},e.prototype.notifyDied=function(e){if(e.identifierAttribute){var t=e.identifier,n=this.cache.get(t);n&&(n.remove(e),n.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}},e.prototype.splitCache=function(t){var n=this,r=new e,i=t.path;return Object(o["entries"])(this.cache).forEach((function(e){for(var t=y(e,2),o=t[0],a=t[1],s=!1,u=a.length-1;u>=0;u--)0===a[u].path.indexOf(i)&&(r.addNodeToCache(a[u],!1),a.splice(u,1),s=!0);s&&n.updateLastCacheModificationPerId(o)})),r},e.prototype.has=function(e,t){var n=this.cache.get(t);return!!n&&n.some((function(t){return e.isAssignableFrom(t.type)}))},e.prototype.resolve=function(e,t){var n=this.cache.get(t);if(!n)return null;var r=n.filter((function(t){return e.isAssignableFrom(t.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw gt("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+r.map((function(e){return e.path})).join(", "))}},e}();function tt(e,t,n,r,o){var i=st(o);if(i){if(i.parent)throw gt("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+i.path+"'");return t&&i.setParent(t,n),i}return new ue(e,t,n,r,o)}function nt(e,t,n,r,o){return new ie(e,t,n,r,o)}function rt(e){return e instanceof ie||e instanceof ue}function ot(e){return!(!e||!e.$treenode)}function it(e,t){$t(e,ot,"mobx-state-tree node",t)}function at(e){if(!ot(e))throw gt("Value "+e+" is no MST Node");return e.$treenode}function st(e){return e&&e.$treenode||null}function ut(){return at(this).snapshot}(function(e){e[e["INITIALIZING"]=0]="INITIALIZING",e[e["CREATED"]=1]="CREATED",e[e["FINALIZED"]=2]="FINALIZED",e[e["DETACHING"]=3]="DETACHING",e[e["DEAD"]=4]="DEAD"})(Ze||(Ze={}));var ct=function(e){return".."};function ft(e,t){if(e.root!==t.root)throw gt("Cannot calculate relative path: objects '"+e+"' and '"+t+"' are not part of the same object tree");for(var n=an(e.path),r=an(t.path),o=0;o<n.length;o++)if(n[o]!==r[o])break;return n.slice(o).map(ct).join("/")+on(r.slice(o))}function pt(e,t,n){return void 0===n&&(n=!0),lt(e,an(t),n)}function lt(e,t,n){void 0===n&&(n=!0);for(var r=e,o=0;o<t.length;o++){var i=t[o];if(".."===i){if(r=r.parent,r)continue}else{if("."===i)continue;if(r){if(r instanceof ie)try{var a=r.value;ot(a)&&(r=at(a))}catch(u){if(!n)return;throw u}if(r instanceof ue){var s=r.getChildType(i);if(s&&(r=r.getChildNode(i),r))continue}}}if(n)throw gt("Could not resolve '"+i+"' in path '"+(on(t.slice(0,o))||"/")+"' while resolving '"+on(t)+"'");return}return r}function ht(e){if(!e)return yt;var t=Object.keys(e);if(!t.length)return yt;var n=new Array(t.length);return t.forEach((function(t,r){n[r]=e[t]})),n}var dt="See https://github.com/mobxjs/mobx-state-tree/issues/399 for more information. Note that the middleware event types starting with `process` now start with `flow`.";function vt(e){return Ut("process","`process()` has been renamed to `flow()`. "+dt),qt(e)}var yt=Object.freeze([]),bt=Object.freeze({}),mt="string"===typeof o["$mobx"]?{deep:!1}:{deep:!1,proxy:!1};function gt(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function wt(e){return e}Object.freeze(mt);var _t=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function Ot(e){return Array.isArray(e)||Object(o["isObservableArray"])(e)}function At(e){return e?Ot(e)?e:[e]:yt}function St(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)e[i]=o[i]}return e}function Pt(e){if(null===e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function Et(e){return null!==e&&"object"===typeof e&&!(e instanceof Date)&&!(e instanceof RegExp)}function jt(e,t){return void 0===t&&(t=!0),null===e||void 0===e||!!("string"===typeof e||"number"===typeof e||"boolean"===typeof e||t&&e instanceof Date)}function Tt(e){return Ht()?jt(e)||Object(o["isObservableArray"])(e)?e:Object.freeze(e):e}function xt(e){return Ht()?(Tt(e),Pt(e)&&Object.keys(e).forEach((function(t){jt(e[t])||Object.isFrozen(e[t])||xt(e[t])})),e):e}function It(e){return"function"!==typeof e}function Ct(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Vt(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}var kt=function(){function e(){this.handlers=[]}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){n.unregister(e)}},e.prototype.has=function(e){return this.handlers.indexOf(e)>=0},e.prototype.unregister=function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)},e.prototype.clear=function(){this.handlers.length=0},e.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.handlers.slice();n.forEach((function(t){return t.apply(void 0,b(e))}))},e}(),Nt=function(){function e(){}return e.prototype.hasSubscribers=function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers},e.prototype.register=function(e,t,n){void 0===n&&(n=!1),this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[e];return r||(r=this.eventHandlers[e]=new kt),r.register(t,n)},e.prototype.has=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.has(t)},e.prototype.unregister=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];n&&n.unregister(t)},e.prototype.clear=function(e){this.eventHandlers&&delete this.eventHandlers[e]},e.prototype.clearAll=function(){this.eventHandlers=void 0},e.prototype.emit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.eventHandlers&&this.eventHandlers[e];o&&(t=o).emit.apply(t,b(n))},e}();function Dt(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function Rt(e,t){var n=Object(o["getAtom"])(e,t);n.trackAndCompute()}function Mt(e,t){return 0===e.indexOf(t)}var Ut=function(e,t){Ht()&&(Ut.ids&&!Ut.ids.hasOwnProperty(e)&&Lt("Deprecation warning: "+t),Ut.ids&&(Ut.ids[e]=!0))};function Lt(e){console.warn(new Error("[mobx-state-tree] "+e))}function zt(){return Ht()||"undefined"!==typeof e&&Object({NODE_ENV:"production",VUE_APP_TITLE:"物联网开发平台",VUE_APP_AUTHOR:"iotn2n",VUE_APP_UPDATE_TIME:"Wed Nov 17 2021 04:11:42 GMT+0000 (Coordinated Universal Time)",VUE_APP_VERSION:"4.3.6",VUE_APP_Keywords:"一站式物联网PaaS平台|物联网应用服务",VUE_APP_Description:"提供物联网垂直领域应用使能平台及解决方案",VUE_APP_URL:"http://prod.iotn2n.com",BASE_URL:""})&&"true"===Object({NODE_ENV:"production",VUE_APP_TITLE:"物联网开发平台",VUE_APP_AUTHOR:"iotn2n",VUE_APP_UPDATE_TIME:"Wed Nov 17 2021 04:11:42 GMT+0000 (Coordinated Universal Time)",VUE_APP_VERSION:"4.3.6",VUE_APP_Keywords:"一站式物联网PaaS平台|物联网应用服务",VUE_APP_Description:"提供物联网垂直领域应用使能平台及解决方案",VUE_APP_URL:"http://prod.iotn2n.com",BASE_URL:""}).ENABLE_TYPE_CHECK}function Ht(){return!1}function $t(e,t,n,r){if(Ht()&&!t(e))throw gt("expected "+n+" as argument "+At(r).join(" or ")+", got "+e+" instead")}function Ft(e,t){$t(e,(function(e){return"function"===typeof e}),"function",t)}function Bt(e,t,n,r){$t(e,(function(e){return"number"===typeof e}),"number",t),void 0!==n&&$t(e,(function(e){return e>=n}),"number greater than "+n,t),void 0!==r&&$t(e,(function(e){return e<=r}),"number lesser than "+r,t)}function Gt(e,t,n){void 0===n&&(n=!0),$t(e,(function(e){return"string"===typeof e}),"string",t),n||$t(e,(function(e){return""!==e}),"not empty string",t)}function Wt(e){"function"===typeof queueMicrotask?queueMicrotask(e):"function"===typeof setImmediate?setImmediate(e):setTimeout(e,1)}function qt(e){return Xt(e.name,e)}function Jt(e){return e}function Kt(e){return function(){var t,n=[];for(t=0;t<arguments.length;t++)n[t]=arguments[t];return d(this,(function(t){switch(t.label){case 0:return[4,e.apply(void 0,b(n))];case 1:return[2,t.sent()]}}))}}function Yt(e){return d(this,(function(t){switch(t.label){case 0:return[4,e];case 1:return[2,t.sent()]}}))}function Xt(e,t){var n=function(){var r=xe(),o=Te();if(!o)throw gt("a mst flow must always have a parent context");var i=Ce(o);if(!i)throw gt("a mst flow must always have a parent action context");var a={name:e,id:r,tree:o.tree,context:o.context,parentId:o.id,allParentIds:b(o.allParentIds,[o.id]),rootId:o.rootId,parentEvent:o,parentActionEvent:i},s=arguments;function u(e,t,r){e.$mst_middleware=n.$mst_middleware,Ie(p(p({},a),{type:t,args:[r]}),e)}return new Promise((function(e,r){var o,i=function(){o=t.apply(null,arguments),c(void 0)};function c(e){var t;try{u((function(e){t=o.next(e)}),"flow_resume",e)}catch(n){return void Wt((function(){u((function(e){r(n)}),"flow_throw",n)}))}l(t)}function f(e){var t;try{u((function(e){t=o.throw(e)}),"flow_resume_error",e)}catch(n){return void Wt((function(){u((function(e){r(n)}),"flow_throw",n)}))}l(t)}function l(t){if(!t.done){if(!t.value||"function"!==typeof t.value.then)throw gt("Only promises can be yielded to `async`, got: "+t);return t.value.then(c,f)}Wt((function(){u((function(t){e(t)}),"flow_return",t.value)}))}i.$mst_middleware=n.$mst_middleware,Ie(p(p({},a),{type:"flow_spawn",args:Dt(s)}),i)}))};return n}function Zt(e){if(!("oldValue"in e))throw gt("Patches without `oldValue` field cannot be inversed");return[Qt(e),en(e)]}function Qt(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function en(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function tn(e){return"number"===typeof e}function nn(e){return!0===tn(e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function rn(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function on(e){if(0===e.length)return"";var t=function(e){return e.map(nn).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}function an(e){var t=e.split("/").map(rn),n=""===e||"."===e||".."===e||Mt(e,"/")||Mt(e,"./")||Mt(e,"../");if(!n)throw gt("a json path must be either rooted, empty or relative, but got '"+e+"'");return""===t[0]&&t.shift(),t}Ut.ids={};var sn=function(e){function t(t,n,r){var o=e.call(this,r||t.name)||this;return o._subtype=t,o._processors=n,o}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|re.SnapshotProcessor},enumerable:!1,configurable:!0}),t.prototype.describe=function(){return"snapshotProcessor("+this._subtype.describe()+")"},t.prototype.preProcessSnapshot=function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e},t.prototype.postProcessSnapshot=function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e},t.prototype._fixNode=function(e){var t=this;un(e.type,this,"isAssignableFrom","create");var n=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(n.call(e))}},t.prototype.instantiate=function(e,t,n,r){var o=ot(r)?r:this.preProcessSnapshot(r),i=this._subtype.instantiate(e,t,n,o);return this._fixNode(i),i},t.prototype.reconcile=function(e,t,n,r){var o=this._subtype.reconcile(e,ot(t)?t:this.preProcessSnapshot(t),n,r);return o!==e&&this._fixNode(o),o},t.prototype.getSnapshot=function(e,t){void 0===t&&(t=!0);var n=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(n):n},t.prototype.isValidSnapshot=function(e,t){var n=this.preProcessSnapshot(e);return this._subtype.validate(n,t)},t.prototype.getSubTypes=function(){return this._subtype},t.prototype.is=function(e){var t=he(e)?this._subtype:ot(e)?T(e,!1):this.preProcessSnapshot(e);return 0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length},t}(fe);function un(e,t){for(var n,r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];try{for(var a=v(o),s=a.next();!s.done;s=a.next()){var u=s.value;e[u]=t[u].bind(t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function cn(e,t,n){if(de(e,1),Ht()){if(t.postProcessor&&"function"!==typeof t.postProcessor)throw fail("postSnapshotProcessor must be a function");if(t.preProcessor&&"function"!==typeof t.preProcessor)throw fail("preSnapshotProcessor must be a function")}return new sn(e,t,n)}var fn,pn="Map.put can only be used to store complex values that have an identifier type attribute";function ln(e,t){var n,r,o=e.getSubTypes();if(o===ce)return!1;if(o){var i=At(o);try{for(var a=v(i),s=a.next();!s.done;s=a.next()){var u=s.value;if(!ln(u,t))return!1}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}return e instanceof Tn&&t.push(e),!0}(function(e){e[e["UNKNOWN"]=0]="UNKNOWN",e[e["YES"]=1]="YES",e[e["NO"]=2]="NO"})(fn||(fn={}));var hn=function(e){function t(t){return e.call(this,t,o["observable"].ref.enhancer)||this}return f(t,e),t.prototype.get=function(t){return e.prototype.get.call(this,""+t)},t.prototype.has=function(t){return e.prototype.has.call(this,""+t)},t.prototype.delete=function(t){return e.prototype.delete.call(this,""+t)},t.prototype.set=function(t,n){return e.prototype.set.call(this,""+t,n)},t.prototype.put=function(e){if(!e)throw gt("Map.put cannot be used to set empty values");if(ot(e)){var t=at(e);if(Ht()&&!t.identifierAttribute)throw gt(pn);if(null===t.identifier)throw gt(pn);return this.set(t.identifier,e),e}if(Et(e)){var n=at(this),r=n.type;if(r.identifierMode!==fn.YES)throw gt(pn);var o=r.mapIdentifierAttribute,i=e[o];if(!Cr(i)){var a=this.put(r.getChildType().create(e,n.environment));return this.put(T(a))}var s=Ir(i);return this.set(s,e),this.get(s)}throw gt("Map.put can only be used to store complex values")},t}(o["ObservableMap"]),dn=function(e){function t(t,n,r){void 0===r&&(r=[]);var o=e.call(this,t)||this;return o._subType=n,o.identifierMode=fn.UNKNOWN,o.mapIdentifierAttribute=void 0,o.flags=re.Map,o.hookInitializers=[],o._determineIdentifierMode(),o.hookInitializers=r,o}return f(t,e),t.prototype.hooks=function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)},t.prototype.instantiate=function(e,t,n,r){return this._determineIdentifierMode(),tt(this,e,t,n,r)},t.prototype._determineIdentifierMode=function(){if(this.identifierMode===fn.UNKNOWN){var e=[];if(ln(this._subType,e)){var t=void 0;e.forEach((function(e){if(e.identifierAttribute){if(t&&t!==e.identifierAttribute)throw gt("The objects in a map should all have the same identifier attribute, expected '"+t+"', but child of type '"+e.name+"' declared attribute '"+e.identifierAttribute+"' as identifier");t=e.identifierAttribute}})),t?(this.identifierMode=fn.YES,this.mapIdentifierAttribute=t):this.identifierMode=fn.NO}}},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type._subType,r={};return Object.keys(t).forEach((function(o){r[o]=n.instantiate(e,o,void 0,t[o])})),r},t.prototype.createNewInstance=function(e){return new hn(e)},t.prototype.finalizeNewInstance=function(e,t){Object(o["_interceptReads"])(t,e.unbox);var n=e.type;n.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],o=Ve(t,e,r);(Ht()?Vt:Ct)(t,e,o)}))})),Object(o["intercept"])(t,this.willChange),Object(o["observe"])(t,this.didChange)},t.prototype.describe=function(){return"Map<string, "+this._subType.describe()+">"},t.prototype.getChildren=function(e){return Object(o["values"])(e.storedValue)},t.prototype.getChildNode=function(e,t){var n=e.storedValue.get(""+t);if(!n)throw gt("Not a child "+t);return n},t.prototype.willChange=function(e){var t=at(e.object),n=e.name;t.assertWritable({subpath:n});var r=t.type,o=r._subType;switch(e.type){case"update":var i=e.newValue,a=e.object.get(n);if(i===a)return null;Ke(o,i),e.newValue=o.reconcile(t.getChildNode(n),e.newValue,t,n),r.processIdentifier(n,e.newValue);break;case"add":Ke(o,e.newValue),e.newValue=o.instantiate(t,n,void 0,e.newValue),r.processIdentifier(n,e.newValue);break}return e},t.prototype.processIdentifier=function(e,t){if(this.identifierMode===fn.YES&&t instanceof ue){var n=t.identifier;if(n!==e)throw gt("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+n+"', but expected: '"+e+"'")}},t.prototype.getSnapshot=function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t},t.prototype.processInitialSnapshot=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),t},t.prototype.didChange=function(e){var t=at(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:nn(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:nn(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var n=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:nn(e.name),oldValue:n},t)}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue;switch(n.op){case"add":case"replace":r.set(t,n.value);break;case"remove":r.delete(t);break}},t.prototype.applySnapshot=function(e,t){Ke(this,t);var n=e.storedValue,r={};if(Array.from(n.keys()).forEach((function(e){r[e]=!1})),t)for(var o in t)n.set(o,t[o]),r[""+o]=!0;Object.keys(r).forEach((function(e){!1===r[e]&&n.delete(e)}))},t.prototype.getChildType=function(){return this._subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return Pt(e)?Je(Object.keys(e).map((function(r){return n._subType.validate(e[r],Ge(t,r,n._subType))}))):qe(t,e,"Value is not a plain object")},t.prototype.getDefaultSnapshot=function(){return bt},t.prototype.removeChild=function(e,t){e.storedValue.delete(t)},h([o["action"]],t.prototype,"applySnapshot",null),t}(pe);function vn(e){return new dn("map<string, "+e.name+">",e)}function yn(e){return he(e)&&(e.flags&re.Map)>0}var bn=function(e){function t(t,n,r){void 0===r&&(r=[]);var o=e.call(this,t)||this;return o._subType=n,o.flags=re.Array,o.hookInitializers=[],o.hookInitializers=r,o}return f(t,e),t.prototype.hooks=function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)},t.prototype.instantiate=function(e,t,n,r){return tt(this,e,t,n,r)},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t=[]);var n=e.type._subType,r={};return t.forEach((function(t,o){var i=""+o;r[i]=n.instantiate(e,i,void 0,t)})),r},t.prototype.createNewInstance=function(e){return o["observable"].array(ht(e),mt)},t.prototype.finalizeNewInstance=function(e,t){Object(o["_getAdministration"])(t).dehancer=e.unbox;var n=e.type;n.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],o=Ve(t,e,r);(Ht()?Vt:Ct)(t,e,o)}))})),Object(o["intercept"])(t,this.willChange),Object(o["observe"])(t,this.didChange)},t.prototype.describe=function(){return this._subType.describe()+"[]"},t.prototype.getChildren=function(e){return e.storedValue.slice()},t.prototype.getChildNode=function(e,t){var n=Number(t);if(n<e.storedValue.length)return e.storedValue[n];throw gt("Not a child: "+t)},t.prototype.willChange=function(e){var t=at(e.object);t.assertWritable({subpath:""+e.index});var n=t.type._subType,r=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var o=gn(t,n,[r[e.index]],[e.newValue],[e.index]);if(!o)return null;e.newValue=o[0];break;case"splice":var i=e.index,a=e.removedCount,s=e.added,u=gn(t,n,r.slice(i,i+a),s,s.map((function(e,t){return i+t})));if(!u)return null;e.added=u;for(var c=i+a;c<r.length;c++)r[c].setParent(t,""+(c+s.length-a));break}return e},t.prototype.getSnapshot=function(e){return e.getChildren().map((function(e){return e.snapshot}))},t.prototype.processInitialSnapshot=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n].getSnapshot())})),t},t.prototype.didChange=function(e){var t=at(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var n=e.removedCount-1;n>=0;n--)t.emitPatch({op:"remove",path:""+(e.index+n),oldValue:e.removed[n].snapshot},t);for(n=0;n<e.addedCount;n++)t.emitPatch({op:"add",path:""+(e.index+n),value:t.getChildNode(""+(e.index+n)).snapshot,oldValue:void 0},t);return}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue,o="-"===t?r.length:Number(t);switch(n.op){case"replace":r[o]=n.value;break;case"add":r.splice(o,0,n.value);break;case"remove":r.splice(o,1);break}},t.prototype.applySnapshot=function(e,t){Ke(this,t);var n=e.storedValue;n.replace(t)},t.prototype.getChildType=function(){return this._subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return Ot(e)?Je(e.map((function(e,r){return n._subType.validate(e,Ge(t,""+r,n._subType))}))):qe(t,e,"Value is not an array")},t.prototype.getDefaultSnapshot=function(){return yt},t.prototype.removeChild=function(e,t){e.storedValue.splice(Number(t),1)},h([o["action"]],t.prototype,"applySnapshot",null),t}(pe);function mn(e){return de(e,1),new bn(e.name+"[]",e)}function gn(e,t,n,r,o){for(var i=!0,a=0;;a++){var s=a<=r.length-1,u=n[a],c=s?r[a]:void 0,f=""+o[a];if(rt(c)&&(c=c.storedValue),!u&&!s)break;if(s)if(u)if(_n(u,c))n[a]=wn(t,e,f,c,u);else{for(var p=void 0,l=a;l<n.length;l++)if(_n(n[l],c)){p=n.splice(l,1)[0];break}i=!1;h=wn(t,e,f,c,p);n.splice(a,0,h)}else{if(ot(c)&&at(c).parent===e)throw gt("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+f+"', but it lives already at '"+at(c).path+"'");i=!1;var h=wn(t,e,f,c);n.splice(a,0,h)}else i=!1,n.splice(a,1),u instanceof ue&&u.createObservableInstanceIfNeeded(),u.die(),a--}return i?null:n}function wn(e,t,n,r,o){function i(){if(ot(r)){var i=at(r);if(i.assertAlive(bt),null!==i.parent&&i.parent===t)return i.setParent(t,n),i}return o?e.reconcile(o,r,t,n):e.instantiate(t,n,void 0,r)}Ke(e,r);var a=i();return o&&o!==a&&(o instanceof ue&&o.createObservableInstanceIfNeeded(),o.die()),a}function _n(e,t){if(!e.isAlive)return!1;if(ot(t)){var n=at(t);return n.isAlive&&n===e}return e.snapshot===t||e instanceof ue&&null!==e.identifier&&e.identifierAttribute&&Pt(t)&&e.identifier===Ir(t[e.identifierAttribute])&&e.type.is(t)}function On(e){return he(e)&&(e.flags&re.Array)>0}var An="preProcessSnapshot",Sn="postProcessSnapshot";function Pn(){return at(this).toString()}var En={name:"AnonymousModel",properties:{},initializers:yt};function jn(e){return Object.keys(e).reduce((function(e,t){var n,o,i;if(t in r)throw gt("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var a=Object.getOwnPropertyDescriptor(e,t);if("get"in a)throw gt("Getters are not supported as properties. Please use views instead");var s=a.value;if(null===s||void 0===s)throw gt("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(jt(s))return Object.assign({},e,(n={},n[t]=tr(Hn(s),s),n));if(s instanceof dn)return Object.assign({},e,(o={},o[t]=tr(s,{}),o));if(s instanceof bn)return Object.assign({},e,(i={},i[t]=tr(s,[]),i));if(he(s))return e;throw Ht()&&"function"===typeof s?gt("Invalid type definition for property '"+t+"', it looks like you passed a function. Did you forget to invoke it, or did you intend to declare a view / action?"):Ht()&&"object"===typeof s?gt("Invalid type definition for property '"+t+"', it looks like you passed an object. Try passing another model type or a types.frozen."):gt("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+s+"' ("+typeof s+")")}),e)}var Tn=function(e){function t(t){var n=e.call(this,t.name||En.name)||this;return n.flags=re.Object,n.named=function(e){return n.cloneAndEnhance({name:e})},n.props=function(e){return n.cloneAndEnhance({properties:e})},n.preProcessSnapshot=function(e){var t=n.preProcessor;return t?n.cloneAndEnhance({preProcessor:function(n){return t(e(n))}}):n.cloneAndEnhance({preProcessor:e})},n.postProcessSnapshot=function(e){var t=n.postProcessor;return t?n.cloneAndEnhance({postProcessor:function(n){return e(t(n))}}):n.cloneAndEnhance({postProcessor:e})},Object.assign(n,En,t),n.properties=jn(n.properties),Tt(n.properties),n.propertyNames=Object.keys(n.properties),n.identifierAttribute=n._getIdentifierAttribute(),n}return f(t,e),t.prototype._getIdentifierAttribute=function(){var e=void 0;return this.forAllProps((function(t,n){if(n.flags&re.Identifier){if(e)throw gt("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e},t.prototype.cloneAndEnhance=function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})},t.prototype.actions=function(e){var t=this,n=function(n){return t.instantiateActions(n,e(n)),n};return this.cloneAndEnhance({initializers:[n]})},t.prototype.instantiateActions=function(e,t){if(!Pt(t))throw gt("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(n){if(n===An)throw gt("Cannot define action '"+An+"', it should be defined using 'type.preProcessSnapshot(fn)' instead");if(n===Sn)throw gt("Cannot define action '"+Sn+"', it should be defined using 'type.postProcessSnapshot(fn)' instead");var o=t[n],i=e[n];if(n in r&&i){var a=o;o=function(){i.apply(null,arguments),a.apply(null,arguments)}}var s=o.$mst_middleware,u=o.bind(t);u.$mst_middleware=s;var c=Ve(e,n,u);t[n]=c,(Ht()?Vt:Ct)(e,n,c)}))},t.prototype.volatile=function(e){var t=this;if("function"!==typeof e)throw gt("You passed an "+typeof e+" to volatile state as an argument, when function is expected");var n=function(n){return t.instantiateVolatileState(n,e(n)),n};return this.cloneAndEnhance({initializers:[n]})},t.prototype.instantiateVolatileState=function(e,t){if(!Pt(t))throw gt("volatile state initializer should return a plain object containing state");Object(o["set"])(e,t)},t.prototype.extend=function(e){var t=this,n=function(n){var r=e(n),o=r.actions,i=r.views,a=r.state,s=l(r,["actions","views","state"]);for(var u in s)throw gt("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+u+"'");return a&&t.instantiateVolatileState(n,a),i&&t.instantiateViews(n,i),o&&t.instantiateActions(n,o),n};return this.cloneAndEnhance({initializers:[n]})},t.prototype.views=function(e){var t=this,n=function(n){return t.instantiateViews(n,e(n)),n};return this.cloneAndEnhance({initializers:[n]})},t.prototype.instantiateViews=function(e,t){if(!Pt(t))throw gt("views initializer should return a plain object containing views");Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);if("get"in r)if(Object(o["isComputedProp"])(e,n)){var i=Object(o["_getAdministration"])(e,n);i.derivation=r.get,i.scope=e,r.set&&(i.setter=Object(o["action"])(i.name+"-setter",r.set))}else Object(o["computed"])(e,n,r,!0);else{if("function"!==typeof r.value)throw gt("A view member should either be a function or getter based property");(Ht()?Vt:Ct)(e,n,r.value)}}))},t.prototype.instantiate=function(e,t,n,r){var o=ot(r)?r:this.applySnapshotPreProcessor(r);return tt(this,e,t,n,o)},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type,r={};return n.forAllProps((function(n,o){r[n]=o.instantiate(e,n,void 0,t[n])})),r},t.prototype.createNewInstance=function(e){return o["observable"].object(e,bt,mt)},t.prototype.finalizeNewInstance=function(e,t){Ct(t,"toString",Pn),this.forAllProps((function(n){Object(o["_interceptReads"])(t,n,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),Object(o["intercept"])(t,this.willChange),Object(o["observe"])(t,this.didChange)},t.prototype.willChange=function(e){var t=e,n=at(t.object),r=t.name;n.assertWritable({subpath:r});var o=n.type.properties[r];return o&&(Ke(o,t.newValue),t.newValue=o.reconcile(n.getChildNode(r),t.newValue,n,r)),t},t.prototype.didChange=function(e){var t=e,n=at(t.object),r=n.type.properties[t.name];if(r){var o=t.oldValue?t.oldValue.snapshot:void 0;n.emitPatch({op:"replace",path:nn(t.name),value:t.newValue.snapshot,oldValue:o},n)}},t.prototype.getChildren=function(e){var t=this,n=[];return this.forAllProps((function(r){n.push(t.getChildNode(e,r))})),n},t.prototype.getChildNode=function(e,t){if(!(t in this.properties))throw gt("Not a value property: "+t);var n=Object(o["_getAdministration"])(e.storedValue,t).value;if(!n)throw gt("Node not available for property "+t);return n},t.prototype.getSnapshot=function(e,t){var n=this;void 0===t&&(t=!0);var r={};return this.forAllProps((function(t,i){Object(o["getAtom"])(e.storedValue,t).reportObserved(),r[t]=n.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(r):r},t.prototype.processInitialSnapshot=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),this.applySnapshotPostProcessor(t)},t.prototype.applyPatchLocally=function(e,t,n){if("replace"!==n.op&&"add"!==n.op)throw gt("object does not support operation "+n.op);e.storedValue[t]=n.value},t.prototype.applySnapshot=function(e,t){var n=this.applySnapshotPreProcessor(t);Ke(this,n),this.forAllProps((function(t){e.storedValue[t]=n[t]}))},t.prototype.applySnapshotPreProcessor=function(e){var t=this.preProcessor;return t?t.call(null,e):e},t.prototype.applySnapshotPostProcessor=function(e){var t=this.postProcessor;return t?t.call(null,e):e},t.prototype.getChildType=function(e){return Gt(e,1),this.properties[e]},t.prototype.isValidSnapshot=function(e,t){var n=this,r=this.applySnapshotPreProcessor(e);return Pt(r)?Je(this.propertyNames.map((function(e){return n.properties[e].validate(r[e],Ge(t,e,n.properties[e]))}))):qe(t,r,"Value is not a plain object")},t.prototype.forAllProps=function(e){var t=this;this.propertyNames.forEach((function(n){return e(n,t.properties[n])}))},t.prototype.describe=function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"},t.prototype.getDefaultSnapshot=function(){return bt},t.prototype.removeChild=function(e,t){e.storedValue[t]=void 0},h([o["action"]],t.prototype,"applySnapshot",null),t}(pe);function xn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"===typeof e[0]?e.shift():"AnonymousModel",r=e.shift()||{};return new Tn({name:n,properties:r})}function In(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"===typeof e[0],r=n?e[0]:"AnonymousModel";return n&&e.shift(),Ht()&&e.forEach((function(e,t){$t(e,Cn,"mobx-state-tree model type",n?t+2:t+1)})),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(n){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(n))},postProcessor:function(n){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(n))}})})).named(r)}function Cn(e){return he(e)&&(e.flags&re.Object)>0}var Vn=function(e){function t(t,n,r,o){void 0===o&&(o=wt);var i=e.call(this,t)||this;return i.flags=n,i.checker=r,i.initializer=o,i.flags=n,i}return f(t,e),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return nt(this,e,t,n,r)},t.prototype.createNewInstance=function(e){return this.initializer(e)},t.prototype.isValidSnapshot=function(e,t){if(jt(e)&&this.checker(e))return We();var n="Date"===this.name?"Date or a unix milliseconds timestamp":this.name;return qe(t,e,"Value is not a "+n)},t}(le),kn=new Vn("string",re.String,(function(e){return"string"===typeof e})),Nn=new Vn("number",re.Number,(function(e){return"number"===typeof e})),Dn=new Vn("integer",re.Integer,(function(e){return _t(e)})),Rn=new Vn("boolean",re.Boolean,(function(e){return"boolean"===typeof e})),Mn=new Vn("null",re.Null,(function(e){return null===e})),Un=new Vn("undefined",re.Undefined,(function(e){return void 0===e})),Ln=new Vn("Date",re.Date,(function(e){return"number"===typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));Ln.getSnapshot=function(e){return e.storedValue.getTime()};var zn=Ln;function Hn(e){switch(typeof e){case"string":return kn;case"number":return Nn;case"boolean":return Rn;case"object":if(e instanceof Date)return zn}throw gt("Cannot determine primitive type from value "+e)}function $n(e){return he(e)&&(e.flags&(re.String|re.Number|re.Integer|re.Boolean|re.Date))>0}var Fn=function(e){function t(t){var n=e.call(this,JSON.stringify(t))||this;return n.flags=re.Literal,n.value=t,n}return f(t,e),t.prototype.instantiate=function(e,t,n,r){return nt(this,e,t,n,r)},t.prototype.describe=function(){return JSON.stringify(this.value)},t.prototype.isValidSnapshot=function(e,t){return jt(e)&&e===this.value?We():qe(t,e,"Value is not a literal "+JSON.stringify(this.value))},t}(le);function Bn(e){return $t(e,jt,"primitive",1),new Fn(e)}function Gn(e){return he(e)&&(e.flags&re.Literal)>0}var Wn=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._subtype=n,i._predicate=r,i._message=o,i}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|re.Refinement},enumerable:!1,configurable:!0}),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return this._subtype.instantiate(e,t,n,r)},t.prototype.isAssignableFrom=function(e){return this._subtype.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){var n=this._subtype.validate(e,t);if(n.length>0)return n;var r=ot(e)?at(e).snapshot:e;return this._predicate(r)?We():qe(t,e,this._message(e))},t.prototype.reconcile=function(e,t,n,r){return this._subtype.reconcile(e,t,n,r)},t.prototype.getSubTypes=function(){return this._subtype},t}(fe);function qn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"===typeof e[0]?e.shift():he(e[0])?e[0].name:null,r=e[0],o=e[1],i=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return de(r,[1,2]),Gt(n,1),Ft(o,[2,3]),Ft(i,[3,4]),new Wn(n,r,o,i)}function Jn(e){return(e.flags&re.Refinement)>0}function Kn(e,t){var n="string"===typeof e?t:e;Ht()&&n.forEach((function(e,t){Gt(e,t+1)}));var r=Xn.apply(void 0,b(n.map((function(e){return Bn(""+e)}))));return"string"===typeof e&&(r.name=e),r}var Yn=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o._types=n,o._eager=!0,r=p({eager:!0,dispatcher:void 0},r),o._dispatcher=r.dispatcher,r.eager||(o._eager=!1),o}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=re.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!1,configurable:!0}),t.prototype.isAssignableFrom=function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))},t.prototype.describe=function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"},t.prototype.instantiate=function(e,t,n,r){var o=this.determineType(r,void 0);if(!o)throw gt("No matching type for union "+this.describe());return o.instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){var o=this.determineType(t,e.type);if(!o)throw gt("No matching type for union "+this.describe());return o.reconcile(e,t,n,r)},t.prototype.determineType=function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))},t.prototype.isValidSnapshot=function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var n=[],r=0,o=0;o<this._types.length;o++){var i=this._types[o],a=i.validate(e,t);if(0===a.length){if(this._eager)return We();r++}else n.push(a)}return 1===r?We():qe(t,e,"No type is applicable for the union").concat(Je(n))},t.prototype.getSubTypes=function(){return this._types},t}(fe);function Xn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=he(e)?void 0:e,o=he(e)?b([e],t):t,i="("+o.map((function(e){return e.name})).join(" | ")+")";return Ht()&&(r&&$t(r,(function(e){return Pt(e)}),"object { eager?: boolean, dispatcher?: Function }",1),o.forEach((function(e,t){de(e,r?t+2:t+1)}))),new Yn(i,o,r)}function Zn(e){return(e.flags&re.Union)>0}var Qn=function(e){function t(t,n,r){var o=e.call(this,t.name)||this;return o._subtype=t,o._defaultValue=n,o.optionalValues=r,o}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|re.Optional},enumerable:!1,configurable:!0}),t.prototype.describe=function(){return this._subtype.describe()+"?"},t.prototype.instantiate=function(e,t,n,r){if(this.optionalValues.indexOf(r)>=0){var o=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,n,o)}return this._subtype.instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),n,r)},t.prototype.getDefaultInstanceOrSnapshot=function(){var e="function"===typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"===typeof this._defaultValue&&Ke(this,e),e},t.prototype.isValidSnapshot=function(e,t){return this.optionalValues.indexOf(e)>=0?We():this._subtype.validate(e,t)},t.prototype.isAssignableFrom=function(e){return this._subtype.isAssignableFrom(e)},t.prototype.getSubTypes=function(){return this._subtype},t}(fe);function er(e,t){if("function"!==typeof t&&ot(t))throw gt("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");de(e,1),Ht()&&"function"!==typeof t&&Ke(e,t)}function tr(e,t,n){return er(e,t),new Qn(e,t,n||nr)}var nr=[void 0];function rr(e){return he(e)&&(e.flags&re.Optional)>0}var or=tr(Un,void 0),ir=tr(Mn,null);function ar(e){return de(e,1),Xn(e,or)}function sr(e){return de(e,1),Xn(e,ir)}var ur=function(e){function t(t,n){var r=e.call(this,t)||this;return r._definition=n,r}return f(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|re.Late},enumerable:!1,configurable:!0}),t.prototype.getSubType=function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(n){if(!(n instanceof ReferenceError))throw n;t=void 0}if(e&&void 0===t)throw gt("Late type seems to be used too early, the definition (still) returns undefined");if(t){if(Ht()&&!he(t))throw gt("Failed to determine subtype, make sure types.late returns a type definition.");this._subType=t}}return this._subType},t.prototype.instantiate=function(e,t,n,r){return this.getSubType(!0).instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){return this.getSubType(!0).reconcile(e,t,n,r)},t.prototype.describe=function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"},t.prototype.isValidSnapshot=function(e,t){var n=this.getSubType(!1);return n?n.validate(e,t):We()},t.prototype.isAssignableFrom=function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)},t.prototype.getSubTypes=function(){var e=this.getSubType(!1);return e||ce},t}(fe);function cr(e,t){var n="string"===typeof e?e:"late("+e.toString()+")",r="string"===typeof e?t:e;if(Ht()&&("function"!==typeof r||0!==r.length))throw gt("Invalid late type, expected a function with zero arguments that returns a type, got: "+r);return new ur(n,r)}function fr(e){return he(e)&&(e.flags&re.Late)>0}var pr=function(e){function t(t){var n=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return n.subType=t,n.flags=re.Frozen,n}return f(t,e),t.prototype.describe=function(){return"<any immutable value>"},t.prototype.instantiate=function(e,t,n,r){return nt(this,e,t,n,xt(r))},t.prototype.isValidSnapshot=function(e,t){return It(e)?this.subType?this.subType.validate(e,t):We():qe(t,e,"Value is not serializable and cannot be frozen")},t}(le),lr=new pr;function hr(e){return 0===arguments.length?lr:he(e)?new pr(e):tr(lr,e)}function dr(e){return he(e)&&(e.flags&re.Frozen)>0}function vr(e){switch(e){case r.beforeDestroy:return"destroy";case r.beforeDetach:return"detach";default:return}}var yr=function(){function e(e,t){if(this.targetType=t,Cr(e))this.identifier=e;else{if(!ot(e))throw gt("Can only store references to tree nodes or identifiers, got: '"+e+"'");var n=at(e);if(!n.identifierAttribute)throw gt("Can only store references with a defined identifier attribute.");var r=n.unnormalizedIdentifier;if(null===r||void 0===r)throw gt("Can only store references to tree nodes with a defined identifier.");this.identifier=r}}return e.prototype.updateResolvedReference=function(e){var t=Ir(this.identifier),n=e.root,r=n.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var o=this.targetType,i=n.identifierCache.resolve(o,t);if(!i)throw new br("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:i,lastCacheModification:r}}},Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),br=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return f(t,e),t}(Error),mr=function(e){function t(t,n){var r=e.call(this,"reference("+t.name+")")||this;return r.targetType=t,r.onInvalidated=n,r.flags=re.Reference,r}return f(t,e),t.prototype.describe=function(){return this.name},t.prototype.isAssignableFrom=function(e){return this.targetType.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){return Cr(e)?We():qe(t,e,"Value is not a valid identifier, which is a string or a number")},t.prototype.fireInvalidated=function(e,t,n,r){var o=t.parent;if(o&&o.isAlive){var i=o.storedValue;i&&this.onInvalidated({cause:e,parent:i,invalidTarget:r?r.storedValue:void 0,invalidId:n,replaceRef:function(e){O(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){Cn(o.type)?this.replaceRef(void 0):O(t.root.storedValue,{op:"remove",path:t.path})}})}},t.prototype.addTargetNodeWatcher=function(e,t){var n=this,o=this.getValue(e);if(o){var i=at(o),a=function(r,o){var a=vr(o);a&&n.fireInvalidated(a,e,t,i)},s=i.registerHook(r.beforeDetach,a),u=i.registerHook(r.beforeDestroy,a);return function(){s(),u()}}},t.prototype.watchTargetNodeForInvalidations=function(e,t,n){var o=this;if(this.onInvalidated){var i;e.registerHook(r.beforeDestroy,(function(){i&&i()}));var a=function(r){i&&i();var a=e.parent,s=a&&a.storedValue;if(a&&a.isAlive&&s){var u=void 0;u=n?!!n.get(t,s):e.root.identifierCache.has(o.targetType,Ir(t)),u?i=o.addTargetNodeWatcher(e,t):r||o.fireInvalidated("invalidSnapshotReference",e,t,null)}};e.state===Ze.FINALIZED?a(!0):(e.isRoot||e.root.registerHook(r.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(r.afterAttach,(function(){a(!1)})))}},t}(le),gr=function(e){function t(t,n){return e.call(this,t,n)||this}return f(t,e),t.prototype.getValue=function(e){if(e.isAlive){var t=e.storedValue;return t.resolvedValue}},t.prototype.getSnapshot=function(e){var t=e.storedValue;return t.identifier},t.prototype.instantiate=function(e,t,n,r){var o=ot(r)?L(r):r,i=new yr(r,this.targetType),a=nt(this,e,t,n,i);return i.node=a,this.watchTargetNodeForInvalidations(a,o,void 0),a},t.prototype.reconcile=function(e,t,n,r){if(!e.isDetaching&&e.type===this){var o=ot(t),i=e.storedValue;if(!o&&i.identifier===t||o&&i.resolvedValue===t)return e.setParent(n,r),e}var a=this.instantiate(n,r,void 0,t);return e.die(),a},t}(mr),wr=function(e){function t(t,n,r){var o=e.call(this,t,r)||this;return o.options=n,o}return f(t,e),t.prototype.getValue=function(e){if(e.isAlive){var t=this.options.get(e.storedValue,e.parent?e.parent.storedValue:null);return t}},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.instantiate=function(e,t,n,r){var o=ot(r)?this.options.set(r,e?e.storedValue:null):r,i=nt(this,e,t,n,o);return this.watchTargetNodeForInvalidations(i,o,this.options),i},t.prototype.reconcile=function(e,t,n,r){var o=ot(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===o)return e.setParent(n,r),e;var i=this.instantiate(n,r,void 0,o);return e.die(),i},t}(mr);function _r(e,t){if(de(e,1),Ht()&&2===arguments.length&&"string"===typeof arguments[1])throw gt("References with base path are no longer supported. Please remove the base path.");var n=t||void 0,r=t?t.onInvalidated:void 0;if(n&&(n.get||n.set)){if(Ht()&&(!n.get||!n.set))throw gt("reference options must either contain both a 'get' and a 'set' method or none of them");return new wr(e,{get:n.get,set:n.set},r)}return new gr(e,r)}function Or(e){return(e.flags&re.Reference)>0}function Ar(e,t){var n=_r(e,p(p({},t),{onInvalidated:function(e){t&&t.onInvalidated&&t.onInvalidated(e),e.removeRef()}}));return t&&!1===t.acceptsUndefined?n:ar(n)}var Sr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.validType=n,r.flags=re.Identifier,r}return f(t,e),t.prototype.instantiate=function(e,t,n,r){if(!e||!(e.type instanceof Tn))throw gt("Identifier types can only be instantiated as direct child of a model type");return nt(this,e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){if(e.storedValue!==t)throw gt("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(n,r),e},t.prototype.isValidSnapshot=function(e,t){return typeof e!==this.validType?qe(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):We()},t}(le),Pr=function(e){function t(){var t=e.call(this,"identifier","string")||this;return t.flags=re.Identifier,t}return f(t,e),t.prototype.describe=function(){return"identifier"},t}(Sr),Er=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return f(t,e),t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.describe=function(){return"identifierNumber"},t}(Sr),jr=new Pr,Tr=new Er;function xr(e){return he(e)&&(e.flags&re.Identifier)>0}function Ir(e){return""+e}function Cr(e){return"string"===typeof e||"number"===typeof e}function Vr(e,t){$t(e,Cr,"string or number (identifier)",t)}function kr(e){return new Nr(e)}var Nr=function(e){function t(t){var n=e.call(this,t.name)||this;return n.options=t,n.flags=re.Custom,n}return f(t,e),t.prototype.describe=function(){return this.name},t.prototype.isValidSnapshot=function(e,t){if(this.options.isTargetType(e))return We();var n=this.options.getValidationMessage(e);return n?qe(t,e,"Invalid value for type '"+this.name+"': "+n):We()},t.prototype.getSnapshot=function(e){return this.options.toSnapshot(e.storedValue)},t.prototype.instantiate=function(e,t,n,r){var o=this.options.isTargetType(r)?r:this.options.fromSnapshot(r,e&&e.root.environment);return nt(this,e,t,n,o)},t.prototype.reconcile=function(e,t,n,r){var o=!this.options.isTargetType(t);if(!e.isDetaching){var i=e.type===this&&(o?t===e.snapshot:t===e.storedValue);if(i)return e.setParent(n,r),e}var a=o?this.options.fromSnapshot(t,n.root.environment):t,s=this.instantiate(n,r,void 0,a);return e.die(),s},t}(le),Dr={enumeration:Kn,model:xn,compose:In,custom:kr,reference:_r,safeReference:Ar,union:Xn,optional:tr,literal:Bn,maybe:ar,maybeNull:sr,refinement:qn,string:kn,boolean:Rn,number:Nn,integer:Dn,Date:zn,map:vn,array:mn,frozen:hr,identifier:jr,identifierNumber:Tr,late:cr,undefined:Un,null:Mn,snapshotProcessor:cn}}.call(this,n("4362"))}}]);