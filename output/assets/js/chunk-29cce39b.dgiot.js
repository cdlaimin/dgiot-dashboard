/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  time: Wed Nov 17 2021 04:11:42 GMT+0000 (Coordinated Universal Time)
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29cce39b"],{"0c57":function(e,t,i){"use strict";var n=i("ed74"),o=i("d74c"),s=i("8786"),r=i("520f"),a=i("0330"),d=i("1462"),l=i("ffca"),c=i("a11f"),u=i("a89b"),h=i("0a49"),g=i("0f39"),p=i("5cc8"),m=i("8ba9"),f=i("d4d6"),b=i("edca"),v=i("4881"),C=i("ddc0"),_=i("20a6"),w=i("ed41"),S=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},L=function(e,t){return function(i,n){t(i,n,e)}},y=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};const x=500;function O(e,t,i){return y(this,void 0,void 0,(function*(){const n=[],s=l["r"].ordered(e).reverse(),r=Object(c["k"])(s.map(s=>t.map(t=>Promise.resolve(s.provideInlayHints(e,t,i)).then(e=>{const i=null===e||void 0===e?void 0:e.filter(e=>t.containsPosition(e.position));(null===i||void 0===i?void 0:i.length)&&n.push({list:i,provider:s})},e=>{Object(o["g"])(e)}))));return yield Promise.all(r),n}))}let I=class{constructor(e,t,i,n){this._editor=e,this._codeEditorService=t,this._themeService=i,this._configurationService=n,this._disposables=new r["b"],this._sessionDisposables=new r["b"],this._getInlayHintsDelays=new m["b"](l["r"],25,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(l["r"].onDidChange(()=>this._update())),this._disposables.add(i.onDidColorThemeChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(e=>{e.hasChanged(126)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(126).enabled)return void this._removeAllDecorations();const e=this._editor.getModel();if(!e||!l["r"].has(e))return void this._removeAllDecorations();const t=new n["e"](()=>y(this,void 0,void 0,(function*(){const i=Date.now(),n=new h["b"];this._sessionDisposables.add(Object(r["i"])(()=>n.dispose(!0)));const o=this._editor.getVisibleRangesPlusViewportAboveBelow(),s=yield O(e,o,n.token),a=this._getInlayHintsDelays.update(e,Date.now()-i);t.delay=a,this._updateHintsDecorators(s)})),this._getInlayHintsDelays.get(e));this._sessionDisposables.add(t),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>t.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>t.schedule())),t.schedule();const i=new r["b"];this._sessionDisposables.add(i);for(const n of l["r"].all(e))"function"===typeof n.onDidChangeInlayHints&&i.add(n.onDidChangeInlayHints(()=>t.schedule()))}_updateHintsDecorators(e){const{fontSize:t,fontFamily:i}=this._getLayoutInfo(),n=this._themeService.getColorTheme().getColor(u["N"]),o=this._themeService.getColorTheme().getColor(u["O"]),r=[],a=[],d="--inlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(d,i);const l=this._configurationService.getValue("editor.useInjectedText"),c=void 0===l||!!l;for(const{list:u}of e)for(let e=0;e<u.length&&a.length<x;e++){const{text:i,position:l,whitespaceBefore:h,whitespaceAfter:g}=u[e],m=h?t/3|0:0,f=g?t/3|0:0,b=M(i),v={contentText:b,backgroundColor:""+n,color:""+o,margin:`0px ${f}px 0px ${m}px`,fontSize:t+"px",fontFamily:`var(${d})`,padding:`0px ${t/4|0}px`,borderRadius:(t/4|0)+"px",verticalAlign:"middle"},C="inlayHints-"+Object(s["c"])(v).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",C,c?{beforeInjectedText:Object.assign(Object.assign({},v),{affectsLetterSpacing:!0})}:{before:v},void 0,this._editor),r.push(C);const _=this._codeEditorService.resolveDecorationOptions(C,!0);a.push({range:p["a"].fromPositions(l),options:_})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=r,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,a)}_getLayoutInfo(){const e=this._editor.getOption(126),t=this._editor.getOption(44);let i=e.fontSize;(!i||i<5||i>t)&&(i=.9*t|0);const n=e.fontFamily||this._editor.getOption(41);return{fontSize:i,fontFamily:n}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};function M(e){const t=" ";return e.replace(/[ \t]/g,t)}I.ID="editor.contrib.InlayHints",I=S([L(1,d["a"]),L(2,g["b"]),L(3,w["a"])],I),Object(a["l"])(I.ID,I),f["a"].registerCommand("_executeInlayHintProvider",(e,...t)=>y(void 0,void 0,void 0,(function*(){const[i,n]=t;Object(v["c"])(b["a"].isUri(i)),Object(v["c"])(p["a"].isIRange(n));const o=yield e.get(C["a"]).createModelReference(i);try{const e=yield O(o.object.textEditorModel,[p["a"].lift(n)],h["a"].None);return Object(c["k"])(e.map(e=>e.list)).sort((e,t)=>_["a"].compare(e.position,t.position))}finally{o.dispose()}})))},1436:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));i("f5ff");var n=i("2709"),o=i("ed74"),s=i("520f"),r=i("ece8"),a=i("5cc8"),d=i("0330"),l=i("9d16"),c=i("0f39"),u=i("a89b"),h=i("4d15"),g=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},p=function(e,t){return function(i,n){t(i,n,e)}};let m=class e{constructor(t,i){this._messageWidget=new s["d"],this._messageListeners=new s["b"],this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(i),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(e.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let i;Object(r["a"])(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new b(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new o["g"](()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(e=>{e.target.position&&(i?i.containsPosition(e.target.position)||this.closeMessage():i=new a["a"](t.lineNumber-3,1,e.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(b.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(n["a"]("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};m.ID="editor.contrib.messageController",m.MESSAGE_VISIBLE=new l["c"]("messageVisible",!1,n["a"]("messageVisible","Whether the editor is currently showing an inline message")),m=g([p(1,l["b"])],m);const f=d["c"].bindToContribution(m.get);Object(d["k"])(new f({id:"leaveEditorMessage",precondition:m.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class b{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const s=document.createElement("div");s.classList.add("message"),s.textContent=n,this._domNode.appendChild(s);const r=document.createElement("div");r.classList.add("anchor","below"),this._domNode.appendChild(r),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}Object(d["l"])(m.ID,m),Object(c["f"])((e,t)=>{const i=e.getColor(u["qb"]);if(i){let n=e.type===h["a"].HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${n}px solid ${i}; }`)}const n=e.getColor(u["pb"]);n&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${n}; }`);const o=e.getColor(u["rb"]);o&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${o}; }`)})},"18c0":function(e,t,i){"use strict";i.d(t,"a",(function(){return S})),i.d(t,"b",(function(){return L})),i.d(t,"d",(function(){return x})),i.d(t,"c",(function(){return I})),i.d(t,"p",(function(){return M})),i.d(t,"q",(function(){return D})),i.d(t,"r",(function(){return N})),i.d(t,"e",(function(){return k})),i.d(t,"j",(function(){return E})),i.d(t,"l",(function(){return T})),i.d(t,"k",(function(){return R})),i.d(t,"n",(function(){return j})),i.d(t,"o",(function(){return P})),i.d(t,"f",(function(){return A})),i.d(t,"g",(function(){return F})),i.d(t,"m",(function(){return H})),i.d(t,"h",(function(){return V})),i.d(t,"i",(function(){return W}));i("cc73");var n=i("1e3e"),o=i("20bc"),s=i("5cc6"),r=i("5e2a"),a=i("26384"),d=i("d9f3"),l=i("1462"),c=i("c697"),u=i("49cb"),h=i("2709"),g=i("9d16"),p=i("6208"),m=i("46509"),f=i("0330"),b=i("a89b"),v=i("a74d"),C=i("20c3"),_=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},w=function(e,t){return function(i,n){t(i,n,e)}};const S=Object(p["c"])("IPeekViewService");var L;Object(m["b"])(S,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());const n=()=>{const i=this._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),this._widgets.delete(e))};this._widgets.set(e,{widget:t,listener:t.onDidClose(n)})}}),function(e){e.inPeekEditor=new g["c"]("inReferenceSearchEditor",!0,h["a"]("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),e.notInPeekEditor=e.inPeekEditor.toNegated()}(L||(L={}));let y=class{constructor(e,t){e instanceof c["a"]&&L.inPeekEditor.bindTo(t)}dispose(){}};function x(e){let t=e.get(l["a"]).getFocusedCodeEditor();return t instanceof c["a"]?t.getParentEditor():t}y.ID="editor.contrib.referenceController",y=_([w(1,g["b"])],y),Object(f["l"])(y.ID,y);const O={headerBackgroundColor:r["a"].white,primaryHeadingColor:r["a"].fromHex("#333333"),secondaryHeadingColor:r["a"].fromHex("#6c6c6cb3")};let I=class extends u["a"]{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new a["b"],this.onDidClose=this._onDidClose.event,d["f"](this.options,O,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=n["a"](".head"),this._bodyElement=n["a"](".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const i=n["a"](".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),n["o"](i,"click",e=>this._onTitleClick(e))),n["q"](this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=n["a"]("span.filename"),this._secondaryHeading=n["a"]("span.dirname"),this._metaHeading=n["a"]("span.meta"),n["q"](i,this._primaryHeading,this._secondaryHeading,this._metaHeading);const r=n["a"](".peekview-actions");n["q"](this._headElement,r);const a=this._getActionBarOptions();this._actionbarWidget=new o["a"](r,a),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new s["a"]("peekview.close",h["a"]("label.close","Close"),v["b"].close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:C["b"].bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:n["t"](this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,n["W"](this._metaHeading)):n["K"](this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const i=Math.ceil(1.2*this.editor.getOption(58)),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=e+"px",this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=e+"px")}};I=_([w(2,p["a"])],I);const M=Object(b["wc"])("peekViewTitle.background",{dark:Object(b["Lc"])(b["M"],.1),light:Object(b["Lc"])(b["M"],.1),hc:null},h["a"]("peekViewTitleBackground","Background color of the peek view title area.")),D=Object(b["wc"])("peekViewTitleLabel.foreground",{dark:r["a"].white,light:r["a"].black,hc:r["a"].white},h["a"]("peekViewTitleForeground","Color of the peek view title.")),N=Object(b["wc"])("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},h["a"]("peekViewTitleInfoForeground","Color of the peek view title info.")),k=Object(b["wc"])("peekView.border",{dark:b["M"],light:b["M"],hc:b["h"]},h["a"]("peekViewBorder","Color of the peek view borders and arrow.")),E=Object(b["wc"])("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:r["a"].black},h["a"]("peekViewResultsBackground","Background color of the peek view result list.")),T=Object(b["wc"])("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:r["a"].white},h["a"]("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),R=Object(b["wc"])("peekViewResult.fileForeground",{dark:r["a"].white,light:"#1E1E1E",hc:r["a"].white},h["a"]("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),j=Object(b["wc"])("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},h["a"]("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),P=Object(b["wc"])("peekViewResult.selectionForeground",{dark:r["a"].white,light:"#6C6C6C",hc:r["a"].white},h["a"]("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),A=Object(b["wc"])("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:r["a"].black},h["a"]("peekViewEditorBackground","Background color of the peek view editor.")),F=Object(b["wc"])("peekViewEditorGutter.background",{dark:A,light:A,hc:A},h["a"]("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),H=Object(b["wc"])("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},h["a"]("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),V=Object(b["wc"])("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},h["a"]("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),W=Object(b["wc"])("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:b["b"]},h["a"]("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},"1fcb":function(e,t,i){},"27d1":function(e,t,i){"use strict";var n=i("2709"),o=i("520f"),s=i("6208"),r=i("1d14"),a=i("9d16"),d=i("0330"),l=i("1e3e"),c=i("ece8"),u=i("23d5"),h=i("26384"),g=(i("debc"),i("bcb8")),p=i("a8f5"),m=i("d74c"),f=i("20a6"),b=i("ffca"),v=i("0a49"),C=i("d4d6"),_=i("edca"),w=i("4881"),S=i("ddc0"),L=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};const y={Visible:new a["c"]("parameterHintsVisible",!1),MultipleSignatures:new a["c"]("parameterHintsMultipleSignatures",!1)};function x(e,t,i,n){return L(this,void 0,void 0,(function*(){const o=b["B"].ordered(e);for(const r of o)try{const o=yield r.provideSignatureHelp(e,t,n,i);if(o)return o}catch(s){Object(m["g"])(s)}}))}C["a"].registerCommand("_executeSignatureHelpProvider",(e,...t)=>L(void 0,void 0,void 0,(function*(){const[i,n,o]=t;Object(w["c"])(_["a"].isUri(i)),Object(w["c"])(f["a"].isIPosition(n)),Object(w["c"])("string"===typeof o||!o);const s=yield e.get(S["a"]).createModelReference(i);try{const e=yield x(s.object.textEditorModel,f["a"].lift(n),{triggerKind:b["C"].Invoke,isRetrigger:!1,triggerCharacter:o},v["a"].None);if(!e)return;return setTimeout(()=>e.dispose(),0),e.value}finally{s.dispose()}})));var O,I=i("1366"),M=i("a89b"),D=i("0f39"),N=i("ed74"),k=i("dc32"),E=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};(function(e){e.Default={type:0};class t{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}}e.Pending=t;class i{constructor(e){this.hints=e,this.type=1}}e.Active=i})(O||(O={}));class T extends o["a"]{constructor(e,t=T.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new h["b"]),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=O.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new o["d"]),this.triggerChars=new k["b"],this.retriggerChars=new k["b"],this.triggerId=0,this.editor=e,this.throttledDelayer=new N["a"](t),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(e=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(e=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(e=>this.onCursorChange(e))),this._register(this.editor.onDidChangeModelContent(e=>this.onModelContentChange())),this._register(b["B"].onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(e=>this.onDidType(e))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=O.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!b["B"].has(i))return;const n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(n),t).catch(m["f"])}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,n=this.editor.getOption(75).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,n=this.editor.getOption(75).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new O.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return E(this,void 0,void 0,(function*(){const t=1===this.state.type||2===this.state.type,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const n=this._pendingTriggers.reduce(R);this._pendingTriggers=[];const o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),r=this.editor.getPosition();this.state=new O.Pending(Object(N["h"])(e=>x(s,r,o,e)),i);try{const t=yield this.state.request;return e!==this.triggerId?(null===t||void 0===t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new O.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null===t||void 0===t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(a){return e===this.triggerId&&(this.state=O.Default),Object(m["f"])(a),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new k["b"],this.retriggerChars=new k["b"];const e=this.editor.getModel();if(e)for(const t of b["B"].ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:b["C"].TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:b["C"].ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:b["C"].ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function R(e,t){switch(t.triggerKind){case b["C"].Invoke:return t;case b["C"].ContentChange:return e;case b["C"].TriggerCharacter:default:return t}}T.DEFAULT_DELAY=120;var j=i("8836"),P=i("a74d"),A=i("4d15"),F=i("1f99"),H=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},V=function(e,t){return function(i,n){t(i,n,e)}};const W=l["a"],U=Object(F["b"])("parameter-hints-next",P["b"].chevronDown,n["a"]("parameterHintsNextIcon","Icon for show next parameter hint.")),B=Object(F["b"])("parameter-hints-previous",P["b"].chevronUp,n["a"]("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let q=class e extends o["a"]{constructor(e,t,i,n){super(),this.editor=e,this.renderDisposeables=this._register(new o["b"]),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new p["a"]({editor:e},n,i)),this.model=this._register(new T(e)),this.keyVisible=y.Visible.bindTo(t),this.keyMultipleSignatures=y.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(e=>{e?(this.show(),this.render(e)):this.hide()}))}createParameterHintDOMNodes(){const e=W(".editor-widget.parameter-hints-widget"),t=l["q"](e,W(".phwrapper"));t.tabIndex=-1;const i=l["q"](t,W(".controls")),n=l["q"](i,W(".button"+D["d"].asCSSSelector(B))),o=l["q"](i,W(".overloads")),s=l["q"](i,W(".button"+D["d"].asCSSSelector(U)));this._register(l["i"](n,"click",e=>{l["c"].stop(e),this.previous()})),this._register(l["i"](s,"click",e=>{l["c"].stop(e),this.next()}));const r=W(".body"),a=new u["a"](r,{});this._register(a),t.appendChild(a.getDomNode());const d=l["q"](r,W(".signature")),c=l["q"](r,W(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:d,overloads:o,docs:c,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(e=>{this.visible&&this.editor.layoutContentWidget(this)}));const g=()=>{if(!this.domNodes)return;const e=this.editor.getOption(42);this.domNodes.element.style.fontSize=e.fontSize+"px"};g(),this._register(h["c"].chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(e=>e.hasChanged(42)).on(g,null)),this._register(this.editor.onDidLayoutChange(e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const o=e.signatures[e.activeSignature];if(!o)return;const s=l["q"](this.domNodes.signature,W(".code")),r=this.editor.getOption(42);s.style.fontSize=r.fontSize+"px",s.style.fontFamily=r.fontFamily;const a=o.parameters.length>0,d=null!==(t=o.activeParameter)&&void 0!==t?t:e.activeParameter;if(a)this.renderParameters(s,o,d);else{const e=l["q"](s,W("span"));e.textContent=o.label}const u=o.parameters[d];if(null===u||void 0===u?void 0:u.documentation){const e=W("span.documentation");if("string"===typeof u.documentation)e.textContent=u.documentation;else{const t=this.renderMarkdownDocs(u.documentation);e.appendChild(t.element)}l["q"](this.domNodes.docs,W("p",{},e))}if(void 0===o.documentation);else if("string"===typeof o.documentation)l["q"](this.domNodes.docs,W("p",{},o.documentation));else{const e=this.renderMarkdownDocs(o.documentation);l["q"](this.domNodes.docs,e.element)}const h=this.hasDocs(o,u);if(this.domNodes.signature.classList.toggle("has-docs",h),this.domNodes.docs.classList.toggle("empty",!h),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,u){let e="";const t=o.parameters[d];e=Array.isArray(t.label)?o.label.substring(t.label[0],t.label[1]):t.label,t.documentation&&(e+="string"===typeof t.documentation?", "+t.documentation:", "+t.documentation.value),o.documentation&&(e+="string"===typeof o.documentation?", "+o.documentation:", "+o.documentation.value),this.announcedLabel!==e&&(c["a"](n["a"]("hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null===(e=this.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"===typeof t.documentation&&Object(w["a"])(t.documentation).length>0)||(!!(t&&"object"===typeof t.documentation&&Object(w["a"])(t.documentation).value.length>0)||(!!(e.documentation&&"string"===typeof e.documentation&&Object(w["a"])(e.documentation).length>0)||!!(e.documentation&&"object"===typeof e.documentation&&Object(w["a"])(e.documentation.value).length>0)))}renderParameters(e,t,i){const[n,o]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,n);const r=document.createElement("span");r.textContent=t.label.substring(n,o),r.className="parameter active";const a=document.createElement("span");a.textContent=t.label.substring(o),l["q"](e,s,r,a)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const t=new RegExp(`(\\W|^)${Object(j["t"])(i.label)}(?=\\W|$)`,"g");t.test(e.label);const n=t.lastIndex-i.label.length;return n>=0?[n,t.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const e=Math.max(this.editor.getLayoutInfo().height/4,250),t=e+"px";this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};q.ID="editor.widget.parameterHintsWidget",q=H([V(1,a["b"]),V(2,I["a"]),V(3,g["a"])],q),Object(D["f"])((e,t)=>{const i=e.getColor(M["F"]);if(i){const n=e.type===A["a"].HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${i.transparent(.5)}; }`)}const n=e.getColor(M["E"]);n&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const o=e.getColor(M["Jc"]);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const s=e.getColor(M["Ic"]);s&&t.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${s}; }`);const r=e.getColor(M["G"]);r&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${r}; }`);const a=e.getColor(M["Hc"]);a&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`)});var K=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},$=function(e,t){return function(i,n){t(i,n,e)}};let z=class e extends o["a"]{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(q,this.editor))}static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};z.ID="editor.controller.parameterHints",z=K([$(1,s["a"])],z);class G extends d["b"]{constructor(){super({id:"editor.action.triggerParameterHints",label:n["a"]("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:r["a"].hasSignatureHelpProvider,kbOpts:{kbExpr:r["a"].editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=z.get(t);i&&i.trigger({triggerKind:b["C"].Invoke})}}Object(d["l"])(z.ID,z),Object(d["j"])(G);const Z=175,X=d["c"].bindToContribution(z.get);Object(d["k"])(new X({id:"closeParameterHints",precondition:y.Visible,handler:e=>e.cancel(),kbOpts:{weight:Z,kbExpr:r["a"].focus,primary:9,secondary:[1033]}})),Object(d["k"])(new X({id:"showPrevParameterHint",precondition:a["a"].and(y.Visible,y.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:Z,kbExpr:r["a"].focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(d["k"])(new X({id:"showNextParameterHint",precondition:a["a"].and(y.Visible,y.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:Z,kbExpr:r["a"].focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},"2da6":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fa65"),o=i("f75e");class s extends n["a"]{constructor(e,t,i,n,o,s){super(e,t,i,n,o,s)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:Object(o["e"])(i.label)||i.id});return t}}},"3cdf":function(e,t,i){"use strict";i.d(t,"a",(function(){return Te})),i.d(t,"d",(function(){return Ae})),i.d(t,"b",(function(){return Fe})),i.d(t,"c",(function(){return He}));var n,o=i("520f"),s=i("0330"),r=i("1d14"),a=(i("40c5"),i("1e3e")),d=i("5cc8"),l=i("1462"),c=i("8836"),u=i("2e9f"),h=i("84a0"),g=i("55ab"),p=i("be7e"),m=i("5a6a"),f=i("20a6"),b=i("0f39"),v=i("7006"),C=i("5e2a"),_=i("02b8"),w=i("85ea"),S=i("9d16"),L=i("6208"),y=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},x=function(e,t){return function(i,n){t(i,n,e)}};const O=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("editorGhostText",{createHTML:e=>e});let I=class extends o["a"]{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(M,this.editor)),this.additionalLinesWidget=this._register(new N(this.editor)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(e=>{(e.hasChanged(28)||e.hasChanged(105)||e.hasChanged(88)||e.hasChanged(82)||e.hasChanged(43)||e.hasChanged(42)||e.hasChanged(58))&&this.update()})),this._register(Object(o["i"])(()=>{var e;this.disposed=!0,this.update(),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const i=new Array,n=new Array;function o(e,t){if(n.length>0){const i=n[n.length-1];t&&i.decorations.push(new w["a"](i.content.length+1,i.content.length+1+e[0].length,t,0)),i.content+=e[0],e=e.slice(1)}for(const i of e)n.push({content:i,decorations:t?[new w["a"](1,i.length+1,t,0)]:[]})}const s=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let r=void 0,a=0;for(const d of t.parts){let e=d.lines;void 0===r?(i.push({column:d.column,text:e[0],preview:d.preview}),e=e.slice(1)):o([s.substring(a,d.column-1)],void 0),e.length>0&&(o(e,"ghost-text"),void 0===r&&d.column<=s.length&&(r=d.column)),a=d.column-1}void 0!==r&&o([s.substring(a)],void 0),this.partsWidget.setParts(t.lineNumber,i,void 0!==r?{column:r,length:s.length+1-r}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),t.parts.some(e=>e.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new f["a"](t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){const n=this.editor.getOption(42),s=document.createElement("div");s.className="suggest-preview-additional-widget",p["a"].applyFontInfoSlow(s,n);const r=document.createElement("span");r.className="content-spacer",r.append(t),s.append(r);const d=document.createElement("span");d.className="content-newline suggest-preview-text",d.append("⏎  "),s.append(d);const l=new o["b"],c=document.createElement("div");return c.className="button suggest-preview-text",c.append(`+${i} lines…`),l.add(a["o"](c,"mousedown",e=>{var t;null===(t=this.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),this.editor.focus()})),s.append(c),new R(this.editor,e,s,l)}};I=y([x(2,L["a"])],I);let M=class{constructor(e,t,i,n){this.editor=e,this.codeEditorService=t,this.themeService=i,this.contextKeyService=n,this.decorationIds=[],this.disposableStore=new o["b"]}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,i){this.disposableStore.clear();const n=this.themeService.getColorTheme(),o=n.getColor(v["y"]);let s=void 0,r=void 0;o&&(s=String(o.rgba.a),r=C["a"].Format.CSS.format(D(o)));const a=n.getColor(v["x"]);let l=void 0;a&&(l="2px dashed "+a);const c=this.editor.getModel();if(!c)return;const{tabSize:u}=c.getOptions(),h=c.getLineContent(e)||"";let g=0,p="";const m=new Array;i&&m.push({range:d["a"].fromPositions(new f["a"](e,i.column),new f["a"](e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const b=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),_=void 0===b||!!b;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(t=>{p+=h.substring(g,t.column-1),g=t.column-1;const i=_?t.text:this.renderSingleLineText(t.text,p,u,!1),n=this.disposableStore.add(T(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:i,opacity:s,color:r,border:l,fontWeight:t.preview?"bold":"normal"}}));return{range:d["a"].fromPositions(new f["a"](e,t.column)),options:_?{description:"ghost-text",after:{content:i,inlineClassName:t.preview?"ghost-text-decoration-preview":"ghost-text-decoration"}}:Object.assign({},n.resolve())}}).concat(m))}renderSingleLineText(e,t,i,n){const o=t+e,s=_["a"].visibleColumnsByColumns(o,i);let r="",a=t.length+1;for(const d of e){if("\t"===d){const e=s[a+1]-s[a];if(n){r+="→";for(let t=1;t<e;t++)r+=" "}else for(let t=0;t<e;t++)r+=" "}else r+=" "===d?n?"·":" ":d;a+=1}return r}};function D(e){const{r:t,b:i,g:n}=e.rgba;return new C["a"](new C["c"](t,n,i,255))}M=y([x(1,l["a"]),x(2,b["b"]),x(3,S["b"])],M);class N{constructor(e){this.editor=e,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const n=this.editor.getModel();if(!n)return;const{tabSize:o}=n.getOptions();this.editor.changeViewZones(n=>{this._viewZoneId&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0);const s=Math.max(t.length,i);if(s>0){const i=document.createElement("div");k(i,o,t,this.editor.getOptions()),this._viewZoneId=n.addZone({afterLineNumber:e,heightInLines:s,domNode:i})}})}}function k(e,t,i,n){const o=n.get(28),s=n.get(105),r="none",a=n.get(82),d=n.get(43),l=n.get(42),f=n.get(58),b=Object(g["a"])(1e4);b.appendASCIIString('<div class="suggest-preview-text">');for(let g=0,p=i.length;g<p;g++){const e=i[g],n=e.content;b.appendASCIIString('<div class="view-line'),b.appendASCIIString('" style="top:'),b.appendASCIIString(String(g*f)),b.appendASCIIString('px;width:1000000px;">');const p=c["A"](n),v=c["m"](n),C=m["a"].createEmpty(n);Object(u["d"])(new u["c"](l.isMonospace&&!o,l.canUseHalfwidthRightwardsArrow,n,!1,p,v,0,C,e.decorations,t,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,s,r,a,d!==h["e"].OFF,null),b),b.appendASCIIString("</div>")}b.appendASCIIString("</div>"),p["a"].applyFontInfoSlow(e,l);const v=b.build(),C=O?O.createHTML(v):v;e.innerHTML=C}let E=0;function T(e,t,i,n){const o=i+E++;return e.registerDecorationType(t,o,n),{dispose(){e.removeDecorationType(o)},resolve(){return e.resolveDecorationOptions(o,!0)}}}class R extends o["a"]{constructor(e,t,i,n){super(),this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(n),this._register(Object(o["i"])(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}Object(b["f"])((e,t)=>{const i=e.getColor(v["y"]);if(i){const e=String(i.rgba.a),n=C["a"].Format.CSS.format(D(i));t.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${e}; color: ${n}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${i.toString()}; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${e}; color: ${n}; }`)}const n=e.getColor(v["x"]);n&&t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ${n}; }`)});var j=i("2709"),P=i("ed74"),A=i("0a49"),F=i("d74c"),H=i("26384"),V=i("ffca"),W=i("34ac"),U=i("d4d6"),B=i("dcb3");class q{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(0===this.parts.length)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1),n=$(i,this.parts.map(e=>({range:{startLineNumber:1,endLineNumber:1,startColumn:e.column,endColumn:e.column},text:e.lines.join("\n")})));return n.substring(this.parts[0].column-1)}}class K{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}function $(e,t){const i=new K(e),n=t.map(e=>{const t=d["a"].lift(e.range);return{startOffset:i.getOffset(t.getStartPosition()),endOffset:i.getOffset(t.getEndPosition()),text:e.text}});n.sort((e,t)=>t.startOffset-e.startOffset);for(const o of n)e=e.substring(0,o.startOffset)+o.text+e.substring(o.endOffset);return e}class z{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}}class G extends o["a"]{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new H["b"],this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(106)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var Z=i("9760");function X(e,t,i,n,o=0){if(e.range.startLineNumber!==e.range.endLineNumber)return;const s=e.text.length,r=s-o,a=t.getValueInRange(e.range),d=Y(a,e.text),l=e.range.startLineNumber,u=new Array;if("prefix"===i){const e=d.filter(e=>0===e.originalLength);if(e.length>1||1===e.length&&e[0].originalStart!==a.length)return}for(const h of d){const o=e.range.startColumn+h.originalStart+h.originalLength;if("subwordSmart"===i&&n&&n.lineNumber===e.range.startLineNumber&&o<n.column)return;if(h.originalLength>0){const e=a.substr(h.originalStart,h.originalLength),i=t.getLineFirstNonWhitespaceColumn(l);if(!/^(\t| )*$/.test(e)||!(0===i||o<=i))return}if(0===h.modifiedLength)continue;const s=h.modifiedStart+h.modifiedLength,d=Math.max(h.modifiedStart,Math.min(s,r)),g=e.text.substring(h.modifiedStart,d),p=e.text.substring(d,Math.max(h.modifiedStart,s));if(g.length>0){const e=c["Q"](g);u.push(new z(o,e,!1))}if(p.length>0){const e=c["Q"](p);u.push(new z(o,e,!0))}}return new q(l,u,0)}let J=void 0;function Y(e,t){if((null===J||void 0===J?void 0:J.originalValue)===e&&(null===J||void 0===J?void 0:J.newValue)===t)return null===J||void 0===J?void 0:J.changes;{const i=Q(e,t);return J={originalValue:e,newValue:t,changes:i},i}}function Q(e,t){function i(e){let t=0;for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);n>t&&(t=n)}return t}const n=Math.max(i(e),i(t));function o(e){if(e<0)throw new Error("unexpected");return n+e+1}function s(e){let t=0,i=0;const n=new Int32Array(e.length);for(let s=0,r=e.length;s<r;s++){const r=100*i+t;"("===e[s]?(n[s]=o(2*r),t++):")"===e[s]?(n[s]=o(2*r+1),1===t&&i++,t=Math.max(t-1,0)):n[s]=e.charCodeAt(s)}return n}const r=s(e),a=s(t);return new Z["a"]({getElements:()=>r},{getElements:()=>a}).ComputeDiff(!1).changes}const ee="editor.action.inlineSuggest.commit";var te=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},ie=function(e,t){return function(i,n){t(i,n,e)}},ne=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};let oe=class extends o["a"]{constructor(e,t,i){super(),this.editor=e,this.cache=t,this.commandService=i,this.onDidChangeEmitter=new H["b"],this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new o["d"]),this.active=!1,this.disposed=!1,this._register(i.onDidExecuteCommand(t=>{const i=new Set([s["i"].id,s["g"].id,B["a"].Tab.id,B["a"].DeleteLeft.id,B["a"].DeleteRight.id,ee,"acceptSelectedSuggestion"]);i.has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(e=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.session&&!this.session.isValid&&this.hide()})),this._register(Object(o["i"])(()=>{this.disposed=!0}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){const e=this.editor.getOption(54);e.enabled&&(this.session&&this.session.isValid||this.trigger(V["s"].Automatic))}trigger(e){this.completionSession.value?e===V["s"].Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new se(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return ne(this,void 0,void 0,(function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};oe=te([ie(2,U["b"])],oe);class se extends G{constructor(e,t,i,n,s,r){super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=n,this.cache=s,this.initialTriggerKind=r,this.minReservedLineCount=0,this.updateOperation=this._register(new o["d"]),this.updateSoon=this._register(new P["e"](()=>{let e=this.initialTriggerKind;return this.initialTriggerKind=V["s"].Automatic,this.update(e)},50)),this.currentlySelectedCompletionId=void 0;let a=void 0;this._register(this.onDidChange(()=>{const e=this.currentCompletion;if(e&&e.sourceInlineCompletion!==a){a=e.sourceInlineCompletion;const t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,a)}})),this._register(Object(o["i"])(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(e=>{this.scheduleAutomaticUpdate()})),this._register(V["t"].onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return ne(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var e;return ne(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return ne(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===V["s"].Explicit?yield this.updateOperation.value.promise:yield this.update(V["s"].Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==V["s"].Explicit&&(yield this.update(V["s"].Explicit))}))}hasMultipleInlineCompletions(){var e;return ne(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1}))}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(54).mode;return e?X(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return ne(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),i=Object(P["h"])(i=>ne(this,void 0,void 0,(function*(){let n;try{n=yield ce(t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},i)}catch(o){return void Object(F["f"])(o)}i.isCancellationRequested||(this.cache.setValue(this.editor,n,e),this.onDidChangeEmitter.fire())}))),n=new re(i,e);this.updateOperation.value=n,yield i,this.updateOperation.value===n&&this.updateOperation.clear()}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[W["a"].replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null===t||void 0===t||t.dispose()}).then(void 0,F["g"]):null===t||void 0===t||t.dispose(),this.onDidChangeEmitter.fire()}}class re{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class ae extends o["a"]{constructor(e,t,i,n){super(),this.triggerKind=n;const s=e.deltaDecorations([],t.items.map(e=>({range:e.range,options:{description:"inline-completion-tracking-range"}})));this._register(Object(o["i"])(()=>{e.deltaDecorations(s,[])})),this.completions=t.items.map((e,t)=>new de(e,s[t])),this._register(e.onDidChangeModelContent(()=>{let t=!1;const n=e.getModel();for(const e of this.completions){const i=n.getDecorationRange(e.decorationId);i?e.synchronizedRange.equalsRange(i)||(t=!0,e.synchronizedRange=i):Object(F["f"])(new Error("Decoration has no range"))}t&&i()})),this._register(t)}}class de{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function le(e,t){const i=t.getWordAtPosition(e),n=t.getLineMaxColumn(e.lineNumber);return i?new d["a"](e.lineNumber,i.startColumn,e.lineNumber,n):d["a"].fromPositions(e,e.with(void 0,n))}function ce(e,t,i,n=A["a"].None){return ne(this,void 0,void 0,(function*(){const o=le(e,t),s=V["t"].all(t),r=yield Promise.all(s.map(o=>ne(this,void 0,void 0,(function*(){const s=yield o.provideInlineCompletions(t,e,i,n);return{completions:s,provider:o,dispose:()=>{s&&o.freeInlineCompletions(s)}}})))),a=new Map;for(const e of r){const t=e.completions;if(t)for(const i of t.items.map(i=>({text:i.text,range:i.range?d["a"].lift(i.range):o,command:i.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:i})))i.range.startLineNumber===i.range.endLineNumber&&a.set(JSON.stringify({text:i.text,range:i.range}),i)}return{items:[...a.values()],dispose:()=>{for(const e of r)e.dispose()}}}))}var ue=i("077d"),he=i("858a"),ge=i("3f1a");class pe extends o["a"]{constructor(e){super(),this.editor=e,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new H["b"],this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new P["e"](()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const t=ge["a"].get(this.editor);if(t){let e=!1;const i=()=>{e||(e=!0,this._register(t.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(t.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(t.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(H["c"].once(t.model.onDidTrigger)(e=>{i()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(e){const t=this.getInlineCompletion();let i=!1;this._currentInlineCompletion!==t&&(this._currentInlineCompletion=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const e=ge["a"].get(this.editor);if(!e)return;if(!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();return t?me(e,this.editor.getPosition(),t,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const e=ge["a"].get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=ge["a"].get(this.editor);e&&e.forceRenderingAbove()}}function me(e,t,i,n){const o=i.item;if(Array.isArray(o.completion.additionalTextEdits)&&o.completion.additionalTextEdits.length>0)return{text:"",range:d["a"].fromPositions(t,t)};let{insertText:s}=o.completion;if(4&o.completion.insertTextRules){const i=(new ue["c"]).parse(s),n=e.editor.getModel();he["a"].adjustWhitespace(n,t,i,!0,!0),s=i.toString()}const r=e.getOverwriteInfo(o,n);return{text:s,range:d["a"].fromPositions(t.delta(0,-r.overwriteBefore),t.delta(0,Math.max(r.overwriteAfter,0)))}}var fe=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};class be extends G{constructor(e,t){super(e),this.cache=t,this.suggestionInlineCompletionSource=this._register(new pe(this.editor)),this.updateOperation=this._register(new o["d"]),this.updateCacheSoon=this._register(new P["e"](()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule();const e=this.suggestionInlineCompletionSource.state;e||(this.minReservedLineCount=0);const t=this.ghostText;t&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,ve(t.parts.map(e=>e.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register(Object(o["i"])(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){const e=this.editor.getOption(106);return e.preview}updateCache(){return fe(this,void 0,void 0,(function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItemAsInlineCompletion)return;const t={text:e.selectedItemAsInlineCompletion.text,range:e.selectedItemAsInlineCompletion.range},i=this.editor.getPosition(),n=Object(P["h"])(e=>fe(this,void 0,void 0,(function*(){let n;try{n=yield ce(i,this.editor.getModel(),{triggerKind:V["s"].Automatic,selectedSuggestionInfo:t},e)}catch(o){return void Object(F["f"])(o)}e.isCancellationRequested||(this.cache.setValue(this.editor,n,V["s"].Automatic),this.onDidChangeEmitter.fire())}))),o=new re(n,V["s"].Automatic);this.updateOperation.value=o,yield n,this.updateOperation.value===o&&this.updateOperation.clear()}))}get ghostText(){var e,t;const i=this.suggestionInlineCompletionSource.state,n=we(this.editor.getModel(),null===i||void 0===i?void 0:i.selectedItemAsInlineCompletion),o=we(this.editor.getModel(),null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()),s=o&&n&&o.text.startsWith(n.text)&&o.range.equalsRange(n.range)?o:n||o,r=n?((null===s||void 0===s?void 0:s.text.length)||0)-n.text.length:0,a=e=>{const t=this.editor.getOptions().get(106).previewMode;return e?X(e,this.editor.getModel(),t,this.editor.getPosition(),r)||new q(e.range.endLineNumber,[],this.minReservedLineCount):void 0},d=a(s);return this.isSuggestionPreviewEnabled()?d:void 0}}function ve(e){return e.reduce((e,t)=>e+t,0)}function Ce(e,t){let i=0;while(i<e.length&&i<t.length&&e[i]===t[i])i++;return i}function _e(e,t){let i=0;while(i<e.length&&i<t.length&&e[e.length-i-1]===t[t.length-i-1])i++;return i}function we(e,t){if(!t)return t;const i=e.getValueInRange(t.range),n=Ce(i,t.text),o=e.getOffsetAt(t.range.getStartPosition())+n,s=e.getPositionAt(o),r=i.substr(n),a=_e(r,t.text),l=e.getPositionAt(Math.max(o,e.getOffsetAt(t.range.getEndPosition())-a));return{range:d["a"].fromPositions(s,l),text:t.text.substr(n,t.text.length-n-a)}}function Se(e,t){return{object:e,dispose:()=>null===t||void 0===t?void 0:t.dispose()}}var Le=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},ye=function(e,t){return function(i,n){t(i,n,e)}},xe=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};class Oe extends o["a"]{constructor(){super(...arguments),this.onDidChangeEmitter=new H["b"],this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new o["d"])}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?Se(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Ie=class extends Oe{constructor(e,t){super(),this.editor=e,this.commandService=t,this.sharedCache=this._register(new Me),this.suggestWidgetAdapterModel=this._register(new be(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new oe(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const i=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!i&&i.parts.some(t=>e.containsPosition(new f["a"](i.lineNumber,t.column)))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger(V["s"].Explicit)}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e;return xe(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};Ie=Le([ye(1,U["b"])],Ie);class Me extends o["a"]{constructor(){super(...arguments),this.onDidChangeEmitter=new H["b"],this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new o["d"])}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new ae(e,t,()=>this.onDidChangeEmitter.fire(),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var De=i("f02e"),Ne=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},ke=function(e,t){return function(i,n){t(i,n,e)}},Ee=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};let Te=class e extends o["a"]{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new o["d"]),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(106)&&this.updateModelController(),e.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(e.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(106),t=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(je,this.editor):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return(null===(i=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Ee(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};Te.inlineSuggestionVisible=new S["c"]("inlineSuggestionVisible",!1,j["a"]("inlineSuggestionVisible","Whether an inline suggestion is visible")),Te.inlineSuggestionHasIndentation=new S["c"]("inlineSuggestionHasIndentation",!1,j["a"]("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Te.ID="editor.contrib.ghostTextController",Te=Ne([ke(1,L["a"])],Te);class Re{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=Te.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Te.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}}let je=class extends o["a"]{constructor(e,t,i){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new Re(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Ie,this.editor)),this.widget=this._register(this.instantiationService.createInstance(I,this.editor,this.model)),this._register(Object(o["i"])(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));const t=this.model.inlineCompletionsModel.ghostText;if(t&&t.parts.length>0){const{column:e,lines:i}=t.parts[0],n=i[0].startsWith(" ")||i[0].startsWith("\t"),o=this.editor.getModel().getLineIndentColumn(t.lineNumber),s=e<=o;this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&n&&s)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}};je=Ne([ke(1,L["a"]),ke(2,S["b"])],je);const Pe=s["c"].bindToContribution(Te.get),Ae=new Pe({id:ee,precondition:Te.inlineSuggestionVisible,handler(e){e.commit(),e.editor.focus()}});Object(s["k"])(Ae),De["a"].registerKeybindingRule({primary:2,weight:200,id:Ae.id,when:S["a"].and(Ae.precondition,r["a"].tabMovesFocus.toNegated(),Te.inlineSuggestionHasIndentation.toNegated())}),Object(s["k"])(new Pe({id:"editor.action.inlineSuggest.hide",precondition:Te.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}));class Fe extends s["b"]{constructor(){super({id:Fe.ID,label:j["a"]("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:S["a"].and(r["a"].writable,Te.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return Ee(this,void 0,void 0,(function*(){const e=Te.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}}Fe.ID="editor.action.inlineSuggest.showNext";class He extends s["b"]{constructor(){super({id:He.ID,label:j["a"]("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:S["a"].and(r["a"].writable,Te.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return Ee(this,void 0,void 0,(function*(){const e=Te.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}}He.ID="editor.action.inlineSuggest.showPrevious";class Ve extends s["b"]{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:j["a"]("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:r["a"].writable})}run(e,t){return Ee(this,void 0,void 0,(function*(){const e=Te.get(t);e&&e.trigger()}))}}Object(s["l"])(Te.ID,Te),Object(s["j"])(Ve),Object(s["j"])(Fe),Object(s["j"])(He)},"40c5":function(e,t,i){},"4ad8":function(e,t,i){"use strict";function n(e,t){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function o(e,t,i){e=e<0?0:e;let n="";if(!i){let i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)n+="\t"}for(let o=0;o<e;o++)n+=" ";return n}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}))},"669f":function(e,t,i){"use strict";var n=i("2709"),o=i("ed74"),s=i("79c2"),r=i("520f"),a=i("ece8"),d=i("0330"),l=i("ce7f"),c=i("5cc8"),u=i("c593"),h=i("1d14"),g=i("1848"),p=i("d93d"),m=i("ffca"),f=i("1264"),b=i("a2c5"),v=i("a89b"),C=i("0f39"),_=i("9d16");function w(e,t){const i=t.filter(t=>!e.find(e=>e.equals(t)));if(i.length>=1){const e=i.map(e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`).join(", "),t=1===i.length?n["a"]("cursorAdded","Cursor added: {0}",e):n["a"]("cursorsAdded","Cursors added: {0}",e);Object(a["c"])(t)}}class S extends d["b"]{constructor(){super({id:"editor.action.insertCursorAbove",label:n["a"]("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:h["a"].editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:b["b"].MenubarSelectionMenu,group:"3_multi",title:n["a"]({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;const n=i&&!0===i.logicalLine,o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,l["b"].addCursorUp(o,s,n)),o.revealTopMostCursor(i.source),w(s,o.getCursorStates())}}class L extends d["b"]{constructor(){super({id:"editor.action.insertCursorBelow",label:n["a"]("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:h["a"].editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:b["b"].MenubarSelectionMenu,group:"3_multi",title:n["a"]({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;const n=i&&!0===i.logicalLine,o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,l["b"].addCursorDown(o,s,n)),o.revealBottomMostCursor(i.source),w(s,o.getCursorStates())}}class y extends d["b"]{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:n["a"]("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:h["a"].editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:b["b"].MenubarSelectionMenu,group:"3_multi",title:n["a"]({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){let e=t.getLineMaxColumn(n);i.push(new u["a"](n,e,n,e))}e.endColumn>1&&i.push(new u["a"](e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=t.getSelections(),o=t._getViewModel(),s=o.getCursorStates();let r=[];n.forEach(e=>this.getCursorsForSelection(e,i,r)),r.length>0&&t.setSelections(r),w(s,o.getCursorStates())}}class x extends d["b"]{constructor(){super({id:"editor.action.addCursorsToBottom",label:n["a"]("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=t.getModel().getLineCount();let o=[];for(let a=i[0].startLineNumber;a<=n;a++)o.push(new u["a"](a,i[0].startColumn,a,i[0].endColumn));const s=t._getViewModel(),r=s.getCursorStates();o.length>0&&t.setSelections(o),w(r,s.getCursorStates())}}class O extends d["b"]{constructor(){super({id:"editor.action.addCursorsToTop",label:n["a"]("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections();let n=[];for(let r=i[0].startLineNumber;r>=1;r--)n.push(new u["a"](r,i[0].startColumn,r,i[0].endColumn));const o=t._getViewModel(),s=o.getCursorStates();n.length>0&&t.setSelections(n),w(s,o.getCursorStates())}}class I{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class M{constructor(e,t,i,n,o,s,r){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=s,this.currentMatch=r}static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new M(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n,o,s=!1;const r=e.getSelections();1===r.length&&r[0].isEmpty()?(s=!0,n=!0,o=!0):(n=i.wholeWord,o=i.matchCase);const a=e.getSelection();let d,l=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;d=t.word,l=new u["a"](a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else d=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new M(e,t,s,d,n,o,l)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new I(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new I(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return i?new u["a"](i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new I(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new I(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1);return i?new u["a"](i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(116):null,!1,1073741824)):[]}}class D extends r["a"]{constructor(e){super(),this._sessionDispose=this._register(new r["b"]),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(D.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=M.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(e=>{(e.matchCase||e.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new u["a"](t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const i=e.getState(),n=i.matchCase,o=H(this._editor.getModel(),t,n);if(!o){const e=this._editor.getModel();let i=[];for(let n=0,o=t.length;n<o;n++)i[n]=this._expandEmptyToWord(e,t[n]);return void this._editor.setSelections(i)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(116):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){const e=i.searchScope;let n=[];t.forEach(t=>{e.forEach(e=>{t.range.endLineNumber<=e.endLineNumber&&t.range.startLineNumber>=e.startLineNumber&&n.push(t)})}),t=n}if(t.length>0){const e=this._editor.getSelection();for(let i=0,n=t.length;i<n;i++){const n=t[i],o=n.range.intersectRanges(e);if(o){t[i]=t[0],t[0]=n;break}}this._setSelections(t.map(e=>new u["a"](e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)))}}}D.ID="editor.contrib.multiCursorController";class N extends d["b"]{run(e,t){const i=D.get(t);if(!i)return;const n=f["a"].get(t);if(!n)return;const o=t._getViewModel();if(o){const e=o.getCursorStates();this._run(i,n),w(e,o.getCursorStates())}}}class k extends N{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:n["a"]("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h["a"].focus,primary:2082,weight:100},menuOpts:{menuId:b["b"].MenubarSelectionMenu,group:"3_multi",title:n["a"]({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class E extends N{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:n["a"]("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:b["b"].MenubarSelectionMenu,group:"3_multi",title:n["a"]({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class T extends N{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:n["a"]("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h["a"].focus,primary:Object(s["a"])(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class R extends N{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:n["a"]("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class j extends N{constructor(){super({id:"editor.action.selectHighlights",label:n["a"]("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:h["a"].focus,primary:3114,weight:100},menuOpts:{menuId:b["b"].MenubarSelectionMenu,group:"3_multi",title:n["a"]({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class P extends N{constructor(){super({id:"editor.action.changeAll",label:n["a"]("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:_["a"].and(h["a"].writable,h["a"].editorTextFocus),kbOpts:{kbExpr:h["a"].editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class A{constructor(e,t,i,n){this.searchText=e,this.matchCase=t,this.wordSeparators=i,this.modelVersionId=n}static softEquals(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId)}}class F extends r["a"]{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(97),this.decorations=[],this.updateSoon=this._register(new o["e"](()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(t=>{this._isEnabled=e.getOption(97)})),this._register(e.onDidChangeCursorSelection(e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(e=>{this._setState(null)})),this._register(e.onDidChangeModelContent(e=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(f["a"].get(e).getState().onFindReplaceStateChange(e=>{this._update()}))}_update(){this._setState(F._createState(this._isEnabled,this.editor))}static _createState(e,t){if(!e)return null;if(!t.hasModel())return null;const i=t.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;const n=D.get(t);if(!n)return null;const o=f["a"].get(t);if(!o)return null;let s=n.getSession(o);if(!s){const e=t.getSelections();if(e.length>1){const i=o.getState(),n=i.matchCase,s=H(t.getModel(),e,n);if(!s)return null}s=M.create(t,o)}if(!s)return null;if(s.currentMatch)return null;if(/^[ \t]+$/.test(s.searchText))return null;if(s.searchText.length>200)return null;const r=o.getState(),a=r.matchCase;if(r.isRevealed){let e=r.searchString;a||(e=e.toLowerCase());let t=s.searchText;if(a||(t=t.toLowerCase()),e===t&&s.matchCase===r.matchCase&&s.wholeWord===r.wholeWord&&!r.isRegex)return null}return new A(s.searchText,s.matchCase,s.wholeWord?t.getOption(116):null,t.getModel().getVersionId())}_setState(e){if(A.softEquals(this.state,e))return void(this.state=e);if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=m["i"].has(t)&&this.editor.getOption(71);let n=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(e=>e.range);n.sort(c["a"].compareRangesUsingStarts);let o=this.editor.getSelections();o.sort(c["a"].compareRangesUsingStarts);let s=[];for(let a=0,d=0,l=n.length,u=o.length;a<l;){const e=n[a];if(d>=u)s.push(e),a++;else{const t=c["a"].compareRangesUsingStarts(e,o[d]);t<0?(!o[d].isEmpty()&&c["a"].areIntersecting(e,o[d])||s.push(e),a++):(t>0||a++,d++)}}const r=s.map(e=>({range:e,options:i?F._SELECTION_HIGHLIGHT:F._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,r)}dispose(){this._setState(null),super.dispose()}}function H(e,t,i){const n=V(e,t[0],!i);for(let o=1,s=t.length;o<s;o++){const s=t[o];if(s.isEmpty())return!1;const r=V(e,s,!i);if(n!==r)return!1}return!0}function V(e,t,i){const n=e.getValueInRange(t);return i?n.toLowerCase():n}F.ID="editor.contrib.selectionHighlighter",F._SELECTION_HIGHLIGHT_OVERVIEW=p["a"].register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(C["g"])(v["jc"]),position:g["d"].Center}}),F._SELECTION_HIGHLIGHT=p["a"].register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Object(d["l"])(D.ID,D),Object(d["l"])(F.ID,F),Object(d["j"])(S),Object(d["j"])(L),Object(d["j"])(y),Object(d["j"])(k),Object(d["j"])(E),Object(d["j"])(T),Object(d["j"])(R),Object(d["j"])(j),Object(d["j"])(P),Object(d["j"])(x),Object(d["j"])(O)},"7a08":function(e,t,i){"use strict";var n=i("2709"),o=i("5cc8"),s=i("c593"),r=i("1d14"),a=i("0330"),d=i("85ed");class l{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations(),n=i[0].range;return this._originalSelection.isEmpty()?new s["a"](n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new s["a"](n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}var c=i("9bc8"),u=i("0f39"),h=i("7006"),g=i("d93d"),p=i("ed74"),m=i("d74c"),f=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},b=function(e,t){return function(i,n){t(i,n,e)}};let v=class e{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,i){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),r=this.editor.getModel();if(!r||!n)return;let a=n;if(a.startLineNumber!==a.endLineNumber)return;const d=new c["a"](this.editor,5),u=r.uri;return this.editorWorkerService.canNavigateValueSet(u)?(this.currentRequest=Object(p["h"])(e=>this.editorWorkerService.navigateValueSet(u,a,i)),this.currentRequest.then(i=>{if(!i||!i.range||!i.value)return;if(!d.validate(this.editor))return;let n=o["a"].lift(i.range),r=i.range,c=i.value.length-(a.endColumn-a.startColumn);r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.startColumn+i.value.length},c>1&&(a=new s["a"](a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+c-1));const u=new l(n,a,i.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,u),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:r,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Object(p["n"])(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(m["f"])}).catch(m["f"])):Promise.resolve(void 0)}};v.ID="editor.contrib.inPlaceReplaceController",v.DECORATION=g["a"].register({description:"in-place-replace",className:"valueSetReplacement"}),v=f([b(1,d["a"])],v);class C extends a["b"]{constructor(){super({id:"editor.action.inPlaceReplace.up",label:n["a"]("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:r["a"].writable,kbOpts:{kbExpr:r["a"].editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=v.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}class _ extends a["b"]{constructor(){super({id:"editor.action.inPlaceReplace.down",label:n["a"]("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:r["a"].writable,kbOpts:{kbExpr:r["a"].editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=v.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}Object(a["l"])(v.ID,v),Object(a["j"])(C),Object(a["j"])(_),Object(u["f"])((e,t)=>{const i=e.getColor(h["k"]);i&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${i}; }`)})},"8b79":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("2709"),o=i("520f"),s=i("d7bb"),r=i("0c71");class a extends s["a"]{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=Object(n["a"])("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,o["a"].None}provideWithTextEditor(e,t,i){const n=e.editor,s=new o["b"];s.add(t.onDidAccept(i=>{const[o]=t.selectedItems;if(o){if(!this.isValidLineNumber(n,o.lineNumber))return;this.gotoLocation(e,{range:this.toRange(o.lineNumber,o.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}}));const d=()=>{const e=this.parsePosition(n,t.value.trim().substr(a.PREFIX.length)),i=this.getPickLabel(n,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(n,e.lineNumber))return void this.clearDecorations(n);const o=this.toRange(e.lineNumber,e.column);n.revealRangeInCenter(o,0),this.addDecorations(n,o)};d(),s.add(t.onDidChangeValue(()=>d()));const l=Object(r["a"])(n);if(l){const e=l.getOptions(),t=e.get(59);2===t.renderType&&(l.updateOptions({lineNumbers:"on"}),s.add(Object(o["i"])(()=>l.updateOptions({lineNumbers:"relative"}))))}return s}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(e=>parseInt(e,10)).filter(e=>!isNaN(e)),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?Object(n["a"])("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):Object(n["a"])("gotoLineLabel","Go to line {0}.",t);const o=e.getPosition()||{lineNumber:1,column:1},s=this.lineCount(e);return s>1?Object(n["a"])("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",o.lineNumber,o.column,s):Object(n["a"])("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",o.lineNumber,o.column)}isValidLineNumber(e,t){return!(!t||"number"!==typeof t)&&(t>0&&t<=this.lineCount(e))}isValidColumn(e,t,i){if(!i||"number"!==typeof i)return!1;const n=this.getModel(e);if(!n)return!1;const o={lineNumber:t,column:i};return n.validatePosition(o).equals(o)}lineCount(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}a.PREFIX=":"},"9e76":function(e,t,i){"use strict";var n=i("2709"),o=i("0330"),s=i("a11f"),r=i("520f"),a=i("20a6"),d=i("0a49"),l=i("5cc8"),c=i("ffca"),u=i("ed74"),h=i("d93d"),g=i("9d16"),p=i("1d14"),m=i("edca"),f=i("1462"),b=i("d74c"),v=i("8836"),C=i("a89b"),_=i("0f39"),w=i("5e2a"),S=i("bf82"),L=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},y=function(e,t){return function(i,n){t(i,n,e)}},x=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};const O=new g["c"]("LinkedEditingInputVisible",!1),I="linked-editing-decoration";let M=class e extends r["a"]{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new r["b"]),this._editor=e,this._enabled=!1,this._visibleContextKey=O.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new r["b"]),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(61)||e.hasChanged(81))&&this.reinitialize(!1)})),this._register(c["w"].onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel(),i=null!==t&&(this._editor.getOption(61)||this._editor.getOption(81))&&c["w"].has(t);if(i===this._enabled&&!e)return;if(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||null===t)return;this._languageWordPattern=S["a"].getWordDefinition(t.getLanguageIdentifier().id),this._localToDispose.add(t.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=S["a"].getWordDefinition(t.getLanguageIdentifier().id)}));const n=new u["a"](this._debounceDuration),o=()=>{this._rangeUpdateTriggerPromise=n.trigger(()=>this.updateRanges(),this._debounceDuration)},s=new u["a"](0),r=e=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(e))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const i=t.getDecorationRange(this._currentDecorations[0]);if(i&&e.changes.every(e=>i.intersectRanges(e.range)))return void r(this._currentDecorations)}o()})),this._localToDispose.add({dispose:()=>{n.cancel(),s.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),i=t.getDecorationRange(e[0]);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const n=t.getValueInRange(i);if(this._currentWordPattern){const e=n.match(this._currentWordPattern),t=e?e[0].length:0;if(t!==n.length)return this.clearRanges()}let o=[];for(let s=1,r=e.length;s<r;s++){const i=t.getDecorationRange(e[s]);if(i)if(i.startLineNumber!==i.endLineNumber)o.push({range:i,text:n});else{let e=t.getValueInRange(i),s=n,r=i.startColumn,a=i.endColumn;const d=v["d"](e,s);r+=d,e=e.substr(d),s=s.substr(d);const c=v["e"](e,s);a-=c,e=e.substr(0,e.length-c),s=s.substr(0,s.length-c),r===a&&0===s.length||o.push({range:new l["a"](i.startLineNumber,r,i.endLineNumber,a),text:s})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return x(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const i=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),o=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(i.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const e=n.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(i))return}}this._currentRequestPosition=i,this._currentRequestModelVersion=o;const s=Object(u["h"])(t=>x(this,void 0,void 0,(function*(){try{const r=yield k(n,i,t);if(s!==this._currentRequest)return;if(this._currentRequest=null,o!==n.getVersionId())return;let a=[];(null===r||void 0===r?void 0:r.ranges)&&(a=r.ranges),this._currentWordPattern=(null===r||void 0===r?void 0:r.wordPattern)||this._languageWordPattern;let d=!1;for(let e=0,t=a.length;e<t;e++)if(l["a"].containsPosition(a[e],i)){if(d=!0,0!==e){const t=a[e];a.splice(e,1),a.unshift(t)}break}if(!d)return void this.clearRanges();const c=a.map(t=>({range:t,options:e.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,c)}catch(r){Object(b["e"])(r)||Object(b["f"])(r),this._currentRequest!==s&&this._currentRequest||this.clearRanges()}})));return this._currentRequest=s,s}))}};M.ID="editor.contrib.linkedEditing",M.DECORATION=h["a"].register({description:"linked-editing",stickiness:0,className:I}),M=L([y(1,g["b"])],M);class D extends o["b"]{constructor(){super({id:"editor.action.linkedEditing",label:n["a"]("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:g["a"].and(p["a"].writable,p["a"].hasRenameProvider),kbOpts:{kbExpr:p["a"].editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(f["a"]),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return m["a"].isUri(n)&&a["a"].isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(o),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},b["f"]):super.runCommand(e,t)}run(e,t){const i=M.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const N=o["c"].bindToContribution(M.get);function k(e,t,i){const n=c["w"].ordered(e);return Object(u["j"])(n.map(n=>()=>x(this,void 0,void 0,(function*(){try{return yield n.provideLinkedEditingRanges(e,t,i)}catch(o){return void Object(b["g"])(o)}}))),e=>!!e&&s["n"](null===e||void 0===e?void 0:e.ranges))}Object(o["k"])(new N({id:"cancelLinkedEditingInput",precondition:O,handler:e=>e.clearRanges(),kbOpts:{kbExpr:p["a"].editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const E=Object(C["wc"])("editor.linkedEditingBackground",{dark:w["a"].fromHex("#f00").transparent(.3),light:w["a"].fromHex("#f00").transparent(.3),hc:w["a"].fromHex("#f00").transparent(.3)},n["a"]("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Object(_["f"])((e,t)=>{const i=e.getColor(E);i&&t.addRule(`.monaco-editor .${I} { background: ${i}; border-left-color: ${i}; }`)}),Object(o["n"])("_executeLinkedEditingProvider",(e,t)=>k(e,t,d["a"].None)),Object(o["l"])(M.ID,M),Object(o["j"])(D)},b412:function(e,t,i){"use strict";var n=i("2709"),o=i("79c2"),s=i("dcb3"),r=i("0330"),a=i("faa9"),d=i("ffab"),l=i("0ef1"),c=i("34ac"),u=i("20a6"),h=i("5cc8"),g=i("c593"),p=i("1d14");class m{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)n.push(e.getLineContent(s));const o=n.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new h["a"](i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new h["a"](i.startLineNumber,1,i.startLineNumber,1),o+"\n"):t.addEditOperation(new h["a"](i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,n=i.endLineNumber,o=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(n+=this._endLineNumberDelta,o=1),i=g["a"].createWithDirection(e,t,n,o,this._selectionDirection)}return i}}var f=i("8836"),b=i("612f"),v=i("91b6"),C=i("bf82"),_=i("4ad8");class w{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const{tabSize:o,indentSize:s,insertSpaces:r}=e.getOptions();let a=this.buildIndentConverter(o,s,r),d={getLineTokens:t=>e.getLineTokens(t),getLanguageIdentifier:()=>e.getLanguageIdentifier(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i),getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===e.getLineMaxColumn(n.startLineNumber)){let i=n.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new h["a"](1,1,1,1),null):(t.addEditOperation(new h["a"](i,1,i,1),e.getLineContent(o)),t.addEditOperation(new h["a"](o,1,o,e.getLineMaxColumn(o)),null)),n=new g["a"](o,1,o,1)}else{let i,s;if(this._isMovingDown){i=n.endLineNumber+1,s=e.getLineContent(i),t.addEditOperation(new h["a"](i-1,e.getLineMaxColumn(i-1),i,e.getLineMaxColumn(i)),null);let l=s;if(this.shouldAutoIndent(e,n)){let c=this.matchEnterRule(e,a,o,i,n.startLineNumber-1);if(null!==c){let t=f["x"](e.getLineContent(i)),n=c+_["b"](t,o),a=_["a"](n,o,r);l=a+this.trimLeft(s)}else{d.getLineContent=t=>t===n.startLineNumber?e.getLineContent(i):e.getLineContent(t);let t=C["a"].getGoodIndentForLine(this._autoIndent,d,e.getLanguageIdAtPosition(i,1),n.startLineNumber,a);if(null!==t){let n=f["x"](e.getLineContent(i)),a=_["b"](t,o),d=_["b"](n,o);if(a!==d){let e=_["a"](a,o,r);l=e+this.trimLeft(s)}}}t.addEditOperation(new h["a"](n.startLineNumber,1,n.startLineNumber,1),l+"\n");let u=this.matchEnterRuleMovingDown(e,a,o,n.startLineNumber,i,l);if(null!==u)0!==u&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,u);else{d.getLineContent=t=>t===n.startLineNumber?l:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let s=C["a"].getGoodIndentForLine(this._autoIndent,d,e.getLanguageIdAtPosition(i,1),n.startLineNumber+1,a);if(null!==s){const i=f["x"](e.getLineContent(n.startLineNumber)),a=_["b"](s,o),d=_["b"](i,o);if(a!==d){const i=a-d;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}else t.addEditOperation(new h["a"](n.startLineNumber,1,n.startLineNumber,1),l+"\n")}else if(i=n.startLineNumber-1,s=e.getLineContent(i),t.addEditOperation(new h["a"](i,1,i+1,1),null),t.addEditOperation(new h["a"](n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this.shouldAutoIndent(e,n)){d.getLineContent=t=>t===i?e.getLineContent(n.startLineNumber):e.getLineContent(t);let s=this.matchEnterRule(e,a,o,n.startLineNumber,n.startLineNumber-2);if(null!==s)0!==s&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,s);else{let s=C["a"].getGoodIndentForLine(this._autoIndent,d,e.getLanguageIdAtPosition(n.startLineNumber,1),i,a);if(null!==s){let i=f["x"](e.getLineContent(n.startLineNumber)),a=_["b"](s,o),d=_["b"](i,o);if(a!==d){let i=a-d;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>b["a"].shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>b["a"].unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let s=o.indentation;o.indentAction===v["b"].None||o.indentAction===v["b"].Indent?s=o.indentation+o.appendText:o.indentAction===v["b"].IndentOutdent?s=o.indentation:o.indentAction===v["b"].Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);let r=e.getLineContent(n);if(this.trimLeft(r).indexOf(this.trimLeft(s))>=0){let o=f["x"](e.getLineContent(n)),r=f["x"](s),a=C["a"].getIndentMetadata(e,n);null!==a&&2&a&&(r=t.unshiftIndent(r));let d=_["b"](r,i),l=_["b"](o,i);return d-l}}return null}matchEnterRuleMovingDown(e,t,i,n,o,s){if(f["I"](s)>=0){let s=e.getLineMaxColumn(o),r=C["a"].getEnterAction(this._autoIndent,e,new h["a"](o,s,o,s));return this.parseEnterResult(e,t,i,n,r)}{let o=n-1;while(o>=1){let t=e.getLineContent(o),i=f["I"](t);if(i>=0)break;o--}if(o<1||n>e.getLineCount())return null;let s=e.getLineMaxColumn(o),r=C["a"].getEnterAction(this._autoIndent,e,new h["a"](o,s,o,s));return this.parseEnterResult(e,t,i,n,r)}}matchEnterRule(e,t,i,n,o,s){let r=o;while(r>=1){let t;t=r===o&&void 0!==s?s:e.getLineContent(r);let i=f["I"](t);if(i>=0)break;r--}if(r<1||n>e.getLineCount())return null;let a=e.getLineMaxColumn(r),d=C["a"].getEnterAction(this._autoIndent,e,new h["a"](r,a,r,a));return this.parseEnterResult(e,t,i,n,d)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1),n=e.getLanguageIdAtPosition(t.endLineNumber,1);return i===n&&null!==C["a"].getIndentRulesSupport(i)}getIndentEditsOfMovingBlock(e,t,i,n,o,s){for(let r=i.startLineNumber;r<=i.endLineNumber;r++){let a=e.getLineContent(r),d=f["x"](a),l=_["b"](d,n),c=l+s,u=_["a"](c,n,o);u!==d&&(t.addEditOperation(new h["a"](r,1,r,d.length+1),u),r===i.endLineNumber&&i.endColumn<=d.length+1&&""===u&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}}class S{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return S._COLLATOR||(S._COLLATOR=new Intl.Collator),S._COLLATOR}getEditOperations(e,t){let i=y(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;let n=L(e,t,i);if(!n)return!1;for(let o=0,s=n.before.length;o<s;o++)if(n.before[o]!==n.after[o])return!0;return!1}}function L(e,t,i){let n=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;let s=[];for(let a=n;a<=o;a++)s.push(e.getLineContent(a));let r=s.slice(0);return r.sort(S.getCollator().compare),!0===i&&(r=r.reverse()),{startLineNumber:n,endLineNumber:o,before:s,after:r}}function y(e,t,i){let n=L(e,t,i);return n?c["a"].replace(new h["a"](n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}S._COLLATOR=null;var x=i("a2c5");class O extends r["b"]{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((e,t)=>({selection:e,index:t,ignore:!1}));i.sort((e,t)=>h["a"].compareRangesUsingStarts(e.selection,t.selection));let n=i[0];for(let s=1;s<i.length;s++){const e=i[s];n.selection.endLineNumber===e.selection.startLineNumber&&(n.index<e.index?e.ignore=!0:(n.ignore=!0,n=e))}const o=[];for(const s of i)o.push(new m(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class I extends O{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:n["a"]("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class M extends O{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:n["a"]("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class D extends r["b"]{constructor(){super({id:"editor.action.duplicateSelection",label:n["a"]("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:p["a"].writable,menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const n=[],o=t.getSelections(),s=t.getModel();for(const r of o)if(r.isEmpty())n.push(new m(r,!0));else{const e=new g["a"](r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn);n.push(new a["c"](e,s.getValueInRange(r)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class N extends r["b"]{constructor(e,t){super(t),this.down=e}run(e,t){let i=[],n=t.getSelections()||[];const o=t.getOption(9);for(const s of n)i.push(new w(s,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class k extends N{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:n["a"]("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class E extends N{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:n["a"]("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class T extends r["b"]{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!S.canRun(t.getModel(),o,this.descending))return;let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new S(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class R extends T{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:n["a"]("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:p["a"].writable})}}class j extends T{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:n["a"]("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:p["a"].writable})}}class P extends r["b"]{constructor(){super({id:P.ID,label:n["a"]("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:Object(o["a"])(2089,2102),weight:100}})}run(e,t,i){let n=[];"auto-save"===i.reason&&(n=(t.getSelections()||[]).map(e=>new u["a"](e.positionLineNumber,e.positionColumn)));let o=t.getSelection();if(null===o)return;let s=new d["a"](o,n);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}}P.ID="editor.action.trimTrailingWhitespace";class A extends r["b"]{constructor(){super({id:"editor.action.deleteLines",label:n["a"]("lines.delete","Delete Line"),alias:"Delete Line",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=0,s=[],r=[];for(let a=0,d=i.length;a<d;a++){const e=i[a];let t=e.startLineNumber,d=e.endLineNumber,l=1,u=n.getLineMaxColumn(d);d<n.getLineCount()?(d+=1,u=1):t>1&&(t-=1,l=n.getLineMaxColumn(t)),s.push(c["a"].replace(new g["a"](t,l,d,u),"")),r.push(new g["a"](t-o,e.positionColumn,t-o,e.positionColumn)),o+=e.endLineNumber-e.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}});t.sort((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber);let i=[],n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}}class F extends r["b"]{constructor(){super({id:"editor.action.indentLines",label:n["a"]("lines.indent","Indent Line"),alias:"Indent Line",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:2137,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,l["a"].indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class H extends r["b"]{constructor(){super({id:"editor.action.outdentLines",label:n["a"]("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:2135,weight:100}})}run(e,t){s["a"].Outdent.runEditorCommand(e,t,null)}}class V extends r["b"]{constructor(){super({id:"editor.action.insertLineBefore",label:n["a"]("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,l["a"].lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class W extends r["b"]{constructor(){super({id:"editor.action.insertLineAfter",label:n["a"]("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,l["a"].lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class U extends r["b"]{run(e,t){if(!t.hasModel())return;const i=t.getSelection();let n=this._getRangesToDelete(t),o=[];for(let a=0,d=n.length-1;a<d;a++){let e=n[a],t=n[a+1];null===h["a"].intersectRanges(e,t)?o.push(e):n[a+1]=h["a"].plusRange(e,t)}o.push(n[n.length-1]);let s=this._getEndCursorState(i,o),r=o.map(e=>c["a"].replace(e,""));t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}class B extends U{constructor(){super({id:"deleteAllLeft",label:n["a"]("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],o=0;return t.forEach(t=>{let s;if(1===t.endColumn&&o>0){let e=t.startLineNumber-o;s=new g["a"](e,t.startColumn,e,t.startColumn)}else s=new g["a"](t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=s:n.push(s)}),i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let i=t,n=e.getModel();return null===n?[]:(i.sort(h["a"].compareRangesUsingStarts),i=i.map(e=>{if(e.isEmpty()){if(1===e.startColumn){let t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new h["a"](t,i,e.startLineNumber,1)}return new h["a"](e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new h["a"](e.startLineNumber,1,e.endLineNumber,e.endColumn)}),i)}}class q extends U{constructor(){super({id:"deleteAllRight",label:n["a"]("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let o=0,s=t.length,r=0;o<s;o++){let s=t[o],a=new g["a"](s.startLineNumber-r,s.startColumn,s.startLineNumber-r,s.startColumn);s.intersectRanges(e)?i=a:n.push(a)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let i=e.getSelections();if(null===i)return[];let n=i.map(e=>{if(e.isEmpty()){const i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new h["a"](e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new h["a"](e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e});return n.sort(h["a"].compareRangesUsingStarts),n}}class K extends r["b"]{constructor(){super({id:"editor.action.joinLines",label:n["a"]("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getSelection();if(null===n)return;i.sort(h["a"].compareRangesUsingStarts);let o=[],s=i.reduce((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(n.equalsSelection(e)&&(n=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new g["a"](e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new g["a"](e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn));o.push(s);let r=t.getModel();if(null===r)return;let a=[],d=[],l=n,u=0;for(let p=0,m=o.length;p<m;p++){let e,t,i=o[p],s=i.startLineNumber,m=1,f=0,b=r.getLineContent(i.endLineNumber).length-i.endColumn;if(i.isEmpty()||i.startLineNumber===i.endLineNumber){let n=i.getStartPosition();n.lineNumber<r.getLineCount()?(e=s+1,t=r.getLineMaxColumn(e)):(e=n.lineNumber,t=r.getLineMaxColumn(n.lineNumber))}else e=i.endLineNumber,t=r.getLineMaxColumn(e);let v=r.getLineContent(s);for(let n=s+1;n<=e;n++){let e=r.getLineContent(n),t=r.getLineFirstNonWhitespaceColumn(n);if(t>=1){let i=!0;""===v&&(i=!1),!i||" "!==v.charAt(v.length-1)&&"\t"!==v.charAt(v.length-1)||(i=!1,v=v.replace(/[\s\uFEFF\xA0]+$/g," "));let n=e.substr(t-1);v+=(i?" ":"")+n,f=i?n.length+1:n.length}else f=0}let C=new h["a"](s,m,e,t);if(!C.isEmpty()){let e;i.isEmpty()?(a.push(c["a"].replace(C,v)),e=new g["a"](C.startLineNumber-u,v.length-f+1,s-u,v.length-f+1)):i.startLineNumber===i.endLineNumber?(a.push(c["a"].replace(C,v)),e=new g["a"](i.startLineNumber-u,i.startColumn,i.endLineNumber-u,i.endColumn)):(a.push(c["a"].replace(C,v)),e=new g["a"](i.startLineNumber-u,i.startColumn,i.startLineNumber-u,v.length-b)),null!==h["a"].intersectRanges(C,n)?l=e:d.push(e)}u+=C.endLineNumber-C.startLineNumber}d.unshift(l),t.pushUndoStop(),t.executeEdits(this.id,a,d),t.pushUndoStop()}}class $ extends r["b"]{constructor(){super({id:"editor.action.transpose",label:n["a"]("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:p["a"].writable})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getModel();if(null===n)return;let o=[];for(let s=0,r=i.length;s<r;s++){let e=i[s];if(!e.isEmpty())continue;let t=e.getStartPosition(),r=n.getLineMaxColumn(t.lineNumber);if(t.column>=r){if(t.lineNumber===n.getLineCount())continue;let e=new h["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new a["a"](new g["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i))}else{let e=new h["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber,t.column+1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new a["b"](e,i,new g["a"](t.lineNumber,t.column+1,t.lineNumber,t.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class z extends r["b"]{run(e,t){const i=t.getSelections();if(null===i)return;const n=t.getModel();if(null===n)return;const o=t.getOption(116),s=[];for(const r of i)if(r.isEmpty()){const e=r.getStartPosition(),i=t.getConfiguredWordAtPosition(e);if(!i)continue;const a=new h["a"](e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),d=n.getValueInRange(a);s.push(c["a"].replace(a,this._modifyText(d,o)))}else{const e=n.getValueInRange(r);s.push(c["a"].replace(r,this._modifyText(e,o)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}}class G extends z{constructor(){super({id:"editor.action.transformToUppercase",label:n["a"]("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:p["a"].writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class Z extends z{constructor(){super({id:"editor.action.transformToLowercase",label:n["a"]("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:p["a"].writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class X extends z{constructor(){super({id:"editor.action.transformToTitlecase",label:n["a"]("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:p["a"].writable})}_modifyText(e,t){const i="\r\n\t "+t,n=i.split("");let o="",s=!0;for(let r=0;r<e.length;r++){let t=e[r];n.indexOf(t)>=0?(s=!0,o+=t):s?(s=!1,o+=t.toLocaleUpperCase()):o+=t.toLocaleLowerCase()}return o}}class J{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class Y extends z{constructor(){super({id:"editor.action.transformToSnakecase",label:n["a"]("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:p["a"].writable})}_modifyText(e,t){const i=Y.regExp1.get(),n=Y.regExp2.get();return i&&n?e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase():e}}Y.regExp1=new J("(\\p{Ll})(\\p{Lu})","gmu"),Y.regExp2=new J("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),Object(r["j"])(I),Object(r["j"])(M),Object(r["j"])(D),Object(r["j"])(k),Object(r["j"])(E),Object(r["j"])(R),Object(r["j"])(j),Object(r["j"])(P),Object(r["j"])(A),Object(r["j"])(F),Object(r["j"])(H),Object(r["j"])(V),Object(r["j"])(W),Object(r["j"])(B),Object(r["j"])(q),Object(r["j"])(K),Object(r["j"])($),Object(r["j"])(G),Object(r["j"])(Z),Object(r["j"])(X),Y.regExp1.isSupported()&&Y.regExp2.isSupported()&&Object(r["j"])(Y)},bee7:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("2709"),o=i("0a49"),s=i("520f"),r=i("5cc8"),a=i("d7bb"),d=i("ffca"),l=i("068a"),c=i("8836"),u=i("d33d"),h=i("a74d"),g=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};class p extends a["a"]{constructor(e=Object.create(null)){super(e),this.options=e,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,Object(n["a"])("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),s["a"].None}provideWithTextEditor(e,t,i){const n=e.editor,o=this.getModel(n);return o?d["m"].has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):s["a"].None}doProvideWithoutEditorSymbols(e,t,i,o){const r=new s["b"];return this.provideLabelPick(i,Object(n["a"])("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{g(this,void 0,void 0,(function*(){const n=yield this.waitForLanguageSymbolRegistry(t,r);n&&!o.isCancellationRequested&&r.add(this.doProvideWithEditorSymbols(e,t,i,o))}))})(),r}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return g(this,void 0,void 0,(function*(){if(d["m"].has(e))return!0;let i;const n=new Promise(e=>i=e),o=t.add(d["m"].onDidChange(()=>{d["m"].has(e)&&(o.dispose(),i(!0))}));return t.add(Object(s["i"])(()=>i(!1))),n}))}doProvideWithEditorSymbols(e,t,i,r){const a=e.editor,d=new s["b"];d.add(i.onDidAccept(t=>{const[n]=i.selectedItems;n&&n.range&&(this.gotoLocation(e,{range:n.range.selection,keyMods:i.keyMods,preserveFocus:t.inBackground}),t.inBackground||i.hide())})),d.add(i.onDidTriggerItemButton(({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const l=this.getDocumentSymbols(t,r);let c=void 0;const h=()=>g(this,void 0,void 0,(function*(){null===c||void 0===c||c.dispose(!0),i.busy=!1,c=new o["b"](r),i.busy=!0;try{const e=Object(u["b"])(i.value.substr(p.PREFIX.length).trim()),t=yield this.doGetSymbolPicks(l,e,void 0,c.token);if(r.isCancellationRequested)return;t.length>0?i.items=t:e.original.length>0?this.provideLabelPick(i,Object(n["a"])("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,Object(n["a"])("noSymbolResults","No editor symbols"))}finally{r.isCancellationRequested||(i.busy=!1)}}));d.add(i.onDidChangeValue(()=>h())),h();let m=!0;return d.add(i.onDidChangeActive(()=>{const[e]=i.activeItems;if(e&&e.range){if(m)return void(m=!1);a.revealRangeInCenter(e.range.selection,0),this.addDecorations(a,e.range.decoration)}})),d}doGetSymbolPicks(e,t,i,o){return g(this,void 0,void 0,(function*(){const s=yield e;if(o.isCancellationRequested)return[];const a=0===t.original.indexOf(p.SCOPE_PREFIX),l=a?1:0;let g,b;t.values&&t.values.length>1?(g=Object(u["a"])(t.values[0]),b=Object(u["a"])(t.values.slice(1))):g=t;const v=[];for(let e=0;e<s.length;e++){const o=s[e],a=Object(c["U"])(o.name),p=`$(symbol-${d["D"].toString(o.kind)||"property"}) ${a}`,m=p.length-a.length;let f=o.containerName;(null===i||void 0===i?void 0:i.extraContainerLabel)&&(f=f?`${i.extraContainerLabel} • ${f}`:i.extraContainerLabel);let C=void 0,_=void 0,w=void 0,S=void 0;if(t.original.length>l){let e=!1;if(g!==t&&([C,_]=Object(u["c"])(p,Object.assign(Object.assign({},t),{values:void 0}),l,m),"number"===typeof C&&(e=!0)),"number"!==typeof C&&([C,_]=Object(u["c"])(p,g,l,m),"number"!==typeof C))continue;if(!e&&b){if(f&&b.original.length>0&&([w,S]=Object(u["c"])(f,b)),"number"!==typeof w)continue;"number"===typeof C&&(C+=w)}}const L=o.tags&&o.tags.indexOf(1)>=0;v.push({index:e,kind:o.kind,score:C,label:p,ariaLabel:a,description:f,highlights:L?void 0:{label:_,description:S},range:{selection:r["a"].collapseToStart(o.selectionRange),decoration:o.range},strikethrough:L,buttons:(()=>{var e,t;const i=(null===(e=this.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=this.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(i)return[{iconClass:"right"===i?h["b"].splitHorizontal.classNames:h["b"].splitVertical.classNames,tooltip:"right"===i?Object(n["a"])("openToSide","Open to the Side"):Object(n["a"])("openToBottom","Open to the Bottom")}]})()})}const C=v.sort((e,t)=>a?this.compareByKindAndScore(e,t):this.compareByScore(e,t));let _=[];if(a){let e=void 0,t=void 0,i=0;function w(){t&&"number"===typeof e&&i>0&&(t.label=Object(c["v"])(f[e]||m,i))}for(const n of C)e!==n.kind?(w(),e=n.kind,i=1,t={type:"separator"},_.push(t)):i++,_.push(n);w()}else C.length>0&&(_=[{label:Object(n["a"])("symbols","symbols ({0})",v.length),type:"separator"},...C]);return _}))}compareByScore(e,t){if("number"!==typeof e.score&&"number"===typeof t.score)return 1;if("number"===typeof e.score&&"number"!==typeof t.score)return-1;if("number"===typeof e.score&&"number"===typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=f[e.kind]||m,n=f[t.kind]||m,o=i.localeCompare(n);return 0===o?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return g(this,void 0,void 0,(function*(){const i=yield l["a"].create(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}))}}p.PREFIX="@",p.SCOPE_PREFIX=":",p.PREFIX_BY_CATEGORY=`${p.PREFIX}${p.SCOPE_PREFIX}`;const m=Object(n["a"])("property","properties ({0})"),f={[5]:Object(n["a"])("method","methods ({0})"),[11]:Object(n["a"])("function","functions ({0})"),[8]:Object(n["a"])("_constructor","constructors ({0})"),[12]:Object(n["a"])("variable","variables ({0})"),[4]:Object(n["a"])("class","classes ({0})"),[22]:Object(n["a"])("struct","structs ({0})"),[23]:Object(n["a"])("event","events ({0})"),[24]:Object(n["a"])("operator","operators ({0})"),[10]:Object(n["a"])("interface","interfaces ({0})"),[2]:Object(n["a"])("namespace","namespaces ({0})"),[3]:Object(n["a"])("package","packages ({0})"),[25]:Object(n["a"])("typeParameter","type parameters ({0})"),[1]:Object(n["a"])("modules","modules ({0})"),[6]:Object(n["a"])("property","properties ({0})"),[9]:Object(n["a"])("enum","enumerations ({0})"),[21]:Object(n["a"])("enumMember","enumeration members ({0})"),[14]:Object(n["a"])("string","strings ({0})"),[0]:Object(n["a"])("file","files ({0})"),[17]:Object(n["a"])("array","arrays ({0})"),[15]:Object(n["a"])("number","numbers ({0})"),[16]:Object(n["a"])("boolean","booleans ({0})"),[18]:Object(n["a"])("object","objects ({0})"),[19]:Object(n["a"])("key","keys ({0})"),[7]:Object(n["a"])("field","fields ({0})"),[13]:Object(n["a"])("constant","constants ({0})")}},cc73:function(e,t,i){},d7bb:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("1848"),o=i("0f39"),s=i("7006"),r=i("520f"),a=i("0c71"),d=i("4881"),l=i("4475");class c{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const n=new r["b"];e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=n.add(new r["d"]);return o.value=this.doProvide(e,t),n.add(this.onDidActiveTextEditorControlChange(()=>{o.value=void 0,o.value=this.doProvide(e,t)})),n}doProvide(e,t){const i=new r["b"],n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){const o={editor:n},s=Object(a["a"])(n);if(s){let e=Object(d["o"])(n.saveViewState());i.add(s.onDidChangeCursorPosition(()=>{e=Object(d["o"])(n.saveViewState())})),o.restoreViewState=()=>{e&&n===this.activeTextEditorControl&&n.restoreViewState(e)},i.add(Object(l["a"])(t.onCancellationRequested)(()=>{var e;return null===(e=o.restoreViewState)||void 0===e?void 0:e.call(o)}))}i.add(Object(r["i"])(()=>this.clearDecorations(n))),i.add(this.provideWithTextEditor(o,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return Object(a["c"])(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(e=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const r=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Object(o["g"])(s["B"]),position:n["d"].Full}}}],[a,d]=e.deltaDecorations(i,r);this.rangeHighlightDecorationId={rangeHighlightId:a,overviewRulerDecorationId:d}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},debc:function(e,t,i){},df3c:function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var n=i("2709"),o=i("fd80"),s=i("5cc8"),r=i("520f"),a=i("3cdf"),d=i("d4d6"),l=i("a2c5"),c=i("9d16"),u=i("1e3e"),h=i("a8f5"),g=i("836f"),p=i("bcb8"),m=i("1366"),f=i("93c6"),b=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},v=function(e,t){return function(i,n){t(i,n,e)}};class C{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let _=class{constructor(e,t,i,n,o,s,r,a){this._editor=e,this._hover=t,this._commandService=i,this._menuService=n,this._contextKeyService=o,this._modeService=s,this._openerService=r,this.accessibilityService=a}suggestHoverAnchor(e){const t=a["a"].get(this._editor);if(!t)return null;if(8===e.target.type){const i=e.target.detail;if(t.shouldShowHoverAtViewZone(i.viewZoneId))return new o["a"](1e3,this,s["a"].fromPositions(i.positionBefore||i.position,i.positionBefore||i.position))}if(7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range))return new o["a"](1e3,this,e.target.range);if(6===e.target.type&&e.target.range&&e.target.detail){const i=e.target.detail.mightBeForeignElement;if(i&&t.shouldShowHoverAt(e.target.range))return new o["a"](1e3,this,e.target.range)}return null}computeSync(e,t){const i=a["a"].get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new C(this,e.range,i)]:[]}renderHoverParts(e,t,i){const o=new r["b"],s=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(s,t,o);const d=o.add(this._menuService.createMenu(l["b"].InlineCompletionsActions,this._contextKeyService)),c=i.addAction({label:n["a"]("showNextInlineSuggestion","Next"),commandId:a["b"].ID,run:()=>this._commandService.executeCommand(a["b"].ID)}),u=i.addAction({label:n["a"]("showPreviousInlineSuggestion","Previous"),commandId:a["c"].ID,run:()=>this._commandService.executeCommand(a["c"].ID)});i.addAction({label:n["a"]("acceptInlineSuggestion","Accept"),commandId:a["d"].id,run:()=>this._commandService.executeCommand(a["d"].id)});const h=[c,u];for(const n of h)n.setEnabled(!1);s.hasMultipleSuggestions().then(e=>{for(const t of h)t.setEnabled(e)});for(const[n,r]of d.getActions())for(const e of r)e instanceof l["c"]&&i.addAction({label:e.label,commandId:e.item.id,run:()=>this._commandService.executeCommand(e.item.id)});return o}renderScreenReaderText(e,t,i){var o,s;const r=u["a"],a=r("div.hover-row.markdown-hover"),d=u["q"](a,r("div.hover-contents")),l=i.add(new h["a"]({editor:this._editor},this._modeService,this._openerService)),c=e=>{i.add(l.onDidRenderAsync(()=>{d.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const t=n["a"]("inlineSuggestionFollows","Suggestion:"),o=i.add(l.render((new g["a"]).appendText(t).appendCodeblock("text",e)));d.replaceChildren(o.element)},p=null===(s=null===(o=e.controller.activeModel)||void 0===o?void 0:o.inlineCompletionsModel)||void 0===s?void 0:s.ghostText;if(p){const e=this._editor.getModel().getLineContent(p.lineNumber);c(p.renderForScreenReader(e))}t.appendChild(a)}};_=b([v(2,d["b"]),v(3,l["a"]),v(4,c["b"]),v(5,p["a"]),v(6,m["a"]),v(7,f["b"])],_)},ef0d:function(e,t,i){"use strict";var n=i("2709"),o=i("520f"),s=i("8836"),r=i("0330"),a=i("612f"),d=i("34ac"),l=i("5cc8"),c=i("c593"),u=i("1d14"),h=i("d93d"),g=i("bf82"),p=i("b766"),m=i("4ad8"),f=i("6529");function b(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];let o=g["a"].getIndentationRules(e.getLanguageIdentifier().id);if(!o)return[];i=Math.min(i,e.getLineCount());while(t<=i){if(!o.unIndentedLinePattern)break;let i=e.getLineContent(t);if(!o.unIndentedLinePattern.test(i))break;t++}if(t>i-1)return[];const{tabSize:r,indentSize:l,insertSpaces:u}=e.getOptions(),p=(e,t)=>(t=t||1,a["a"].shiftIndent(e,e.length+t,r,l,u)),m=(e,t)=>(t=t||1,a["a"].unshiftIndent(e,e.length+t,r,l,u));let f,b=[],v=e.getLineContent(t),C=v;if(void 0!==n&&null!==n){f=n;let e=s["x"](v);C=f+v.substring(e.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(C)&&(f=m(f),C=f+v.substring(e.length)),v!==C&&b.push(d["a"].replaceMove(new c["a"](t,1,t,e.length+1),h["b"].normalizeIndentation(f,l,u)))}else f=s["x"](v);let _=f;o.increaseIndentPattern&&o.increaseIndentPattern.test(C)?(_=p(_),f=p(f)):o.indentNextLinePattern&&o.indentNextLinePattern.test(C)&&(_=p(_)),t++;for(let a=t;a<=i;a++){let t=e.getLineContent(a),i=s["x"](t),n=_+t.substring(i.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(n)&&(_=m(_),f=m(f)),i!==_&&b.push(d["a"].replaceMove(new c["a"](a,1,a,i.length+1),h["b"].normalizeIndentation(_,l,u))),o.unIndentedLinePattern&&o.unIndentedLinePattern.test(t)||(o.increaseIndentPattern&&o.increaseIndentPattern.test(n)?(f=p(f),_=f):_=o.indentNextLinePattern&&o.indentNextLinePattern.test(n)?p(_):f)}return b}class v extends r["b"]{constructor(){super({id:v.ID,label:n["a"]("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:u["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new D(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}v.ID="editor.action.indentationToSpaces";class C extends r["b"]{constructor(){super({id:C.ID,label:n["a"]("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:u["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new N(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}C.ID="editor.action.indentationToTabs";class _ extends r["b"]{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const i=e.get(f["a"]),o=e.get(p["a"]);let s=t.getModel();if(!s)return;let r=o.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget);const a=[1,2,3,4,5,6,7,8].map(e=>({id:e.toString(),label:e.toString(),description:e===r.tabSize?n["a"]("configuredTabSize","Configured Tab Size"):void 0})),d=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:n["a"]({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[d]}).then(e=>{e&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})})},50)}}class w extends _{constructor(){super(!1,{id:w.ID,label:n["a"]("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}w.ID="editor.action.indentUsingTabs";class S extends _{constructor(){super(!0,{id:S.ID,label:n["a"]("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}S.ID="editor.action.indentUsingSpaces";class L extends r["b"]{constructor(){super({id:L.ID,label:n["a"]("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(p["a"]);let n=t.getModel();if(!n)return;let o=i.getCreationOptions(n.getLanguageIdentifier().language,n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}L.ID="editor.action.detectIndentation";class y extends r["b"]{constructor(){super({id:"editor.action.reindentlines",label:n["a"]("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:u["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=b(i,1,i.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}}class x extends r["b"]{constructor(){super({id:"editor.action.reindentselectedlines",label:n["a"]("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:u["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=t.getSelections();if(null===n)return;let o=[];for(let s of n){let e=s.startLineNumber,t=s.endLineNumber;if(e!==t&&1===s.endColumn&&t--,1===e){if(e===t)continue}else e--;let n=b(i,e,t);o.push(...n)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class O{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&"string"===typeof i.text&&this._edits.push(i)}getEditOperations(e,t){for(let n of this._edits)t.addEditOperation(l["a"].lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class I{constructor(e){this.callOnDispose=new o["b"],this.callOnModel=new o["b"],this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(46)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const i=this.editor.getModel();if(!i)return;if(!i.isCheapToTokenize(e.getStartPosition().lineNumber))return;const n=this.editor.getOption(9),{tabSize:o,indentSize:r,insertSpaces:d}=i.getOptions();let c=[],u={shiftIndent:e=>a["a"].shiftIndent(e,e.length+1,o,r,d),unshiftIndent:e=>a["a"].unshiftIndent(e,e.length+1,o,r,d)},h=e.startLineNumber;while(h<=e.endLineNumber){if(!this.shouldIgnoreLine(i,h))break;h++}if(h>e.endLineNumber)return;let p=i.getLineContent(h);if(!/\S/.test(p.substring(0,e.startColumn-1))){let e=g["a"].getGoodIndentForLine(n,i,i.getLanguageIdentifier().id,h,u);if(null!==e){let t=s["x"](p),n=m["b"](e,o),r=m["b"](t,o);if(n!==r){let e=m["a"](n,o,d);c.push({range:new l["a"](h,1,h,t.length+1),text:e}),p=e+p.substr(t.length)}else{let e=g["a"].getIndentMetadata(i,h);if(0===e||8===e)return}}}const f=h;while(h<e.endLineNumber){if(/\S/.test(i.getLineContent(h+1)))break;h++}if(h!==e.endLineNumber){let t={getLineTokens:e=>i.getLineTokens(e),getLanguageIdentifier:()=>i.getLanguageIdentifier(),getLanguageIdAtPosition:(e,t)=>i.getLanguageIdAtPosition(e,t),getLineContent:e=>e===f?p:i.getLineContent(e)},r=g["a"].getGoodIndentForLine(n,t,i.getLanguageIdentifier().id,h+1,u);if(null!==r){let t=m["b"](r,o),n=m["b"](s["x"](i.getLineContent(h+1)),o);if(t!==n){let r=t-n;for(let t=h+1;t<=e.endLineNumber;t++){let e=i.getLineContent(t),n=s["x"](e),a=m["b"](n,o),u=a+r,h=m["a"](u,o,d);h!==n&&c.push({range:new l["a"](t,1,t,n.length+1),text:h})}}}}if(c.length>0){this.editor.pushUndoStop();let e=new O(c,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;let n=e.getLineTokens(t);if(n.getCount()>0){let e=n.findTokenIndexAtOffset(i);if(e>=0&&1===n.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function M(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let r=0;r<i;r++)o+=" ";let s=new RegExp(o,"gi");for(let r=1,a=e.getLineCount();r<=a;r++){let i=e.getLineFirstNonWhitespaceColumn(r);if(0===i&&(i=e.getLineMaxColumn(r)),1===i)continue;const a=new l["a"](r,1,r,i),d=e.getValueInRange(a),c=n?d.replace(/\t/gi,o):d.replace(s,"\t");t.addEditOperation(a,c)}}I.ID="editor.contrib.autoIndentOnPaste";class D{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),M(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class N{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),M(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Object(r["l"])(I.ID,I),Object(r["j"])(v),Object(r["j"])(C),Object(r["j"])(w),Object(r["j"])(S),Object(r["j"])(L),Object(r["j"])(y),Object(r["j"])(x)},f5ff:function(e,t,i){},fbf1:function(e,t,i){"use strict";i("1fcb");var n=i("2709"),o=i("ed74"),s=i("0a49"),r=i("d74c"),a=i("836f"),d=i("520f"),l=i("05f0"),c=i("0330"),u=i("d93d"),h=i("ffca"),g=i("ddf5"),p=i("edca"),m=i("5cc8"),f=i("b766"),b=i("d4d6"),v=i("a11f"),C=i("4881"),_=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};class w{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return _(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"===typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}))}}class S{constructor(e){this._disposables=new d["b"];let t=[];for(const[i,n]of e){const e=i.links.map(e=>new w(e,n));t=S._union(t,e),Object(d["g"])(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i,n,o,s,r=[];for(i=0,o=0,n=e.length,s=t.length;i<n&&o<s;){const n=e[i],s=t[o];if(m["a"].areIntersectingOrTouching(n.range,s.range)){i++;continue}const a=m["a"].compareRangesUsingStarts(n.range,s.range);a<0?(r.push(n),i++):(r.push(s),o++)}for(;i<n;i++)r.push(e[i]);for(;o<s;o++)r.push(t[o]);return r}}function L(e,t){const i=[],n=h["v"].ordered(e).reverse().map((n,o)=>Promise.resolve(n.provideLinks(e,t)).then(e=>{e&&(i[o]=[e,n])},r["g"]));return Promise.all(n).then(()=>{const e=new S(Object(v["e"])(i));return t.isCancellationRequested?(e.dispose(),new S([])):e})}b["a"].registerCommand("_executeLinkProvider",(e,...t)=>_(void 0,void 0,void 0,(function*(){let[i,n]=t;Object(C["c"])(i instanceof p["a"]),"number"!==typeof n&&(n=0);const o=e.get(f["a"]).getModel(i);if(!o)return[];const r=yield L(o,s["a"].None);if(!r)return[];for(let e=0;e<Math.min(n,r.links.length);e++)yield r.links[e].resolve(s["a"].None);const a=r.links.slice(0);return r.dispose(),a})));var y=i("9156"),x=i("1366"),O=i("a89b"),I=i("0f39"),M=i("4f47"),D=i("94f4"),N=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},k=function(e,t){return function(i,n){t(i,n,e)}},E=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};function T(e,t){const i=e.url&&/^command:/i.test(e.url.toString()),o=e.tooltip?e.tooltip:i?n["a"]("links.navigate.executeCmd","Execute command"):n["a"]("links.navigate.follow","Follow link"),s=t?l["f"]?n["a"]("links.navigate.kb.meta.mac","cmd + click"):n["a"]("links.navigate.kb.meta","ctrl + click"):l["f"]?n["a"]("links.navigate.kb.alt.mac","option + click"):n["a"]("links.navigate.kb.alt","alt + click");if(e.url){let t="";if(/^command:/i.test(e.url.toString())){const i=e.url.toString().match(/^command:([^?#]+)/);if(i){const e=i[1],o=n["a"]("tooltip.explanation","Execute command {0}",e);t=` "${o}"`}}const i=new a["a"]("",!0).appendMarkdown(`[${o}](${e.url.toString(!0)}${t}) (${s})`);return i}return(new a["a"]).appendText(`${o} (${s})`)}const R={general:u["a"].register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:u["a"].register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class j{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:j._getOptions(e,t,!1)}}static _getOptions(e,t,i){const n=Object.assign({},i?R.active:R.general);return n.hoverMessage=T(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,j._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,j._getOptions(this.link,t,!1))}}let P=class e{constructor(e,t,i){this.listenersToRemove=new d["b"],this.editor=e,this.openerService=t,this.notificationService=i;let n=new g["a"](e);this.listenersToRemove.add(n),this.listenersToRemove.add(n.onMouseMoveOrRelevantKeyDown(([e,t])=>{this._onEditorMouseMove(e,t)})),this.listenersToRemove.add(n.onExecute(e=>{this.onEditorMouseUp(e)})),this.listenersToRemove.add(n.onCancel(e=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(62),this.listenersToRemove.add(e.onDidChangeConfiguration(t=>{const i=e.getOption(62);this.enabled!==i&&(this.enabled=i,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(e=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(e=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(e=>this.onModelModeChanged())),this.listenersToRemove.add(h["v"].onDidChange(e=>this.onModelModeChanged())),this.timeout=new o["g"],this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),e.RECOMPUTE_TIME)}beginCompute(){return E(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(h["v"].has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=o["h"](t=>L(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){Object(r["f"])(t)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(69);let i=[],n=Object.keys(this.currentOccurrences);for(let r=0,a=n.length;r<a;r++){let e=n[r],t=this.currentOccurrences[e];i.push(t.decorationId)}let o=[];if(e)for(const r of e)o.push(j.decoration(r,t));let s=this.editor.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let r=0,a=s.length;r<a;r++){let t=new j(e[r],s[r]);this.currentOccurrences[t.decorationId]=t}}_onEditorMouseMove(e,t){const i="altKey"===this.editor.getOption(69);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations(e=>{t.activate(e,i),this.activeLinkDecorationId=t.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(69);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:o}=e;o.resolve(s["a"].None).then(e=>{if("string"===typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===M["c"].file&&e.startsWith(M["c"].file+":")){const i=p["a"].parse(e);if(i.scheme===M["c"].file){const n=D["i"](i);let o=null;n.startsWith("/./")?o="."+n.substr(1):n.startsWith("//./")&&(o="."+n.substr(2)),o&&(e=D["g"](t,o))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0})},e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(n["a"]("invalid.url","Failed to open this link because it is not well-formed: {0}",o.url.toString())):"missing"===t?this.notificationService.warn(n["a"]("missing.url","Failed to open this link because its target is missing.")):Object(r["f"])(e)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const e=this.currentOccurrences[i.id];if(e)return e}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};P.ID="editor.linkDetector",P.RECOMPUTE_TIME=1e3,P=N([k(1,x["a"]),k(2,y["a"])],P);class A extends c["b"]{constructor(){super({id:"editor.action.openLink",label:n["a"]("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=P.get(t);if(!i)return;if(!t.hasModel())return;let n=t.getSelections();for(let o of n){let e=i.getLinkOccurrence(o.getEndPosition());e&&i.openLinkOccurrence(e,!1)}}}Object(c["l"])(P.ID,P),Object(c["j"])(A),Object(I["f"])((e,t)=>{const i=e.getColor(O["q"]);i&&t.addRule(`.monaco-editor .detected-link-active { color: ${i} !important; }`)})}}]);