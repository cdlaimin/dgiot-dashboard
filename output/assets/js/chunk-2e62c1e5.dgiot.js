/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  time: Mon Nov 15 2021 11:11:53 GMT+0000 (Coordinated Universal Time)
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e62c1e5"],{"0230":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e){return e.getParam("content_style","","string")},o=function(e){return e.getParam("content_css_cors",!1,"boolean")},i=function(e){var t=e.getParam("body_class","","hash");return t[e.id]||""},a=function(e){var t=e.getParam("body_class","","string");return-1===t.indexOf("=")?t:i(e)},u=function(e){var t=e.getParam("body_id","","hash");return t[e.id]||t},c=function(e){var t=e.getParam("body_id","tinymce","string");return-1===t.indexOf("=")?t:u(e)},s=function(e){var i="",u=e.dom.encode,s=r(e);i+='<base href="'+u(e.documentBaseURI.getURI())+'">';var l=o(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(function(t){i+='<link type="text/css" rel="stylesheet" href="'+u(e.documentBaseURI.toAbsolute(t))+'"'+l+">"})),s&&(i+='<style type="text/css">'+s+"</style>");var f=c(e),d=a(e),m=t.mac?"e.metaKey":"e.ctrlKey && !e.altKey",p='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+m+")) {e.preventDefault();}}}, false);<\/script> ",g=e.getBody().dir,v=g?' dir="'+u(g)+'"':"",h="<!DOCTYPE html><html><head>"+i+'</head><body id="'+u(f)+'" class="mce-content-body '+u(d)+'"'+v+">"+e.getContent()+p+"</body></html>";return h},l=function(e){var t=s(e),n=e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}});n.focus("close")},f=function(e){e.addCommand("mcePreview",(function(){l(e)}))},d=function(e){var t=function(){return e.execCommand("mcePreview")};e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})};function m(){e.add("preview",(function(e){f(e),d(e)}))}m()})()},"169b":function(e,t,n){n("5a49")},"34ba":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){e.addCommand("mcePrint",(function(){t.browser.isIE()?e.getDoc().execCommand("print",!1,null):e.getWin().print()}))},r=function(e){var t=function(){return e.execCommand("mcePrint")};e.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:t}),e.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:t})};function o(){e.add("print",(function(e){n(e),r(e),e.addShortcut("Meta+P","","mcePrint")}))}o()})()},"5a49":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"===typeof t?!0===t?3:0:t},n=function(e){return e.getParam("nonbreaking_wrap",!0,"boolean")},r=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},o=function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()},i=function(e,t){var i=function(){return o(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},a=function(){return'<span class="'+i()+'" contenteditable="false">'+r("&nbsp;",t)+"</span>"},u=n(e),c=u||e.plugins.visualchars?a():r("&nbsp;",t);e.undoManager.transact((function(){return e.insertContent(c)}))},a=function(e){e.addCommand("mceNonBreaking",(function(){i(e,1)}))},u=tinymce.util.Tools.resolve("tinymce.util.VK"),c=function(e){var n=t(e);n>0&&e.on("keydown",(function(t){if(t.keyCode===u.TAB&&!t.isDefaultPrevented()){if(t.shiftKey)return;t.preventDefault(),t.stopImmediatePropagation(),i(e,n)}}))},s=function(e){var t=function(){return e.execCommand("mceNonBreaking")};e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t})};function l(){e.add("nonbreaking",(function(e){a(e),s(e),c(e)}))}l()})()},"5bec":function(e,t,n){n("613d")},"613d":function(e,t){(function(){"use strict";var e=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return!!e.hasPlugin("powerpaste",!0)&&("undefined"!==typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},r=function(e){return{clipboard:e}},o=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},i=function(e){return function(t){return o(t)===e}},a=function(e){return function(t){return typeof t===e}},u=i("array"),c=function(e){return null===e||void 0===e},s=function(e){return!c(e)},l=a("function"),f=function(){},d=function(e){return function(){return e}},m=function(e){return e},p=d(!1),g=d(!0),v=function(){return h},h=function(){var e=function(e){return e()},t=m,n={fold:function(e,t){return e()},isSome:p,isNone:g,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:t,orThunk:e,map:v,each:f,bind:v,exists:p,forall:g,filter:function(){return v()},toArray:function(){return[]},toString:d("none()")};return n}(),y=function(e){var t=d(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:g,isNone:p,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},b=function(e){return null===e||void 0===e?h:y(e)},w={some:y,none:v,from:b},x=Array.prototype.slice,k=Array.prototype.push,C=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return!0}return!1},S=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},O=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},P=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},T=function(e,t,n){return O(e,(function(e,r){n=t(n,e,r)})),n},A=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t},D=function(e,t){return A(S(e,t))},N=l(Array.from)?Array.from:function(e){return x.call(e)},_=function(){return _=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_.apply(this,arguments)},L=function(t){var n=e(w.none()),r=function(){return n.get().each(t)},o=function(){r(),n.set(w.none())},i=function(){return n.get().isSome()},a=function(){return n.get()},u=function(e){r(),n.set(w.some(e))};return{clear:o,isSet:i,get:a,set:u}},R=function(){var e=L(f),t=function(t){return e.get().each(t)};return _(_({},e),{on:t})},E=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},M=function(e,t){return E(e,t,0)},I=function(e,t){return E(e,t,e.length-t.length)},j=function(e,t){return t<=0?"":new Array(t+1).join(e)},B=tinymce.util.Tools.resolve("tinymce.Env"),U=tinymce.util.Tools.resolve("tinymce.util.Delay"),F=tinymce.util.Tools.resolve("tinymce.util.Promise"),$=tinymce.util.Tools.resolve("tinymce.util.VK"),z=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},H=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},K=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},V=function(e,t){return e.fire("paste",{ieFake:t})},W=tinymce.util.Tools.resolve("tinymce.util.Tools"),q=function(e){return e.getParam("paste_block_drop",!1)},X=function(e){return e.getParam("paste_data_images",!1)},Q=function(e){return e.getParam("paste_filter_drop",!0)},G=function(e){return e.getParam("paste_preprocess")},J=function(e){return e.getParam("paste_postprocess")},Y=function(e){return e.getParam("paste_webkit_styles")},Z=function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},ee=function(e){return e.getParam("paste_merge_formats",!0)},te=function(e){return e.getParam("smart_paste",!0)},ne=function(e){return e.getParam("paste_as_text",!1)},re=function(e){return e.getParam("paste_retain_style_properties")},oe=function(e){var t="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return e.getParam("paste_word_valid_elements",t)},ie=function(e){return e.getParam("paste_convert_word_fake_lists",!0)},ae=function(e){return e.getParam("paste_enable_default_filters",!0)},ue=function(e){return e.getParam("validate")},ce=function(e){return e.getParam("allow_html_data_urls",!1,"boolean")},se=function(e){return e.getParam("paste_data_images",!1,"boolean")},le=function(e){return e.getParam("images_dataimg_filter")},fe=function(e){return e.getParam("images_reuse_filename")},de=function(e){return e.getParam("forced_root_block")},me=function(e){return e.getParam("forced_root_block_attrs")},pe=function(e){return e.getParam("paste_tab_spaces",4,"number")},ge=function(e){var t="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return W.explode(e.getParam("images_file_types",t,"string"))},ve="x-tinymce/html",he="\x3c!-- "+ve+" --\x3e",ye=function(e){return he+e},be=function(e){return e.replace(he,"")},we=function(e){return-1!==e.indexOf(he)},xe=d(ve),ke=Object.hasOwnProperty,Ce=function(e,t){return ke.call(e,t)},Se=tinymce.util.Tools.resolve("tinymce.html.Entities"),Oe=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},Pe=function(e){return e.replace(/\r?\n/g,"<br>")},Te=function(e,t){var n=[],r="<"+e;if("object"===typeof t){for(var o in t)Ce(t,o)&&n.push(o+'="'+Se.encodeAllRaw(t[o])+'"');n.length&&(r+=" "+n.join(" "))}return r+">"},Ae=function(e,t,n){var r=e.split(/\n\n/),o=Te(t,n),i="</"+t+">",a=W.map(r,(function(e){return e.split(/\n/).join("<br />")})),u=function(e){return o+e+i};return 1===a.length?a[0]:W.map(a,u).join("")},De=function(e,t,n){return t?Ae(e,!0===t?"p":t,n):Pe(e)},Ne=tinymce.util.Tools.resolve("tinymce.html.DomParser"),_e=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Le=" ",Re=tinymce.util.Tools.resolve("tinymce.html.Node"),Ee=tinymce.util.Tools.resolve("tinymce.html.Schema"),Me=function(e){return e.constructor===RegExp},Ie=function(e,t){return W.each(t,(function(t){e=Me(t)?e.replace(t,""):e.replace(t[0],t[1])})),e},je=function(e){var t=Ee(),n=Ne({},t),r="",o=t.getShortEndedElements(),i=W.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements(),u=function(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(o[t]&&(r+=" "),i[t])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))do{u(e)}while(e=e.next);a[t]&&n.next&&(r+="\n","p"===t&&(r+="\n"))}}else r+="\n"};return e=Ie(e,[/<!\[[^\]]+\]>/g]),u(n.parse(e)),r},Be=function(e){var t=function(e,t,n){return t||n?Le:" "};return e=Ie(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e},Ue=function(e){var t=0;return function(){return e+t++}},Fe=function(e){var t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return W.hasOwn(n,t)?"image/"+n[t]:"image/"+t},$e=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)},ze=function(e){var t=!1,n=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return e=e.replace(/^[\u00a0 ]+/,""),W.each(n,(function(n){if(n.test(e))return t=!0,!1})),t},He=function(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)},Ke=function(e){var t,n,r=1,o=function(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=o(e)}while(e=e.next);return t},i=function(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!i(e,t))return!1}while(e=e.next);return!0},a=function(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{a(e)}while(e=e.next)},u=function(e,o,u){var c=e._listLevel||r;c!==r&&(c<r?t&&(t=t.parent.parent):(n=t,t=null)),t&&t.name===o?t.append(e):(n=n||t,t=new Re(o,1),u>1&&t.attr("start",""+u),e.wrap(t)),e.name="li",c>r&&n&&n.lastChild.append(t),r=c,a(e),i(e,/^\u00a0+/),i(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(e,/^\u00a0+/)},c=[],s=e.firstChild;while("undefined"!==typeof s&&null!==s)if(c.push(s),s=s.walk(),null!==s)while("undefined"!==typeof s&&s.parent!==e)s=s.walk();for(var l=0;l<c.length;l++)if(e=c[l],"p"===e.name&&e.firstChild){var f=o(e);if(He(f)){u(e,"ul");continue}if(ze(f)){var d=/([0-9]+)\./.exec(f),m=1;d&&(m=parseInt(d[1],10)),u(e,"ol",m);continue}if(e._listLevel){u(e,"ul",1);continue}t=null}else n=t,t=null},Ve=function(e,t,n,r){var o={},i=e.dom.parseStyle(r);W.each(i,(function(i,a){switch(a){case"mso-list":var u=/\w+ \w+([0-9]+)/i.exec(r);u&&(n._listLevel=parseInt(u[1],10)),/Ignore/i.test(i)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":a="text-align";break;case"vert-align":a="vertical-align";break;case"font-color":case"mso-foreground":a="color";break;case"mso-background":case"mso-highlight":a="background";break;case"font-weight":case"font-style":return void("normal"!==i&&(o[a]=i));case"mso-element":if(/^(comment|comment-list)$/i.test(i))return void n.remove();break}0!==a.indexOf("mso-comment")?0!==a.indexOf("mso-")&&("all"===re(e)||t&&t[a])&&(o[a]=i):n.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new Re("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new Re("i",1)));var a=e.dom.serializeStyle(o,n.name);return a||null},We=function(e,t){var n,r=re(e);r&&(n=W.makeMap(r.split(/[, ]/))),t=Ie(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Le],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(Le):""}]]);var o=oe(e),i=Ee({valid_elements:o,valid_children:"-li[p]"});W.each(i.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var a=Ne({},i);a.addAttributeFilter("style",(function(t){var r,o=t.length;while(o--)r=t[o],r.attr("style",Ve(e,n,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),a.addAttributeFilter("class",(function(e){var t,n,r=e.length;while(r--)t=e[r],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),a.addNodeFilter("del",(function(e){var t=e.length;while(t--)e[t].remove()})),a.addNodeFilter("a",(function(e){var t,n,r,o=e.length;while(o--)if(t=e[o],n=t.attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1],n&&(n="#"+n)),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()}));var u=a.parse(t);return ie(e)&&Ke(u),t=_e({validate:ue(e)},i).serialize(u),t},qe=function(e,t){return ae(e)?We(e,t):t},Xe=function(e,t){var n=Ne({},e.schema);n.addNodeFilter("meta",(function(e){W.each(e,(function(e){e.remove()}))}));var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return _e({validate:ue(e)},e.schema).serialize(r)},Qe=function(e,t){return{content:e,cancelled:t}},Ge=function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t),i=H(e,o,n,r);return Qe(i.node.innerHTML,i.isDefaultPrevented())},Je=function(e,t,n,r){var o=z(e,t,n,r),i=Xe(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?Ge(e,i,n,r):Qe(i,o.isDefaultPrevented())},Ye=function(e,t,n){var r=$e(t),o=r?qe(e,t):t;return Je(e,o,n,r)},Ze=function(e,t){return e.insertContent(t,{merge:ee(e),paste:!0}),!0},et=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},tt=function(e,t){return et(t)&&C(ge(e),(function(e){return I(t.toLowerCase(),"."+e.toLowerCase())}))},nt=function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0},rt=function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0},ot=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!et(t))&&rt(e,t,n)},it=function(e,t,n){return!!tt(e,t)&&nt(e,t,n)},at=function(e,t){W.each([ot,it,Ze],(function(n){return!0!==n(e,t,Ze)}))},ut=function(e,t,n){n||!1===te(e)?Ze(e,t):at(e,t)},ct=function(e){return-1!==" \f\t\v".indexOf(e)},st=function(e){return"\n"===e||"\r"===e},lt=function(e,t){return t<e.length&&t>=0&&st(e[t])},ft=function(e,t){var n=j(" ",pe(e)),r=t.replace(/\t/g,n),o=T(r,(function(e,t){return ct(t)||t===Le?e.pcIsSpace||""===e.str||e.str.length===r.length-1||lt(r,e.str.length+1)?{pcIsSpace:!1,str:e.str+Le}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:st(t),str:e.str+t}}),{pcIsSpace:!1,str:""});return o.str},dt=function(e,t,n,r){var o=Ye(e,t,n);!1===o.cancelled&&ut(e,o.content,r)},mt=function(e,t,n){var r=n||we(t);dt(e,be(t),r,!1)},pt=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),r=ft(e,n),o=De(r,de(e),me(e));dt(e,o,!1,!0)},gt=function(e){var t={},n="data:text/mce-internal,";if(e){if(e.getData){var r=e.getData("Text");r&&r.length>0&&-1===r.indexOf(n)&&(t["text/plain"]=r)}if(e.types)for(var o=0;o<e.types.length;o++){var i=e.types[o];try{t[i]=e.getData(i)}catch(a){t[i]=""}}}return t},vt=function(e,t){return gt(t.clipboardData||e.getDoc().dataTransfer)},ht=function(e,t){return t in e&&e[t].length>0},yt=function(e){return ht(e,"text/html")||ht(e,"text/plain")},bt=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?{type:t[1],data:decodeURIComponent(t[2])}:{type:null,data:null}},wt=function(e,t){var n=le(e);return!n||n(t)},xt=function(e,t){var n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return s(n)?e.dom.encode(n[1]):null},kt=Ue("mceclip"),Ct=function(e,t){var n=bt(t.uri),r=n.data,o=n.type,i=kt(),a=t.blob,u=new Image;if(u.src=t.uri,wt(e,u)){var c=e.editorUpload.blobCache,l=void 0,f=c.getByData(r,o);if(f)l=f;else{var d=fe(e)&&s(a.name),m=d?xt(e,a.name):i,p=d?a.name:void 0;l=c.create(i,a,r,m,p),c.add(l)}mt(e,'<img src="'+l.blobUri()+'">',!1)}else mt(e,'<img src="'+t.uri+'">',!1)},St=function(e){return"paste"===e.type},Ot=function(e){return s(e.getAsFile)},Pt=function(e){return F.all(S(e,(function(e){return new F((function(t){var n=Ot(e)?e.getAsFile():e,r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})},r.readAsDataURL(n)}))})))},Tt=function(e){var t=ge(e);return function(e){return M(e.type,"image/")&&C(t,(function(t){return Fe(t)===e.type}))}},At=function(e,t){var n=t.items?D(N(t.items),(function(e){return"file"===e.kind?[e.getAsFile()]:[]})):[],r=t.files?N(t.files):[];return P(n.length>0?n:r,Tt(e))},Dt=function(e,t,n){var r=St(t)?t.clipboardData:t.dataTransfer;if(se(e)&&r){var o=At(e,r);if(o.length>0)return t.preventDefault(),Pt(o).then((function(t){n&&e.selection.setRng(n),O(t,(function(t){Ct(e,t)}))})),!0}return!1},Nt=function(e){var t=e.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length},_t=function(e){return $.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},Lt=function(e,t,n){var r,o=R(),i=R();e.on("keyup",i.clear),e.on("keydown",(function(n){var a=function(e){_t(e)&&!e.isDefaultPrevented()&&t.remove()};if(_t(n)&&!n.isDefaultPrevented()){if(r=n.shiftKey&&86===n.keyCode,r&&B.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),o.set(n),i.set(!0),B.ie&&r)return n.preventDefault(),void V(e,!0);t.remove(),t.create(),e.once("keyup",a),e.once("paste",(function(){e.off("keyup",a)}))}}));var a=function(e,n,r,o,i){var a;ht(n,"text/html")?a=n["text/html"]:(a=t.getHtml(),i=i||we(a),t.isDefaultContent(a)&&(o=!0)),a=Be(a),t.remove();var u=!1===i&&Oe(a),c=et(a);(!a.length||u&&!c)&&(o=!0),(o||c)&&(a=ht(n,"text/plain")&&u?n["text/plain"]:je(a)),t.isDefaultContent(a)?r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?pt(e,a):mt(e,a,i)},u=function(){return t.getLastRng()||e.selection.getRng()};e.on("paste",(function(c){var s=o.isSet()||i.isSet();s&&o.clear();var l=vt(e,c),f="text"===n.get()||r,d=ht(l,xe());r=!1,c.isDefaultPrevented()||Nt(c)?t.remove():yt(l)||!Dt(e,c,u())?(s||c.preventDefault(),!B.ie||s&&!c.ieFake||ht(l,"text/html")||(t.create(),e.dom.bind(t.getEl(),"paste",(function(e){e.stopPropagation()})),e.getDoc().execCommand("Paste",!1,null),l["text/html"]=t.getHtml()),ht(l,"text/html")?(c.preventDefault(),d||(d=we(l["text/html"])),a(e,l,s,f,d)):U.setEditorTimeout(e,(function(){a(e,l,s,f,d)}),0)):t.remove()}))},Rt=function(e,t,n){var r;Lt(e,t,n),e.parser.addNodeFilter("img",(function(t,n,o){var i=function(e){return e.data&&!0===e.data.paste},a=function(e){e.attr("data-mce-object")||r===B.transparentSrc||e.remove()},u=function(e){return 0===e.indexOf("webkit-fake-url")},c=function(e){return 0===e.indexOf("data:")};if(!se(e)&&i(o)){var s=t.length;while(s--)r=t[s].attr("src"),r&&(u(r)||!ce(e)&&c(r))&&a(t[s])}}))},Et=function(e){return B.ie&&e.inline?document.body:e.getBody()},Mt=function(e){return Et(e)!==e.getBody()},It=function(e,t,n){Mt(e)&&e.dom.bind(t,"paste keyup",(function(t){Ht(e,n)||e.fire("paste")}))},jt=function(e,t,n){var r=e.dom,o=e.getBody();t.set(e.selection.getRng());var i=e.dom.add(Et(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(B.ie||B.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),It(e,i,n),i.focus(),e.selection.select(i,!0)},Bt=function(e,t){if(Ut(e)){var n=void 0,r=t.get();while(n=e.dom.get("mcepastebin"))e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)},Ut=function(e){return e.dom.get("mcepastebin")},Ft=function(e){var t=function(t,n){t.appendChild(n),e.dom.remove(n,!0)},n=W.grep(Et(e).childNodes,(function(e){return"mcepastebin"===e.id})),r=n.shift();W.each(n,(function(e){t(r,e)}));for(var o=e.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var a=e.dom.create("div");r.insertBefore(a,o[i]),t(a,o[i])}return r?r.innerHTML:""},$t=function(e,t){return t===e},zt=function(e){return e&&"mcepastebin"===e.id},Ht=function(e,t){var n=Ut(e);return zt(n)&&$t(t,n.innerHTML)},Kt=function(t){var n=e(null),r="%MCEPASTEBIN%";return{create:function(){return jt(t,n,r)},remove:function(){return Bt(t,n)},getEl:function(){return Ut(t)},getHtml:function(){return Ft(t)},getLastRng:n.get,isDefault:function(){return Ht(t,r)},isDefaultContent:function(e){return $t(r,e)}}},Vt=function(e,t){var n=Kt(e);return e.on("PreInit",(function(){return Rt(e,n,t)})),{pasteFormat:t,pasteHtml:function(t,n){return mt(e,t,n)},pasteText:function(t){return pt(e,t)},pasteImageData:function(t,n){return Dt(e,t,n)},getDataTransferItems:gt,hasHtmlOrText:yt,hasContentType:ht}},Wt=function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),K(e,!1)):(t.pasteFormat.set("text"),K(e,!0)),e.focus()},qt=function(e,t){e.addCommand("mceTogglePlainTextPaste",(function(){Wt(e,t)})),e.addCommand("mceInsertClipboardContent",(function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)}))},Xt=function(e){return!1===B.iOS&&"function"===typeof(null===e||void 0===e?void 0:e.setData)},Qt=function(e,t,n){if(!Xt(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(xe(),t),!0}catch(r){return!1}},Gt=function(e,t,n,r){Qt(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Jt=function(e){return function(t,n){var r=ye(t),o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var a=e.selection.getRng();i.focus();var u=e.dom.createRng();u.selectNodeContents(i),e.selection.setRng(u),U.setTimeout((function(){e.selection.setRng(a),o.parentNode.removeChild(o),n()}),0)}},Yt=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},Zt=function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())},en=function(e){return!e.selection.isCollapsed()||Zt(e)},tn=function(e){return function(t){en(e)&&Gt(t,Yt(e),Jt(e),(function(){if(B.browser.isChrome()||B.browser.isFirefox()){var t=e.selection.getRng();U.setEditorTimeout(e,(function(){e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))}},nn=function(e){return function(t){en(e)&&Gt(t,Yt(e),Jt(e),f)}},rn=function(e){e.on("cut",tn(e)),e.on("copy",nn(e))},on=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),an=function(e,t){return on.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},un=function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")},cn=function(e,t){e.focus(),e.selection.setRng(t)},sn=function(e,t,n){q(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),X(e)||e.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),e.on("drop",(function(r){var o=an(e,r);if(!r.isDefaultPrevented()&&!n.get()){var i=t.getDataTransferItems(r.dataTransfer),a=t.hasContentType(i,xe());if((t.hasHtmlOrText(i)&&!un(i)||!t.pasteImageData(r,o))&&o&&Q(e)){var u=i["mce-internal"]||i["text/html"]||i["text/plain"];u&&(r.preventDefault(),U.setEditorTimeout(e,(function(){e.undoManager.transact((function(){i["mce-internal"]&&e.execCommand("Delete"),cn(e,o),u=Be(u),i["text/html"]?t.pasteHtml(u,a):t.pasteText(u)}))})))}}})),e.on("dragstart",(function(e){n.set(!0)})),e.on("dragover dragend",(function(t){X(e)&&!1===n.get()&&(t.preventDefault(),cn(e,an(e,t))),"dragend"===t.type&&n.set(!1)}))},ln=function(e){var t=e.plugins.paste,n=G(e);n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}));var r=J(e);r&&e.on("PastePostProcess",(function(e){r.call(t,t,e)}))},fn=function(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))},dn=function(e,t){e.on("PastePostProcess",(function(n){t(e,n.node)}))},mn=function(e,t){if(!$e(t))return t;var n=[];W.each(e.schema.getBlockElements(),(function(e,t){n.push(t)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=Ie(t,[[r,"$1"]]),t=Ie(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),t},pn=function(e,t,n,r){if(r||n)return t;var o,i=Y(e);if(!1===Z(e)||"all"===i)return t;if(i&&(o=i.split(/[, ]/)),o){var a=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,r){var i=a.parseStyle(a.decode(n)),c={};if("none"===o)return t+r;for(var s=0;s<o.length;s++){var l=i[o[s]],f=a.getStyle(u,o[s],!0);/color/.test(o[s])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(c[o[s]]=l)}var d=a.serializeStyle(c,"span");return d?t+' style="'+d+'"'+r:t+r}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r})),t},gn=function(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))},vn=function(e){B.webkit&&fn(e,pn),B.ie&&(fn(e,mn),dn(e,gn))},hn=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get());var r=function(e){return n.setActive(e.state)};return e.on("PastePlainTextToggle",r),function(){return e.off("PastePlainTextToggle",r)}}},yn=function(e,t){var n=function(){return e.execCommand("mceTogglePlainTextPaste")};e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:hn(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:hn(e,t)})};function bn(){t.add("paste",(function(t){if(!1===n(t)){var o=e(!1),i=e(ne(t)?"text":"html"),a=Vt(t,i);return vn(t),yn(t,a),qt(t,a),ln(t),rn(t),sn(t,a,o),r(a)}}))}bn()})()},6425:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){return e.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")},r=function(e){return e.getParam("pagebreak_split_block",!1)},o="mce-pagebreak",i=function(e){var n='<img src="'+t.transparentSrc+'" class="'+o+'" data-mce-resize="false" data-mce-placeholder />';return e?"<p>"+n+"</p>":n},a=function(e){var t=n(e),a=function(){return r(e)},u=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(e){return"\\"+e})),"gi");e.on("BeforeSetContent",(function(e){e.content=e.content.replace(u,i(a()))})),e.on("PreInit",(function(){e.serializer.addNodeFilter("img",(function(n){var r,i,u=n.length;while(u--)if(r=n[u],i=r.attr("class"),i&&-1!==i.indexOf(o)){var c=r.parent;if(e.schema.getBlockElements()[c.name]&&a()){c.type=3,c.value=t,c.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}}))}))},u=function(e){e.addCommand("mcePageBreak",(function(){e.insertContent(i(r(e)))}))},c=function(e){e.on("ResolveName",(function(t){"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,o)&&(t.name="pagebreak")}))},s=function(e){var t=function(){return e.execCommand("mcePageBreak")};e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t})};function l(){e.add("pagebreak",(function(e){u(e),s(e),a(e),c(e)}))}l()})()},"6cc9":function(e,t,n){n("0230")},"7efe":function(e,t,n){n("34ba")},"9fcc":function(e,t,n){n("6425")},a66c:function(e,t,n){n("dc34")},ac9a:function(e,t,n){n("e2fd")},dc34:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return function(t){return n(t)===e}},o=r("string"),i=r("object"),a=r("array"),u=function(e){return null===e||void 0===e},c=function(e){return!u(e)},s=function(){},l=function(e){return function(){return e}},f=function(e){return e},d=l(!1),m=l(!0),p=function(){return g},g=function(){var e=function(e){return e()},t=f,n={fold:function(e,t){return e()},isSome:d,isNone:m,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:t,orThunk:e,map:p,each:s,bind:p,exists:d,forall:m,filter:function(){return p()},toArray:function(){return[]},toString:l("none()")};return n}(),v=function(e){var t=l(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:m,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return v(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:g},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},h=function(e){return null===e||void 0===e?g:v(e)},y={some:v,none:p,from:h},b=Array.prototype.push,w=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},x=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);b.apply(t,e[n])}return t},k=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},C=Object.keys,S=Object.hasOwnProperty,O=function(e,t){for(var n=C(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},P=function(e,t){return T(e,t)?y.from(e[t]):y.none()},T=function(e,t){return S.call(e,t)},A=function(e){return e.getParam("media_scripts")},D=function(e){return e.getParam("audio_template_callback")},N=function(e){return e.getParam("video_template_callback")},_=function(e){return e.getParam("media_live_embeds",!0)},L=function(e){return e.getParam("media_filter_html",!0)},R=function(e){return e.getParam("media_url_resolver")},E=function(e){return e.getParam("media_alt_source",!0)},M=function(e){return e.getParam("media_poster",!0)},I=function(e){return e.getParam("media_dimensions",!0)},j=tinymce.util.Tools.resolve("tinymce.util.Tools"),B=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),U=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),F=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},$=B.DOM,z=function(e){return e.replace(/px$/,"")},H=function(e){var t=e.map.style,n=t?$.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.map["data-ephox-embed-iri"],altsource:"",poster:"",width:P(n,"max-width").map(z).getOr(""),height:P(n,"max-height").map(z).getOr("")}},K=function(e,t){var n=k(!1),r={};return U({validate:!1,allow_conditional_comments:!0,start:function(t,o){if(n.get());else if(T(o.map,"data-ephox-embed-iri"))n.set(!0),r=H(o);else{if(r.source||"param"!==t||(r.source=o.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=j.extend(o.map,r)),"script"===t){var i=F(e,o.map.src);if(!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==t||r.poster||(r.poster=o.map.src)}}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},V=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n=e.toLowerCase().split(".").pop(),r=t[n];return r||""},W=tinymce.util.Tools.resolve("tinymce.html.Schema"),q=tinymce.util.Tools.resolve("tinymce.html.Writer"),X=B.DOM,Q=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},G=function(e,t){O(t,(function(t,n){var r=""+t;if(e.map[n]){var o=e.length;while(o--){var i=e[o];i.name===n&&(r?(e.map[n]=r,i.value=r):(delete e.map[n],e.splice(o,1)))}}else r&&(e.push({name:n,value:r}),e.map[n]=r)}))},J=function(e,t){var n=t.map.style,r=n?X.parseStyle(n):{};r["max-width"]=Q(e.width),r["max-height"]=Q(e.height),G(t,{style:X.serializeStyle(r)})},Y=["source","altsource"],Z=function(e,t,n){var r,o=q(),i=k(!1),a=0;return U({validate:!1,allow_conditional_comments:!0,comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,u,c){if(i.get());else if(T(u.map,"data-ephox-embed-iri"))i.set(!0),J(t,u);else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&G(u,{width:t.width,height:t.height});break}if(n)switch(e){case"video":G(u,{poster:t.poster,src:""}),t.altsource&&G(u,{src:""});break;case"iframe":G(u,{src:t.source});break;case"source":if(a<2&&(G(u,{src:t[Y[a]],type:t[Y[a]+"mime"]}),!t[Y[a]]))return;a++;break;case"img":if(!t.poster)return;r=!0;break}}o.start(e,u,c)},end:function(e){if(!i.get()){if("video"===e&&n)for(var u=0;u<2;u++)if(t[Y[u]]){var c=[];c.map={},a<=u&&(G(c,{src:t[Y[u]],type:t[Y[u]+"mime"]}),o.start("source",c,!0))}if(t.poster&&"object"===e&&n&&!r){var s=[];s.map={},G(s,{src:t.poster,width:t.width,height:t.height}),o.start("img",s,!0)}}o.end(e)}},W({})).parse(e),o.getContent()},ee=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],te=function(e){var t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"},ne=function(e,t){for(var n=te(t),r=e.regex.exec(t),o=n+e.url,i=function(e){o=o.replace("$"+e,(function(){return r[e]?r[e]:""}))},a=0;a<r.length;a++)i(a);return o.replace(/\?$/,"")},re=function(e){var t=ee.filter((function(t){return t.regex.test(e)}));return t.length>0?j.extend({},t[0],{url:ne(t[0],e)}):null},oe=function(e){var t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"},ie=function(e){var t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t},ae=function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"},ue=function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"},ce=function(e){return'<script src="'+e.source+'"><\/script>'},se=function(e,t){var n=j.extend({},t);if(!n.source&&(j.extend(n,K(A(e),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=V(n.source),n.altsourcemime=V(n.altsource),n.poster=e.convertURL(n.poster,"poster");var r=re(n.source);if(r&&(n.source=r.url,n.type=r.type,n.allowfullscreen=r.allowFullscreen,n.width=n.width||String(r.w),n.height=n.height||String(r.h)),n.embed)return Z(n.embed,n,!0);var o=F(A(e),n.source);o&&(n.type="script",n.width=String(o.width),n.height=String(o.height));var i=D(e),a=N(e);return n.width=n.width||"300",n.height=n.height||"150",j.each(n,(function(t,r){n[r]=e.dom.encode(""+t)})),"iframe"===n.type?oe(n):"application/x-shockwave-flash"===n.sourcemime?ie(n):-1!==n.sourcemime.indexOf("audio")?ae(n,i):"script"===n.type?ce(n):ue(n,a)},le=function(e){return e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri")},fe=function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object");"script"===t&&e.preventDefault()})),e.on("ObjectResized",(function(e){var t=e.target;if(t.getAttribute("data-mce-object")){var n=t.getAttribute("data-mce-html");n&&(n=unescape(n),t.setAttribute("data-mce-html",escape(Z(n,{width:String(e.width),height:String(e.height)}))))}}))},de=tinymce.util.Tools.resolve("tinymce.util.Promise"),me={},pe=function(e,t,n){return new de((function(r,o){var i=function(n){return n.html&&(me[e.source]=n),r({url:e.source,html:n.html?n.html:t(e)})};me[e.source]?i(me[e.source]):n({url:e.source},i,o)}))},ge=function(e,t){return de.resolve({html:t(e),url:e.source})},ve=function(e){return function(t){return se(e,t)}},he=function(e,t){var n=R(e);return n?pe(t,ve(e),n):ge(t,ve(e))},ye=function(e){return T(me,e)},be=function(e,t){return P(t,e).bind((function(e){return P(e,"meta")}))},we=function(e,t,n){return function(r){var o,a=function(){return P(e,r)},u=function(){return P(t,r)},c=function(e){return P(e,"value").bind((function(e){return e.length>0?y.some(e):y.none()}))},s=function(){return a().bind((function(e){return i(e)?c(e).orThunk(u):u().orThunk((function(){return y.from(e)}))}))},l=function(){return u().orThunk((function(){return a().bind((function(e){return i(e)?c(e):y.from(e)}))}))};return o={},o[r]=(r===n?s():l()).getOr(""),o}},xe=function(e,t){var n={};return P(e,"dimensions").each((function(e){w(["width","height"],(function(r){P(t,r).orThunk((function(){return P(e,r)})).each((function(e){return n[r]=e}))}))})),n},ke=function(e,n){var r=n?be(n,e).getOr({}):{},o=we(e,r,n);return t(t(t(t(t({},o("source")),o("altsource")),o("poster")),o("embed")),xe(e,r))},Ce=function(e){var n=t(t({},e),{source:{value:P(e,"source").getOr("")},altsource:{value:P(e,"altsource").getOr("")},poster:{value:P(e,"poster").getOr("")}});return w(["width","height"],(function(t){P(e,t).each((function(e){var r=n.dimensions||{};r[t]=e,n.dimensions=r}))})),n},Se=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},Oe=function(e,t){return K(A(e),t)},Pe=function(e){var n=e.selection.getNode(),r=le(n)?e.serializer.serialize(n,{selection:!0}):"";return t({embed:r},K(A(e),r))},Te=function(e,n){return function(r){if(o(r.url)&&r.url.trim().length>0){var i=r.html,a=Oe(n,i),u=t(t({},a),{source:r.url,embed:i});e.setData(Ce(u))}}},Ae=function(e,t){for(var n=e.dom.select("*[data-mce-object]"),r=0;r<t.length;r++)for(var o=n.length-1;o>=0;o--)t[r]===n[o]&&n.splice(o,1);e.selection.select(n[0])},De=function(e,t){var n=e.dom.select("*[data-mce-object]");e.insertContent(t),Ae(e,n),e.nodeChanged()},Ne=function(e,t,n){t.embed=Z(t.embed,t),t.embed&&(e.source===t.source||ye(t.source))?De(n,t.embed):he(n,t).then((function(e){De(n,e.html)})).catch(Se(n))},_e=function(e){var n=Pe(e),r=k(n),o=Ce(n),i=function(t,n){var r=ke(n.getData(),"source");t.source!==r.source&&(Te(h,e)({url:r.source,html:""}),he(e,r).then(Te(h,e)).catch(Se(e)))},a=function(t){var n=ke(t.getData()),r=Oe(e,n.embed);t.setData(Ce(r))},u=function(n,r){var o=ke(n.getData(),r),i=se(e,o);n.setData(Ce(t(t({},o),{embed:i})))},c=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],s=I(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],l={title:"General",name:"general",items:x([c,s])},f={type:"textarea",name:"embed",label:"Paste your embed code below:"},d={title:"Embed",items:[f]},m=[];E(e)&&m.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),M(e)&&m.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var p={title:"Advanced",name:"advanced",items:m},g=[l,d];m.length>0&&g.push(p);var v={type:"tabpanel",tabs:g},h=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:v,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=ke(t.getData());Ne(r.get(),n,e),t.close()},onChange:function(e,t){switch(t.name){case"source":i(r.get(),e);break;case"embed":a(e);break;case"dimensions":case"altsource":case"poster":u(e,t.name);break}r.set(ke(e.getData()))},initialData:o})},Le=function(e){var t=function(){_e(e)};return{showDialog:t}},Re=function(e){var t=function(){_e(e)};e.addCommand("mceMedia",t)},Ee=tinymce.util.Tools.resolve("tinymce.html.Node"),Me=tinymce.util.Tools.resolve("tinymce.Env"),Ie=tinymce.util.Tools.resolve("tinymce.html.DomParser"),je=function(e,t){if(!1===L(e))return t;var n,r=q();return U({validate:!1,allow_conditional_comments:!1,comment:function(e){n||r.comment(e)},cdata:function(e){n||r.cdata(e)},text:function(e,t){n||r.text(e,t)},start:function(t,o,i){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var a=o.length-1;a>=0;a--){var u=o[a].name;0===u.indexOf("on")&&(delete o.map[u],o.splice(a,1)),"style"===u&&(o[a].value=e.dom.serializeStyle(e.dom.parseStyle(o[a].value),t))}r.start(t,o,i),n=!1}},end:function(e){n||r.end(e)}},W({})).parse(t),r.getContent()},Be=function(e){var t=e.name;return"iframe"===t||"video"===t||"audio"===t},Ue=function(e,t,n,r){void 0===r&&(r=null);var o=e.attr(n);return c(o)?o:T(t,n)?null:r},Fe=function(e,t,n){var r="img"===t.name||"video"===e.name,o=r?"300":null,i="audio"===e.name?"30":"150",a=r?i:null;t.attr({width:Ue(e,n,"width",o),height:Ue(e,n,"height",a)})},$e=function(e,t,n,r){var o=Ie({forced_root_block:!1,validate:!1},e.schema).parse(r,{context:t});while(o.firstChild)n.append(o.firstChild)},ze=function(e,t){var n=t.name,r=new Ee("img",1);return r.shortEnded=!0,Ke(e,t,r),Fe(t,r,{}),r.attr({style:t.attr("style"),src:Me.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),r},He=function(e,t){var n=t.name,r=new Ee("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),Ke(e,t,r);var o=e.dom.parseStyle(t.attr("style")),i=new Ee(n,1);if(Fe(t,i,o),i.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===n)i.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0"});else{var a=["controls","crossorigin","currentTime","loop","muted","poster","preload"];w(a,(function(e){i.attr(e,t.attr(e))}));var u=r.attr("data-mce-html");c(u)&&$e(e,n,i,unescape(u))}var s=new Ee("span",1);return s.attr("class","mce-shim"),r.append(i),r.append(s),r},Ke=function(e,t,n){var r=t.attributes,o=r.length;while(o--){var i=r[o].name,a=r[o].value;"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(a=e.convertURL(a,i)),n.attr("data-mce-p-"+i,a))}var u=t.firstChild&&t.firstChild.value;u&&(n.attr("data-mce-html",escape(je(e,u))),n.firstChild=null)},Ve=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},We=function(e){while(e=e.parent)if(e.attr("data-ephox-embed-iri")||Ve(e))return!0;return!1},qe=function(e){return function(t){var n,r,o=t.length;while(o--)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=F(A(e),n.attr("src")),r))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),Be(n)&&_(e)&&Me.ceFalse?We(n)||n.replace(He(e,n)):We(n)||n.replace(ze(e,n))))}},Xe=function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements();j.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var n=e.schema.getBoolAttrs();j.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",qe(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,n){var r,o,i,a,u,c,s,l,f=t.length;while(f--)if(r=t[f],r.parent){s=r.attr(n),o=new Ee(s,1),"audio"!==s&&"script"!==s&&(l=r.attr("class"),l&&-1!==l.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),a=r.attributes,i=a.length;while(i--){var d=a[i].name;0===d.indexOf("data-mce-p-")&&o.attr(d.substr(11),a[i].value)}"script"===s&&o.attr("type","text/javascript"),u=r.attr("data-mce-html"),u&&(c=new Ee("#text",3),c.raw=!0,c.value=je(e,unescape(u)),o.append(c)),r.replace(o)}}))})),e.on("SetContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))},Qe=function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))},Ge=function(e){var t=function(){return e.execCommand("mceMedia")};e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:function(t){var n=e.selection;return t.setActive(le(n.getNode())),n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t})};function Je(){e.add("media",(function(e){return Re(e),Ge(e),Qe(e),Xe(e),fe(e),Le(e)}))}Je()})()},ddba:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return function(n){return t(n)===e}},r=function(e){return function(t){return typeof t===e}},o=n("string"),i=n("object"),a=n("array"),u=r("boolean"),c=r("function"),s=r("number"),l=function(){},f=function(e){return function(){return e}},d=function(e){return e},m=function(e,t){return e===t},p=function(e){return function(t){return!e(t)}},g=f(!1),v=f(!0),h=function(){return y},y=function(){var e=function(e){return e()},t=d,n={fold:function(e,t){return e()},isSome:g,isNone:v,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:t,orThunk:e,map:h,each:l,bind:h,exists:g,forall:v,filter:function(){return h()},toArray:function(){return[]},toString:f("none()")};return n}(),b=function(e){var t=f(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:v,isNone:g,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},w=function(e){return null===e||void 0===e?y:b(e)},x={some:b,none:h,from:w},k=Array.prototype.slice,C=Array.prototype.push,S=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},O=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},P=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},T=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],c=t(u);c!==n&&(r.push(o),o=[]),n=c,o.push(u)}return 0!==o.length&&r.push(o),r},A=function(e,t,n){return O(e,(function(e,r){n=t(n,e,r)})),n},D=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return x.some(i);if(n(i,r))break}return x.none()},N=function(e,t){return D(e,t,g)},_=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);C.apply(t,e[n])}return t},L=function(e,t){return _(S(e,t))},R=function(e){var t=k.call(e,0);return t.reverse(),t},E=function(e,t){return t>=0&&t<e.length?x.some(e[t]):x.none()},M=function(e){return E(e,0)},I=function(e){return E(e,e.length-1)},j=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return x.none()},B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},B.apply(this,arguments)};function U(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var F=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},$=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!c,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!s&&!c&&!l;return{isiPad:f(o),isiPhone:f(i),isTablet:f(c),isPhone:f(s),isTouch:f(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:f(l),isDesktop:f(d)}},z=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},H=function(e,t){var n=z(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return W(r(1),r(2))},K=function(e,t){var n=String(t).toLowerCase();return 0===e.length?V():H(e,n)},V=function(){return W(0,0)},W=function(e,t){return{major:e,minor:t}},q={nu:W,detect:K,unknown:V},X=function(e,t){return j(t.brands,(function(t){var n=t.brand.toLowerCase();return N(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:q.nu(parseInt(t.version,10),0)}}))}))},Q=function(e,t){var n=String(t).toLowerCase();return N(e,(function(e){return e.search(n)}))},G=function(e,t){return Q(e,t).map((function(e){var n=q.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},J=function(e,t){return Q(e,t).map((function(e){var n=q.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Y=function(e,t){return-1!==e.indexOf(t)},Z=function(e){return function(t){return t.replace(e,"")}},ee=Z(/^\s+|\s+$/g),te=function(e){return e.length>0},ne=function(e){return!te(e)},re=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oe=function(e){return function(t){return Y(t,e)}},ie=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Y(e,"edge/")&&Y(e,"chrome")&&Y(e,"safari")&&Y(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,re],search:function(e){return Y(e,"chrome")&&!Y(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Y(e,"msie")||Y(e,"trident")}},{name:"Opera",versionRegexes:[re,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oe("firefox")},{name:"Safari",versionRegexes:[re,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Y(e,"safari")||Y(e,"mobile/"))&&Y(e,"applewebkit")}}],ae=[{name:"Windows",search:oe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Y(e,"iphone")||Y(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:oe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oe("linux"),versionRegexes:[]},{name:"Solaris",search:oe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ue={browsers:f(ie),oses:f(ae)},ce="Edge",se="Chrome",le="IE",fe="Opera",de="Firefox",me="Safari",pe=function(){return ge({current:void 0,version:q.unknown()})},ge=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(ce),isChrome:r(se),isIE:r(le),isOpera:r(fe),isFirefox:r(de),isSafari:r(me)}},ve={unknown:pe,nu:ge,edge:f(ce),chrome:f(se),ie:f(le),opera:f(fe),firefox:f(de),safari:f(me)},he="Windows",ye="iOS",be="Android",we="Linux",xe="OSX",ke="Solaris",Ce="FreeBSD",Se="ChromeOS",Oe=function(){return Pe({current:void 0,version:q.unknown()})},Pe=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(he),isiOS:r(ye),isAndroid:r(be),isOSX:r(xe),isLinux:r(we),isSolaris:r(ke),isFreeBSD:r(Ce),isChromeOS:r(Se)}},Te={unknown:Oe,nu:Pe,windows:f(he),ios:f(ye),android:f(be),linux:f(we),osx:f(xe),solaris:f(ke),freebsd:f(Ce),chromeos:f(Se)},Ae=function(e,t,n){var r=ue.browsers(),o=ue.oses(),i=t.bind((function(e){return X(r,e)})).orThunk((function(){return G(r,e)})).fold(ve.unknown,ve.nu),a=J(o,e).fold(Te.unknown,Te.nu),u=$(a,i,e,n);return{browser:i,os:a,deviceType:u}},De={detect:Ae},Ne=function(e){return window.matchMedia(e).matches},_e=F((function(){return De.detect(navigator.userAgent,x.from(navigator.userAgentData),Ne)})),Le=function(){return _e()},Re=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Ee=function(e,t){return Re(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},Me=1,Ie=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Ue(r.childNodes[0])},je=function(e,t){var n=t||document,r=n.createElement(e);return Ue(r)},Be=function(e,t){var n=t||document,r=n.createTextNode(e);return Ue(r)},Ue=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Fe=function(e,t,n){return x.from(e.dom.elementFromPoint(t,n)).map(Ue)},$e={fromHtml:Ie,fromTag:je,fromText:Be,fromDom:Ue,fromPoint:Fe},ze=function(e,t){var n=e.dom;if(n.nodeType!==Me)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},He=function(e,t){return e.dom===t.dom},Ke=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},Ve=function(e,t){return Ee(e.dom,t.dom)},We=function(e,t){return Le().browser.isIE()?Ve(e,t):Ke(e,t)},qe=ze,Xe=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Qe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ge=tinymce.util.Tools.resolve("tinymce.util.VK"),Je=Object.keys,Ye=function(e,t){for(var n=Je(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},Ze=function(e){return function(t,n){e[n]=t}},et=function(e,t,n,r){var o={};return Ye(e,(function(e,o){(t(e,o)?n:r)(e,o)})),o},tt=function(e,t){var n={};return et(e,t,Ze(n),l),n};"undefined"!==typeof window?window:Function("return this;")();var nt=function(e){var t=e.dom.nodeName;return t.toLowerCase()},rt=function(e){return e.dom.nodeType},ot=function(e){return function(t){return rt(t)===e}},it=ot(Me),at=function(e){return function(t){return it(t)&&nt(t)===e}},ut=function(e,t,n){if(!(o(n)||u(n)||s(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ct=function(e,t){var n=e.dom;Ye(t,(function(e,t){ut(n,t,e)}))},st=function(e){return A(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},lt=function(e){return x.from(e.dom.parentNode).map($e.fromDom)},ft=function(e){return S(e.dom.childNodes,$e.fromDom)},dt=function(e,t){var n=e.dom.childNodes;return x.from(n[t]).map($e.fromDom)},mt=function(e){return dt(e,0)},pt=function(e){return dt(e,e.dom.childNodes.length-1)},gt=function(e,t){var n=lt(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},vt=function(e,t){e.dom.appendChild(t.dom)},ht=function(e,t){O(t,(function(t){gt(e,t)}))},yt=function(e,t){O(t,(function(t){vt(e,t)}))},bt=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},wt=function(e,t){return $e.fromDom(e.dom.cloneNode(t))},xt=function(e){return wt(e,!0)},kt=function(e,t){var n=$e.fromTag(t),r=st(e);return ct(n,r),n},Ct=function(e,t){var n=kt(e,t);gt(e,n);var r=ft(e);return yt(n,r),bt(e),n},St=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ot=tinymce.util.Tools.resolve("tinymce.util.Tools"),Pt=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},Tt=function(e){return function(t){return t&&e.test(t.nodeName)}},At=function(e){return e&&3===e.nodeType},Dt=Tt(/^(OL|UL|DL)$/),Nt=Tt(/^(OL|UL)$/),_t=Pt("ol"),Lt=Tt(/^(LI|DT|DD)$/),Rt=Tt(/^(DT|DD)$/),Et=Tt(/^(TH|TD)$/),Mt=Pt("br"),It=function(e){return e.parentNode.firstChild===e},jt=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},Bt=function(e,t){return e&&e.nodeName in t},Ut=function(e,t){return!!Mt(t)&&(e.isBlock(t.nextSibling)&&!Mt(t.previousSibling))},Ft=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},$t=function(e,t){return e.isChildOf(t,e.getRoot())},zt=function(e){return e.getParam("lists_indent_on_tab",!0)},Ht=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Kt=function(e){return e.getParam("forced_root_block_attrs",{})},Vt=function(e,t){var n,r,o,i=e.dom,a=e.schema.getBlockElements(),u=i.createFragment(),c=Ht(e);if(c&&(r=i.create(c),r.tagName===c.toUpperCase()&&i.setAttribs(r,Kt(e)),Bt(t.firstChild,a)||u.appendChild(r)),t)while(n=t.firstChild){var s=n.nodeName;o||"SPAN"===s&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),Bt(n,a)?(u.appendChild(n),r=null):c?(r||(r=i.create(c),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return c?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u},Wt=St.DOM,qt=function(e,t,n){var r=function(e){Ot.each(o,(function(t){e.parentNode.insertBefore(t,n.parentNode)})),Wt.remove(e)},o=Wt.select('span[data-mce-type="bookmark"]',t),i=Vt(e,n),a=Wt.createRng();a.setStartAfter(n),a.setEndAfter(t);for(var u=a.extractContents(),c=u.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&e.dom.isEmpty(c)){Wt.remove(c);break}e.dom.isEmpty(u)||Wt.insertAfter(u,t),Wt.insertAfter(i,t),Ft(e.dom,n.parentNode)&&r(n.parentNode),Wt.remove(n),Ft(e.dom,t)&&Wt.remove(t)},Xt=at("dd"),Qt=at("dt"),Gt=function(e,t){Xt(t)?Ct(t,"dt"):Qt(t)&&lt(t).each((function(n){return qt(e,n.dom,t.dom)}))},Jt=function(e){Qt(e)&&Ct(e,"dd")},Yt=function(e,t,n){O(n,"Indent"===t?Jt:function(t){return Gt(e,t)})},Zt=function(e,t){if(At(e))return{container:e,offset:t};var n=Xe.getNode(e,t);return At(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&At(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&At(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},en=function(e){var t=e.cloneRange(),n=Zt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=Zt(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},tn=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),nn=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",ln(e,n))},rn=function(e,t){return e&&1===t.length&&t[0]===e},on=function(e){return P(e.querySelectorAll("ol,ul,dl"),Dt)},an=function(e){var t=nn(e),n=e.selection.getSelectedBlocks();return rn(t,n)?on(t):P(n,(function(e){return Dt(e)&&t!==e}))},un=function(e,t){var n=Ot.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",ln(e,t));return n||t}));return tn.unique(n)},cn=function(e){var t=e.selection.getSelectedBlocks();return P(un(e,t),Lt)},sn=function(e){return P(cn(e),Rt)},ln=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},fn=function(e,t){var n=e.dom.getParents(t,"ol,ul",ln(e,t));return I(n)},dn=function(e){var t=fn(e,e.selection.getStart()),n=P(e.selection.getSelectedBlocks(),Nt);return t.toArray().concat(n)},mn=function(e){var t=dn(e);return pn(e,t)},pn=function(e,t){var n=S(t,(function(t){return fn(e,t).getOr(t)}));return tn.unique(n)},gn=function(e,t,n){return void 0===n&&(n=m),e.exists((function(e){return n(e,t)}))},vn=function(e,t,n){return e.isSome()&&t.isSome()?x.some(n(e.getOrDie(),t.getOrDie())):x.none()},hn=function(e,t){var n=t||document,r=n.createDocumentFragment();return O(e,(function(e){r.appendChild(e.dom)})),$e.fromDom(r)},yn=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},bn=function(e){return void 0!==e.style&&c(e.style.getPropertyValue)},wn=function(e,t,n){if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);bn(e)&&e.style.setProperty(t,n)},xn=function(e,t,n){var r=e.dom;wn(r,t,n)},kn=function(e,t){vt(e.item,t.list)},Cn=function(e){for(var t=1;t<e.length;t++)kn(e[t-1],e[t])},Sn=function(e,t){vn(I(e),M(t),kn)},On=function(e,t){var n={list:$e.fromTag(t,e),item:$e.fromTag("li",e)};return vt(n.list,n.item),n},Pn=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(On(e,t.listType));return r},Tn=function(e,t){for(var n=0;n<e.length-1;n++)xn(e[n].item,"list-style-type","none");I(e).each((function(e){ct(e.list,t.listAttributes),ct(e.item,t.itemAttributes),yt(e.item,t.content)}))},An=function(e,t){nt(e.list)!==t.listType&&(e.list=Ct(e.list,t.listType)),ct(e.list,t.listAttributes)},Dn=function(e,t,n){var r=$e.fromTag("li",e);return ct(r,t),yt(r,n),r},Nn=function(e,t){vt(e.list,t),e.item=t},_n=function(e,t,n){var r=t.slice(0,n.depth);return I(r).each((function(t){var r=Dn(e,n.itemAttributes,n.content);Nn(t,r),An(t,n)})),r},Ln=function(e,t,n){var r=Pn(e,n,n.depth-t.length);return Cn(r),Tn(r,n),Sn(t,r),t.concat(r)},Rn=function(e,t){var n=A(t,(function(t,n){return n.depth>t.length?Ln(e,t,n):_n(e,t,n)}),[]);return M(n).map((function(e){return e.list}))},En=function(e){return qe(e,"OL,UL")},Mn=function(e){return mt(e).exists(En)},In=function(e){return pt(e).exists(En)},jn=function(e){return e.depth>0},Bn=function(e){return e.isSelected},Un=function(e){var t=ft(e),n=In(e)?t.slice(0,-1):t;return S(n,xt)},Fn=function(e,t,n){return lt(e).filter(it).map((function(r){return{depth:t,dirty:!1,isSelected:n,content:Un(e),itemAttributes:st(e),listAttributes:st(r),listType:nt(r)}}))},$n=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},zn=function(e,t){e.listType=t.listType,e.listAttributes=B({},t.listAttributes)},Hn=function(e){e.listAttributes=tt(e.listAttributes,(function(e,t){return"start"!==t}))},Kn=function(e,t){var n=e[t].depth,r=function(e){return e.depth===n&&!e.dirty},o=function(e){return e.depth<n};return D(R(e.slice(0,t)),r,o).orThunk((function(){return D(e.slice(t+1),r,o)}))},Vn=function(e){return O(e,(function(t,n){Kn(e,n).fold((function(){t.dirty&&Hn(t)}),(function(e){return zn(t,e)}))})),e},Wn=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},qn=function(e,t,n,r){return mt(r).filter(En).fold((function(){t.each((function(e){He(e.start,r)&&n.set(!0)}));var o=Fn(r,e,n.get());t.each((function(e){He(e.end,r)&&n.set(!1)}));var i=pt(r).filter(En).map((function(r){return Xn(e,t,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return Xn(e,t,n,r)}))},Xn=function(e,t,n,r){return L(ft(r),(function(r){var o=En(r)?Xn:qn,i=e+1;return o(i,t,n,r)}))},Qn=function(e,t){var n=Wn(!1),r=0;return S(e,(function(e){return{sourceList:e,entries:Xn(r,t,n,e)}}))},Gn=function(e,t){var n=Vn(t);return S(n,(function(t){var n=hn(t.content);return $e.fromDom(Vt(e,n.dom))}))},Jn=function(e,t){var n=Vn(t);return Rn(e.contentDocument,n).toArray()},Yn=function(e,t){return L(T(t,jn),(function(t){var n=M(t).exists(jn);return n?Jn(e,t):Gn(e,t)}))},Zn=function(e,t){O(P(e,Bn),(function(e){return $n(t,e)}))},er=function(e){var t=S(cn(e),$e.fromDom);return vn(N(t,p(Mn)),N(R(t),p(Mn)),(function(e,t){return{start:e,end:t}}))},tr=function(e,t,n){var r=Qn(t,er(e));O(r,(function(t){Zn(t.entries,n);var r=Yn(e,t.entries);O(r,(function(t){yn(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),ht(t.sourceList,r),bt(t.sourceList)}))},nr=function(e,t){var n=S(mn(e),$e.fromDom),r=S(sn(e),$e.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();tr(e,n,t),Yt(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(en(e.selection.getRng())),e.nodeChanged(),o=!0}return o},rr=function(e){return nr(e,"Indent")},or=function(e){return nr(e,"Outdent")},ir=function(e){return nr(e,"Flatten")},ar=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),ur=St.DOM,cr=function(e){var t={},n=function(n){var r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"];if(1===r.nodeType){var i=ur.create("span",{"data-mce-type":"bookmark"});r.hasChildNodes()?(o=Math.min(o,r.childNodes.length-1),n?r.insertBefore(i,r.childNodes[o]):ur.insertAfter(i,r.childNodes[o])):r.appendChild(i),r=i,o=0}t[n?"startContainer":"endContainer"]=r,t[n?"startOffset":"endOffset"]=o};return n(!0),e.collapsed||n(),t},sr=function(e){var t=function(t){var n,r=function(e){var t=e.parentNode.firstChild,n=0;while(t){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1},o=n=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"];o&&(1===o.nodeType&&(i=r(o),o=o.parentNode,ur.remove(n),!o.hasChildNodes()&&ur.isBlock(o)&&o.appendChild(ur.create("br"))),e[t?"startContainer":"endContainer"]=o,e[t?"startOffset":"endOffset"]=i)};t(!0),t();var n=ur.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),en(n)},lr=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},fr=function(e){return/\btox\-/.test(e.className)},dr=function(e,t,n){var r=function(e){var r=D(e.parents,Dt,Et).filter((function(e){return e.nodeName===t&&!fr(e)})).isSome();n(r)},o=e.dom.getParents(e.selection.getNode());return r({parents:o}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}},mr=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},pr=function(e,t){Ot.each(t,(function(t,n){e.setAttribute(n,t)}))},gr=function(e,t,n){pr(t,n["list-attributes"]),Ot.each(e.select("li",t),(function(e){pr(e,n["list-item-attributes"])}))},vr=function(e,t,n){mr(e,t,n),gr(e,t,n)},hr=function(e,t,n){Ot.each(n,(function(n){var r;return e.setStyle(t,(r={},r[n]="",r))}))},yr=function(e,t,n,r){var o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Mt(o.nextSibling)&&(o=o.nextSibling);while(o.parentNode!==r){if(jt(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},br=function(e,t,n){for(var r,o=[],i=e.dom,a=yr(e,t,!0,n),u=yr(e,t,!1,n),c=[],s=a;s;s=s.nextSibling)if(c.push(s),s===u)break;return Ot.each(c,(function(t){if(jt(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||Mt(t))return Mt(t)&&i.remove(t),void(r=null);var a=t.nextSibling;ar.isBookmarkNode(t)&&(Dt(a)||jt(e,a)||!a&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o},wr=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},xr=function(e,t,n){var r=e.selection.getRng(),o="LI",i=ln(e,e.selection.getStart(!0)),a=e.dom;if("false"!==a.getContentEditable(e.selection.getNode())){t=t.toUpperCase(),"DL"===t&&(o="DT");var u=cr(r),c=br(e,r,i);Ot.each(c,(function(r){var i,u=r.previousSibling,c=r.parentNode;Lt(c)||(u&&Dt(u)&&u.nodeName===t&&wr(a,u,n)?(i=u,r=a.rename(r,o),u.appendChild(r)):(i=a.create(t),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),hr(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),vr(a,i,n),Pr(e.dom,i))})),e.selection.setRng(sr(u))}},kr=function(e,t){return e&&t&&Dt(e)&&e.nodeName===t.nodeName},Cr=function(e,t,n){var r=e.getStyle(t,"list-style-type",!0),o=e.getStyle(n,"list-style-type",!0);return r===o},Sr=function(e,t){return e.className===t.className},Or=function(e,t,n){return kr(t,n)&&Cr(e,t,n)&&Sr(t,n)},Pr=function(e,t){var n,r;if(n=t.nextSibling,Or(e,t,n)){while(r=n.firstChild)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,Or(e,t,n)){while(r=n.lastChild)t.insertBefore(r,t.firstChild);e.remove(n)}},Tr=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);vr(e.dom,o,r),yn(e,lr(n),o)}else vr(e.dom,t,r),yn(e,lr(n),t)},Ar=function(e,t,n,r,o){var i=Dt(t);if(i&&t.nodeName===r&&!Dr(o))ir(e);else{xr(e,r,o);var a=cr(e.selection.getRng()),u=i?U([t],n,!0):n;Ot.each(u,(function(t){Tr(e,t,r,o)})),e.selection.setRng(sr(a))}},Dr=function(e){return"list-style-type"in e},Nr=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||Dr(r)||fr(t)){var o=cr(e.selection.getRng());vr(e.dom,t,r);var i=e.dom.rename(t,n);Pr(e.dom,i),e.selection.setRng(sr(o)),xr(e,n,r),yn(e,lr(n),i)}else ir(e);else xr(e,n,r),yn(e,lr(n),t)},_r=function(e,t,n){var r=nn(e),o=an(e),a=i(n)?n:{};o.length>0?Ar(e,r,o,t,a):Nr(e,r,t,a)},Lr=St.DOM,Rr=function(e,t){var n=t.parentNode;if("LI"===n.nodeName&&n.firstChild===t){var r=n.previousSibling;r&&"LI"===r.nodeName?(r.appendChild(t),Ft(e,n)&&Lr.remove(n)):Lr.setStyle(n,"listStyleType","none")}if(Dt(n)){r=n.previousSibling;r&&"LI"===r.nodeName&&r.appendChild(t)}},Er=function(e,t){var n=Ot.grep(e.select("ol,ul",t));Ot.each(n,(function(t){Rr(e,t)}))},Mr=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if(At(o)&&(n?i<o.data.length:i>0))return o;var a=e.schema.getNonEmptyElements();1===o.nodeType&&(o=Xe.getNode(o,i));var u=new Qe(o,r);n&&Ut(e.dom,o)&&u.next();while(o=u[n?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(At(o)&&o.data.length>0)return o}},Ir=function(e,t){var n=t.childNodes;return 1===n.length&&!Dt(n[0])&&e.isBlock(n[0])},jr=function(e,t){Ir(e,t)&&e.remove(t.firstChild,!0)},Br=function(e,t,n){var r,o=Ir(e,n)?n.firstChild:n;if(jr(e,t),!Ft(e,t,!0))while(r=t.firstChild)o.appendChild(r)},Ur=function(e,t,n){var r,o=t.parentNode;if($t(e,t)&&$t(e,n)){Dt(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&Mt(o.previousSibling)&&e.remove(o.previousSibling);var i=n.lastChild;i&&Mt(i)&&t.hasChildNodes()&&e.remove(i),Ft(e,n,!0)&&e.$(n).empty(),Br(e,t,n),r&&n.appendChild(r);var a=We($e.fromDom(n),$e.fromDom(t)),u=a?e.getParents(t,Dt,n):[];e.remove(t),O(u,(function(t){Ft(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},Fr=function(e,t,n){e.dom.$(n).empty(),Ur(e.dom,t,n),e.selection.setCursorLocation(n,0)},$r=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))Fr(e,n,r);else{var i=cr(t);Ur(o,n,r),e.selection.setRng(sr(i))}},zr=function(e,t,n,r){var o=cr(t);Ur(e.dom,n,r);var i=sr(o);e.selection.setRng(i)},Hr=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=ln(e,o),a=n.getParent(r.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===e.getBody()&&Ft(n,u))return!0;var c=en(r.getRng()),s=n.getParent(Mr(e,c,t,i),"LI",i);if(s&&s!==a)return e.undoManager.transact((function(){t?$r(e,c,s,a):It(a)?or(e):zr(e,c,a,s)})),!0;if(!s&&!t&&0===c.startOffset&&0===c.endOffset)return e.undoManager.transact((function(){ir(e)})),!0}return!1},Kr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Vr=function(e,t){var n=e.dom,r=e.selection.getStart(),o=ln(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=en(e.selection.getRng()),u=n.getParent(Mr(e,a,t,o),"LI",o);if(u)return e.undoManager.transact((function(){Kr(n,i,o),Pr(n,u.parentNode),e.selection.select(u,!0),e.selection.collapse(t)})),!0}return!1},Wr=function(e,t){return Hr(e,t)||Vr(e,t)},qr=function(e){var t=e.selection.getStart(),n=ln(e,t),r=e.dom.getParent(t,"LI,DT,DD",n);return!!(r||cn(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),Er(e.dom,e.getBody())})),!0)},Xr=function(e,t){return e.selection.isCollapsed()?Wr(e,t):qr(e)},Qr=function(e){e.on("keydown",(function(t){t.keyCode===Ge.BACKSPACE?Xr(e,!1)&&t.preventDefault():t.keyCode===Ge.DELETE&&Xr(e,!0)&&t.preventDefault()}))},Gr=function(e){return{backspaceDelete:function(t){Xr(e,t)}}},Jr=function(e,t){var n=nn(e);e.undoManager.transact((function(){i(t.styles)&&e.dom.setStyles(n,t.styles),i(t.attrs)&&Ye(t.attrs,(function(t,r){return e.dom.setAttrib(n,r,t)}))}))},Yr=function(e){var t=R(ee(e).split("")),n=S(t,(function(e,t){var n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return A(n,(function(e,t){return e+t}),0)},Zr=function(e){if(e--,e<0)return"";var t=e%26,n=Math.floor(e/26),r=Zr(n),o=String.fromCharCode("A".charCodeAt(0)+t);return r+o},eo=function(e){return/^[A-Z]+$/.test(e)},to=function(e){return/^[a-z]+$/.test(e)},no=function(e){return/^[0-9]+$/.test(e)},ro=function(e){return no(e)?2:eo(e)?0:to(e)?1:ne(e)?3:4},oo=function(e){switch(ro(e)){case 2:return x.some({listStyleType:x.none(),start:e});case 0:return x.some({listStyleType:x.some("upper-alpha"),start:Yr(e).toString()});case 1:return x.some({listStyleType:x.some("lower-alpha"),start:Yr(e).toString()});case 3:return x.some({listStyleType:x.none(),start:""});case 4:return x.none()}},io=function(e){var t=parseInt(e.start,10);return gn(e.listStyleType,"upper-alpha")?Zr(t):gn(e.listStyleType,"lower-alpha")?Zr(t).toLowerCase():e.start},ao=function(e){var t=nn(e);_t(t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:io({start:e.dom.getAttrib(t,"start","1"),listStyleType:x.some(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=t.getData();oo(n.start).each((function(t){e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},uo=function(e,t){return function(){var n=nn(e);return n&&n.nodeName===t}},co=function(e){e.addCommand("mceListProps",(function(){ao(e)}))},so=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?rr(e):"outdent"===n&&or(e)})),e.addCommand("InsertUnorderedList",(function(t,n){_r(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){_r(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){_r(e,"DL",n)})),e.addCommand("RemoveList",(function(){ir(e)})),co(e),e.addCommand("mceListUpdate",(function(t,n){i(n)&&Jr(e,n)})),e.addQueryStateHandler("InsertUnorderedList",uo(e,"UL")),e.addQueryStateHandler("InsertOrderedList",uo(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",uo(e,"DL"))},lo=function(e){e.on("keydown",(function(t){t.keyCode!==Ge.TAB||Ge.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?or(e):rr(e))&&t.preventDefault()}))}))},fo=function(e){zt(e)&&lo(e),Qr(e)},mo=function(e){var t=function(t){return function(){return e.execCommand(t)}};e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return dr(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return dr(e,"UL",t.setActive)}}))},po=function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return e.execCommand("mceListProps")},onSetup:function(t){return dr(e,"OL",(function(e){return t.setDisabled(!e)}))}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=nn(e,t);return _t(n)?["listprops"]:[]}})};function go(){e.add("lists",(function(e){return!1===e.hasPlugin("rtc",!0)?(fo(e),so(e)):co(e),mo(e),po(e),Gr(e)}))}go()})()},e2fd:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.VK"),n=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return function(t){return n(t)===e}},o=function(e){return function(t){return typeof t===e}},i=function(e){return function(t){return e===t}},a=r("string"),u=r("array"),c=i(null),s=o("boolean"),l=o("function"),f=function(){},d=function(e){return function(){return e}},m=function(e){return e},p=function(e,t){return e===t},g=d(!1),v=d(!0),h=function(){return y},y=function(){var e=function(e){return e()},t=m,n={fold:function(e,t){return e()},isSome:g,isNone:v,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:t,orThunk:e,map:h,each:f,bind:h,exists:g,forall:v,filter:function(){return h()},toArray:function(){return[]},toString:d("none()")};return n}(),b=function(e){var t=d(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:v,isNone:g,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},w=function(e){return null===e||void 0===e?y:b(e)},x={some:b,none:h,from:w},k=Array.prototype.indexOf,C=Array.prototype.push,S=function(e,t){return k.call(e,t)},O=function(e,t){return S(e,t)>-1},P=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},T=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},A=function(e,t,n){return T(e,(function(e,r){n=t(n,e,r)})),n},D=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);C.apply(t,e[n])}return t},N=function(e,t){return D(P(e,t))},_=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return x.none()},L=function(e,t,n){return void 0===n&&(n=p),e.exists((function(e){return n(e,t)}))},R=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},E=function(e,t){return e?x.some(t):x.none()},M=function(e){var t=e.getParam("link_assume_external_targets",!1);return s(t)&&t?1:!a(t)||"http"!==t&&"https"!==t?0:t},I=function(e){return e.getParam("link_context_toolbar",!1,"boolean")},j=function(e){return e.getParam("link_list")},B=function(e){return e.getParam("default_link_target")},U=function(e){return e.getParam("target_list",!0)},F=function(e){return e.getParam("rel_list",[],"array")},$=function(e){return e.getParam("link_class_list",[],"array")},z=function(e){return e.getParam("link_title",!0,"boolean")},H=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},K=function(e){return e.getParam("link_quicklink",!1,"boolean")},V=function(e){return e.getParam("link_default_protocol","http","string")},W=tinymce.util.Tools.resolve("tinymce.util.Tools"),q=function(e){return a(e.value)?e.value:""},X=function(e){return a(e.text)?e.text:a(e.title)?e.title:""},Q=function(e,t){var n=[];return W.each(e,(function(e){var r=X(e);if(void 0!==e.menu){var o=Q(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}})),n},G=function(e){return void 0===e&&(e=q),function(t){return x.from(t).map((function(t){return Q(t,e)}))}},J=function(e){return G(q)(e)},Y=function(e,t){return function(n){return{name:e,type:"listbox",label:t,items:n}}},Z={sanitize:J,sanitizeWith:G,createUi:Y,getValue:q},ee=function(){return ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ee.apply(this,arguments)},te=Object.keys,ne=Object.hasOwnProperty,re=function(e,t){for(var n=te(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},oe=function(e){return function(t,n){e[n]=t}},ie=function(e,t,n,r){var o={};return re(e,(function(e,o){(t(e,o)?n:r)(e,o)})),o},ae=function(e,t){var n={};return ie(e,t,oe(n),f),n},ue=function(e,t){return ne.call(e,t)},ce=function(e,t){return ue(e,t)&&void 0!==e[t]&&null!==e[t]},se=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),le=tinymce.util.Tools.resolve("tinymce.util.URI"),fe=function(e){return e&&"a"===e.nodeName.toLowerCase()},de=function(e){return fe(e)&&!!ge(e)},me=function(e,t){if(e.collapsed)return[];var n=e.cloneContents(),r=new se(n.firstChild,n),o=[],i=n.firstChild;do{t(i)&&o.push(i)}while(i=r.next());return o},pe=function(e){return/^\w+:/i.test(e)},ge=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},ve=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],o=function(e){return W.trim(e.sort().join(" "))},i=function(e){return e=a(e),e.length>0?e.concat(n):n},a=function(e){return e.filter((function(e){return-1===W.inArray(n,e)}))},u=t?i(r):a(r);return u.length>0?o(u):""},he=function(e){return e.replace(/\uFEFF/g,"")},ye=function(e,t){return t=t||e.selection.getNode(),Ce(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},be=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return he(n)},we=function(e){return W.grep(e,de).length>0},xe=function(e){return me(e,de).length>0},ke=function(e){var t=e.schema.getTextInlineElements(),n=function(e){return 1===e.nodeType&&!fe(e)&&!ue(t,e.nodeName.toLowerCase())},r=me(e.selection.getRng(),n);return 0===r.length},Ce=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},Se=function(e){var t=["title","rel","class","target"];return A(t,(function(t,n){return e[n].each((function(e){t[n]=e.length>0?e:null})),t}),{href:e.href})},Oe=function(e,t){return"http"!==t&&"https"!==t||pe(e)?e:t+"://"+e},Pe=function(e,t){var n=ee({},t);if(!(F(e).length>0)&&!1===H(e)){var r=ve(n.rel,"_blank"===n.target);n.rel=r||null}return x.from(n.target).isNone()&&!1===U(e)&&(n.target=B(e)),n.href=Oe(n.href,M(e)),n},Te=function(e,t,n,r){n.each((function(e){ue(t,"innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,r),e.selection.select(t)},Ae=function(e,t,n,r){Ce(t)?je(e,t,r):n.fold((function(){e.execCommand("mceInsertLink",!1,r)}),(function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))}))},De=function(e,t,n){var r=e.selection.getNode(),o=ye(e,r),i=Pe(e,Se(n));e.undoManager.transact((function(){n.href===t.href&&t.attach(),o?(e.focus(),Te(e,o,n.text,i)):Ae(e,r,n.text,i)}))},Ne=function(e){var t=e.dom,n=e.selection,r=n.getBookmark(),o=n.getRng().cloneRange(),i=t.getParent(o.startContainer,"a[href]",e.getBody()),a=t.getParent(o.endContainer,"a[href]",e.getBody());i&&o.setStartBefore(i),a&&o.setEndAfter(a),n.setRng(o),e.execCommand("unlink"),n.moveToBookmark(r)},_e=function(e){e.undoManager.transact((function(){var t=e.selection.getNode();Ce(t)?Ie(e,t):Ne(e),e.focus()}))},Le=function(e){var t=e.class,n=e.href,r=e.rel,o=e.target,i=e.text,a=e.title;return ae({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},(function(e,t){return!1===c(e)}))},Re=function(e,t){var n=t.href;return ee(ee({},t),{href:le.isDomSafe(n,"a",e.settings)?n:""})},Ee=function(e,t,n){var r=Re(e,n);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,Le(r)):De(e,t,r)},Me=function(e){e.hasPlugin("rtc",!0)?e.execCommand("unlink"):_e(e)},Ie=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];r&&(r.parentNode.insertBefore(n,r),e.dom.remove(r))}},je=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var o=e.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},Be=function(e){return ce(e,"items")},Ue=function(e,t){return _(t,(function(t){return Be(t)?Ue(e,t.items):E(t.value===e,t)}))},Fe=function(e,t,n,r){var o=r[t],i=e.length>0;return void 0!==o?Ue(o,n).map((function(t){return{url:{value:t.value,meta:{text:i?e:t.text,attach:f}},text:i?e:t.text}})):x.none()},$e=function(e,t){return"link"===t?e.link:"anchor"===t?e.anchor:x.none()},ze=function(e,t){var n={text:e.text,title:e.title},r=function(e){return E(n.title.length<=0,x.from(e.meta.title).getOr(""))},o=function(e){return E(n.text.length<=0,x.from(e.meta.text).getOr(e.value))},i=function(e){var t=o(e.url),n=r(e.url);return t.isSome()||n.isSome()?x.some(ee(ee({},t.map((function(e){return{text:e}})).getOr({})),n.map((function(e){return{title:e}})).getOr({}))):x.none()},a=function(e,r){var o=$e(t,r.name).getOr([]);return Fe(n.text,r.name,o,e)},u=function(e,t){var r=t.name;return"url"===r?i(e()):O(["anchor","link"],r)?a(e(),t):"text"===r||"title"===r?(n[r]=e()[r],x.none()):x.none()};return{onChange:u}},He={init:ze,getDelta:Fe},Ke=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ve=tinymce.util.Tools.resolve("tinymce.util.Promise"),We=function(e,t,n){var r=e.selection.getRng();Ke.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r),n(t)}))}))},qe=function(e){var t=e.href,n=t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:");return n?x.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return ee(ee({},e),{href:"mailto:"+t})}}):x.none()},Xe=function(e,t){return function(n){var r=n.href,o=1===e&&!pe(r)||0===e&&/^\s*www(\.|\d\.)/i.test(r);return o?x.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+t+":// prefix?",preprocess:function(e){return ee(ee({},e),{href:t+"://"+r})}}):x.none()}},Qe=function(e,t){return _([qe,Xe(M(e),V(e))],(function(e){return e(t)})).fold((function(){return Ve.resolve(t)}),(function(n){return new Ve((function(r){We(e,n.message,(function(e){r(e?n.preprocess(t):t)}))}))}))},Ge={preprocess:Qe},Je=function(e){var t=e.dom.select("a:not([href])"),n=N(t,(function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?x.some([{text:"None",value:""}].concat(n)):x.none()},Ye={getAnchors:Je},Ze=function(e){var t=$(e);return t.length>0?Z.sanitize(t):x.none()},et={getClasses:Ze},tt=tinymce.util.Tools.resolve("tinymce.util.XHR"),nt=function(e){try{return x.some(JSON.parse(e))}catch(t){return x.none()}},rt=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=j(e);return new Ve((function(e){a(n)?tt.send({url:n,success:function(t){return e(nt(t))},error:function(t){return e(x.none())}}):l(n)?n((function(t){return e(x.some(t))})):e(x.from(n))})).then((function(e){return e.bind(Z.sanitizeWith(t)).map((function(e){if(e.length>0){var t=[{text:"None",value:""}];return t.concat(e)}return e}))}))},ot={getLinks:rt},it=function(e,t){var n=F(e);if(n.length>0){var r=L(t,"_blank"),o=!1===H(e),i=function(e){return ve(Z.getValue(e),r)},a=o?Z.sanitizeWith(i):Z.sanitize;return a(n)}return x.none()},at={getRels:it},ut=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ct=function(e){var t=U(e);return u(t)?Z.sanitize(t).orThunk((function(){return x.some(ut)})):!1===t?x.none():x.some(ut)},st={getTargets:ct},lt=function(e,t,n){var r=e.getAttrib(t,n);return null!==r&&r.length>0?x.some(r):x.none()},ft=function(e,t){var n=e.dom,r=ke(e),o=r?x.some(be(e.selection,t)):x.none(),i=t?x.some(n.getAttrib(t,"href")):x.none(),a=t?x.from(n.getAttrib(t,"target")):x.none(),u=lt(n,t,"rel"),c=lt(n,t,"class"),s=lt(n,t,"title");return{url:i,text:o,title:s,target:a,rel:u,linkClass:c}},dt=function(e,t){return ot.getLinks(e).then((function(n){var r=ft(e,t);return{anchor:r,catalogs:{targets:st.getTargets(e),rels:at.getRels(e,r.target),classes:et.getClasses(e),anchor:Ye.getAnchors(e),link:n},optNode:x.from(t),flags:{titleEnabled:z(e)}}}))},mt={collect:dt},pt=function(e,t){return function(n){var r=n.getData();if(!r.url.value)return Me(e),void n.close();var o=function(e){return x.from(r[e]).filter((function(n){return!L(t.anchor[e],n)}))},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:f};Ge.preprocess(e,i).then((function(t){Ee(e,a,t)})),n.close()}},gt=function(e){var t=ye(e);return mt.collect(e,t)},vt=function(e,t){var n=e.anchor,r=n.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}},ht=function(e,t,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o=e.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),i=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=x.from(B(n)),u=vt(e,a),c=e.catalogs,s=He.init(u,c),l={type:"panel",items:D([r,o,i,R([c.anchor.map(Z.createUi("anchor","Anchors")),c.rels.map(Z.createUi("rel","Rel")),c.targets.map(Z.createUi("target","Open link in...")),c.link.map(Z.createUi("link","Link list")),c.classes.map(Z.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onChange:function(e,t){var n=t.name;s.onChange(e.getData,{name:n}).each((function(t){e.setData(t)}))},onSubmit:t}},yt=function(e){var t=gt(e);t.then((function(t){var n=pt(e,t);return ht(t,n,e)})).then((function(t){e.windowManager.open(t)}))},bt=function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},wt=function(e){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),bt(t,n)},xt=function(e,t){return e.dom.getParent(t,"a[href]")},kt=function(e){return xt(e,e.selection.getStart())},Ct=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey},St=function(e,t){if(t){var n=ge(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else wt(t.href)}},Ot=function(e){return function(){yt(e)}},Pt=function(e){return function(){St(e,kt(e))}},Tt=function(e){e.on("click",(function(n){var r=xt(e,n.target);r&&t.metaKeyPressed(n)&&(n.preventDefault(),St(e,r))})),e.on("keydown",(function(t){var n=kt(e);n&&13===t.keyCode&&Ct(t)&&(t.preventDefault(),St(e,n))}))},At=function(e,t){return e.on("NodeChange",t),function(){return e.off("NodeChange",t)}},Dt=function(e){return function(t){var n=function(){return t.setActive(!e.mode.isReadOnly()&&null!==ye(e,e.selection.getNode()))};return n(),At(e,n)}},Nt=function(e){return function(t){var n=function(){return t.setDisabled(null===ye(e,e.selection.getNode()))};return n(),At(e,n)}},_t=function(e){return function(t){var n=function(t){return we(t)||xe(e.selection.getRng())},r=e.dom.getParents(e.selection.getStart());return t.setDisabled(!n(r)),At(e,(function(e){return t.setDisabled(!n(e.parents))}))}},Lt=function(e){e.addCommand("mceLink",(function(){K(e)?e.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ot(e)()}))},Rt=function(e){e.addShortcut("Meta+K","",(function(){e.execCommand("mceLink")}))},Et=function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ot(e),onSetup:Dt(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Pt(e),onSetup:Nt(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Me(e)},onSetup:_t(e)})},Mt=function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Pt(e),onSetup:Nt(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ot(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Me(e)},onSetup:_t(e)})},It=function(e){var t="link unlink openlink",n="link";e.ui.registry.addContextMenu("link",{update:function(r){return we(e.dom.getParents(r,"a"))?t:n}})},jt=function(e){var t=function(e){e.selection.collapse(!1)},n=function(t){var n=e.selection.getNode();return t.setDisabled(!ye(e,n)),f},r=function(t){var n=ye(e),r=ke(e);if(!n&&r){var o=be(e.selection,n);return x.some(o.length>0?o:t)}return x.none()};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Dt(e)},label:"Link",predicate:function(t){return!!ye(e,t)&&I(e)},initValue:function(){var t=ye(e);return t?ge(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!ye(e,n)),Dt(e)(t)},onAction:function(n){var o=n.getValue(),i=r(o),a={href:o,attach:f};Ee(e,a,{href:o,text:i,title:x.none(),rel:x.none(),target:x.none(),class:x.none()}),t(e),n.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(t){Me(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(t){Pt(e)(),t.hide()}}]})};function Bt(){e.add("link",(function(e){Et(e),Mt(e),It(e),jt(e),Tt(e),Lt(e),Rt(e)}))}Bt()})()},ec65:function(e,t,n){n("ddba")}}]);