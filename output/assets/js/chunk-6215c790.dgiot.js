/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  time: Tue Nov 16 2021 10:43:26 GMT+0000 (Coordinated Universal Time)
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6215c790"],{"0634":function(e,t,o){},"0f5f":function(e,t,o){"use strict";o("0634");var i=o("05b0"),n=o("ae74"),s=o("71e2"),r=o("9550"),a=o("abda"),c=o("537c"),d=o("a24f"),l=o("a55e"),h=o("1e57"),u=o("9afb"),g=o("35bf"),p=o("09ad"),m=o("662c"),f=o("709e");const _=Object(p["wc"])("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},i["a"]("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class b extends r["b"]{constructor(){super({id:"editor.action.jumpToBracket",label:i["a"]("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:l["a"].editorTextFocus,primary:3160,weight:100}})}run(e,t){let o=y.get(t);o&&o.jumpToBracket()}}class C extends r["b"]{constructor(){super({id:"editor.action.selectToBracket",label:i["a"]("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,o){const i=y.get(t);if(!i)return;let n=!0;o&&!1===o.selectBrackets&&(n=!1),i.selectToBracket(n)}}class v{constructor(e,t,o){this.position=e,this.brackets=t,this.options=o}}class y extends s["a"]{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new n["e"](()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(e){return e.getContribution(y.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(t=>{const o=t.getStartPosition(),i=e.matchBracket(o);let n=null;if(i)i[0].containsPosition(o)?n=i[1].getStartPosition():i[1].containsPosition(o)&&(n=i[0].getStartPosition());else{const t=e.findEnclosingBrackets(o);if(t)n=t[0].getStartPosition();else{const t=e.findNextBracket(o);t&&t.range&&(n=t.range.getStartPosition())}}return n?new d["a"](n.lineNumber,n.column,n.lineNumber,n.column):new d["a"](o.lineNumber,o.column,o.lineNumber,o.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),o=[];this._editor.getSelections().forEach(i=>{const n=i.getStartPosition();let s=t.matchBracket(n);if(!s&&(s=t.findEnclosingBrackets(n),!s)){const e=t.findNextBracket(n);e&&e.range&&(s=t.matchBracket(e.range.getStartPosition()))}let r=null,a=null;if(s){s.sort(c["a"].compareRangesUsingStarts);const[t,o]=s;if(r=e?t.getStartPosition():t.getEndPosition(),a=e?o.getEndPosition():o.getStartPosition(),o.containsPosition(n)){const e=r;r=a,a=e}}r&&a&&o.push(new d["a"](r.lineNumber,r.column,a.lineNumber,a.column))}),o.length>0&&(this._editor.setSelections(o),this._editor.revealRange(o[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(const o of this._lastBracketsData){let i=o.brackets;i&&(e[t++]={range:i[0],options:o.options},e[t++]={range:i[1],options:o.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),o=t.getVersionId();let i=[];this._lastVersionId===o&&(i=this._lastBracketsData);let n=[],s=0;for(let a=0,h=e.length;a<h;a++){let t=e[a];t.isEmpty()&&(n[s++]=t.getStartPosition())}n.length>1&&n.sort(a["a"].compare);let r=[],c=0,d=0,l=i.length;for(let a=0,h=n.length;a<h;a++){let e=n[a];while(d<l&&i[d].position.isBefore(e))d++;if(d<l&&i[d].position.equals(e))r[c++]=i[d];else{let o=t.matchBracket(e),i=y._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;o||"always"!==this._matchBrackets||(o=t.findEnclosingBrackets(e,20),i=y._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),r[c++]=new v(e,o,i)}}this._lastBracketsData=r,this._lastVersionId=o}}y.ID="editor.contrib.bracketMatchingController",y._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=u["a"].register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Object(m["g"])(_),position:h["d"].Center}}),y._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=u["a"].register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),Object(r["l"])(y.ID,y),Object(r["j"])(C),Object(r["j"])(b),Object(m["f"])((e,t)=>{const o=e.getColor(g["j"]);o&&t.addRule(`.monaco-editor .bracket-match { background-color: ${o}; }`);const i=e.getColor(g["k"]);i&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${i}; }`)}),f["d"].appendMenuItem(f["b"].MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:i["a"]({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},"25bb":function(e,t,o){"use strict";var i=o("ae74"),n=o("c59a"),s=o("71e2"),r=o("c794"),a=o("9550"),c=o("2b64"),d=o("65cd"),l=o("aac4"),h=o("7cfc"),u=o("646b"),g=o("a0e2"),p=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i["throw"](e))}catch(t){s(t)}}function c(e){e.done?o(e.value):n(e.value).then(r,a)}c((i=i.apply(e,t||[])).next())}))};class m{constructor(){this.lenses=[],this._disposables=new s["b"]}dispose(){this._disposables.dispose()}add(e,t){this._disposables.add(e);for(const o of e.lenses)this.lenses.push({symbol:o,provider:t})}}function f(e,t){return p(this,void 0,void 0,(function*(){const o=c["b"].ordered(e),i=new Map,s=new m,r=o.map((o,r)=>p(this,void 0,void 0,(function*(){i.set(o,r);try{const i=yield Promise.resolve(o.provideCodeLenses(e,t));i&&s.add(i,o)}catch(a){Object(n["g"])(a)}})));return yield Promise.all(r),s.lenses=s.lenses.sort((e,t)=>e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:i.get(e.provider)<i.get(t.provider)?-1:i.get(e.provider)>i.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0),s}))}u["a"].registerCommand("_executeCodeLensProvider",(function(e,...t){let[o,i]=t;Object(g["c"])(l["a"].isUri(o)),Object(g["c"])("number"===typeof i||!i);const r=e.get(h["a"]).getModel(o);if(!r)throw Object(n["c"])();const a=[],c=new s["b"];return f(r,d["a"].None).then(e=>{c.add(e);let t=[];for(const o of e.lenses)void 0===i||null===i||Boolean(o.symbol.command)?a.push(o.symbol):i-- >0&&o.provider.resolveCodeLens&&t.push(Promise.resolve(o.provider.resolveCodeLens(r,o.symbol,d["a"].None)).then(e=>a.push(e||o.symbol)));return Promise.all(t)}).then(()=>a).finally(()=>{setTimeout(()=>c.dispose(),100)})}));o("c50b");var _=o("9ffb"),b=o("537c"),C=o("9afb"),v=o("35bf"),y=o("09ad"),w=o("662c"),S=o("bd1b");class k{constructor(e,t,o){this.afterLineNumber=e,this.heightInPx=t,this._onHeight=o,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}}class L{constructor(e,t,o){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+L._idPool++,this.updatePosition(o),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration "+t}withCommands(e,t){this._commands.clear();let o=[],i=!1;for(let n=0;n<e.length;n++){const t=e[n];if(t&&(i=!0,t.command)){const i=Object(S["a"])(t.command.title.trim());t.command.id?(o.push(_["a"]("a",{id:String(n),title:t.command.tooltip},...i)),this._commands.set(String(n),t.command)):o.push(_["a"]("span",{title:t.command.tooltip},...i)),n+1<e.length&&o.push(_["a"]("span",void 0," | "))}}i?(_["R"](this._domNode,...o),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):_["R"](this._domNode,_["a"]("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}L._idPool=0;class x{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let o=0,i=t.length;o<i;o++)this._addDecorationsCallbacks[o](t[o])}}class A{constructor(e,t,o,i,n,s,r){let a;this._isDisposed=!1,this._editor=t,this._className=o,this._data=e,this._decorationIds=[];let c=[];this._data.forEach((e,t)=>{e.symbol.command&&c.push(e.symbol),i.addDecoration({range:e.symbol.range,options:C["a"].EMPTY},e=>this._decorationIds[t]=e),a=a?b["a"].plusRange(a,e.symbol.range):b["a"].lift(e.symbol.range)}),this._viewZone=new k(a.startLineNumber-1,s,r),this._viewZoneId=n.addZone(this._viewZone),c.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new L(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const o=this._editor.getModel().getDecorationRange(e),i=this._data[t].symbol;return!(!o||b["a"].isEmpty(i.range)!==o.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((e,o)=>{t.addDecoration({range:e.symbol.range,options:C["a"].EMPTY},e=>this._decorationIds[o]=e)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let t=0;t<this._decorationIds.length;t++){const o=e.getDecorationRange(this._decorationIds[t]);o&&(this._data[t].symbol.range=o)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const o=e[t];if(o){const{symbol:e}=this._data[t];e.command=o.command||e.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}Object(w["f"])((e,t)=>{const o=e.getColor(v["l"]);o&&(t.addRule(`.monaco-editor .codelens-decoration { color: ${o}; }`),t.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${o}; }`));const i=e.getColor(y["q"]);i&&(t.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${i} !important; }`),t.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${i} !important; }`))});var O=o("6fea"),D=o("2279"),N=o("af33"),P=o("e444"),M=o("3074"),I=o("5bc3"),E=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r},T=function(e,t){return function(o,i){t(o,i,e)}};const j=Object(D["c"])("ICodeLensCache");class R{constructor(e,t){this.lineCount=e,this.data=t}}let F=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new P["a"](20,.75);const t="codelens/cache";Object(i["m"])(()=>e.remove(t,1));const o="codelens/cache2",n=e.get(o,1,"{}");this._deserialize(n),Object(I["a"])(e.onWillSaveState)(t=>{t.reason===M["c"].SHUTDOWN&&e.store(o,this._serialize(),1,1)})}put(e,t){const o=t.lenses.map(e=>{var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}}),i=new m;i.add({lenses:o,dispose:()=>{}},this._fakeProvider);const n=new R(e.getLineCount(),i);this._cache.set(e.uri.toString(),n)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,o]of this._cache){const i=new Set;for(const e of o.data.lenses)i.add(e.symbol.range.startLineNumber);e[t]={lineCount:o.lineCount,lines:[...i.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const e in t){const o=t[e],i=[];for(const e of o.lines)i.push({range:new b["a"](e,1,e,11)});const n=new m;n.add({lenses:i,dispose(){}},this._fakeProvider),this._cache.set(e,new R(o.lineCount,n))}}catch(t){}}};F=E([T(0,M["a"])],F),Object(N["b"])(j,F);var B=o("7101"),W=o("0d60"),V=o("05b0"),U=o("a55e"),H=o("d1b6"),K=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r},$=function(e,t){return function(o,i){t(o,i,e)}},q=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i["throw"](e))}catch(t){s(t)}}function c(e){e.done?o(e.value):n(e.value).then(r,a)}c((i=i.apply(e,t||[])).next())}))};let z=class{constructor(e,t,o,n){this._editor=e,this._commandService=t,this._notificationService=o,this._codeLensCache=n,this._disposables=new s["b"],this._localToDispose=new s["b"],this._lenses=[],this._getCodeLensModelDelays=new H["b"](c["b"],250,2500),this._oldCodeLensModels=new s["b"],this._resolveCodeLensesDelays=new H["b"](c["b"],250,2500),this._resolveCodeLensesScheduler=new i["e"](()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(42)||e.hasChanged(15)||e.hasChanged(14))&&this._updateLensStyle(),e.hasChanged(13)&&this._onModelChange()})),this._disposables.add(c["b"].onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+Object(B["c"])(this._editor.getId()).toString(16),this._styleElement=_["w"](_["O"](this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e,t=this._editor.getOption(15);return!t||t<5?(t=.9*this._editor.getOption(44)|0,e=this._editor.getOption(58)):e=t*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(44))|0,{codeLensHeight:e,fontSize:t}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),o=this._editor.getOption(14),i=this._editor.getOption(42),n="--codelens-font-family"+this._styleClassName,s="--codelens-font-features"+this._styleClassName;let r=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(.5*t)}px; font-feature-settings: var(${s}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }\n\t\t`;o&&(r+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${n})}`),this._styleElement.textContent=r,this._editor.getContainerDomNode().style.setProperty(n,null!==o&&void 0!==o?o:"inherit"),this._editor.getContainerDomNode().style.setProperty(s,i.fontFeatureSettings),this._editor.changeViewZones(t=>{for(let o of this._lenses)o.updateHeight(e,t)})}_localDispose(){var e,t,o;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(o=this._currentCodeLensModel)||void 0===o||o.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._editor.getOption(13))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!c["b"].has(e))return void(t&&this._localToDispose.add(Object(i["i"])(()=>{const o=this._codeLensCache.get(e);t===o&&(this._codeLensCache.delete(e),this._onModelChange())},3e4)));for(const i of c["b"].all(e))if("function"===typeof i.onDidChange){let e=i.onDidChange(()=>o.schedule());this._localToDispose.add(e)}const o=new i["e"](()=>{var t;const s=Date.now();null===(t=this._getCodeLensModelPromise)||void 0===t||t.cancel(),this._getCodeLensModelPromise=Object(i["h"])(t=>f(e,t)),this._getCodeLensModelPromise.then(t=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=t,this._codeLensCache.put(e,t);const i=this._getCodeLensModelDelays.update(e,Date.now()-s);o.delay=i,this._renderCodeLensSymbols(t),this._resolveCodeLensesInViewportSoon()},n["f"])},this._getCodeLensModelDelays.get(e));this._localToDispose.add(o),this._localToDispose.add(Object(s["i"])(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{let o=[],i=-1;this._lenses.forEach(e=>{e.isValid()&&i!==e.getLineNumber()?(e.update(t),i=e.getLineNumber()):o.push(e)});let n=new x;o.forEach(e=>{e.dispose(n,t),this._lenses.splice(this._lenses.indexOf(e),1)}),n.commit(e)})}),o.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{o.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(e=>{e.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Object(s["i"])(()=>{if(this._editor.getModel()){const e=r["c"].capture(this._editor);this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{this._disposeAllLenses(e,t)})}),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(e=>{if(9!==e.target.type)return;let t=e.target.element;if("SPAN"===(null===t||void 0===t?void 0:t.tagName)&&(t=t.parentElement),"A"===(null===t||void 0===t?void 0:t.tagName))for(const o of this._lenses){let e=o.getCommand(t);if(e){this._commandService.executeCommand(e.id,...e.arguments||[]).catch(e=>this._notificationService.error(e));break}}})),o.schedule()}_disposeAllLenses(e,t){const o=new x;for(const i of this._lenses)i.dispose(o,t);e&&o.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t,o=this._editor.getModel().getLineCount(),i=[];for(let r of e.lenses){let e=r.symbol.range.startLineNumber;e<1||e>o||(t&&t[t.length-1].symbol.range.startLineNumber===e?t.push(r):(t=[r],i.push(t)))}const n=r["c"].capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{const o=new x;let n=0,r=0;while(r<i.length&&n<this._lenses.length){let e=i[r][0].symbol.range.startLineNumber,a=this._lenses[n].getLineNumber();a<e?(this._lenses[n].dispose(o,t),this._lenses.splice(n,1)):a===e?(this._lenses[n].updateCodeLensSymbols(i[r],o),r++,n++):(this._lenses.splice(n,0,new A(i[r],this._editor,this._styleClassName,o,t,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),n++,r++)}while(n<this._lenses.length)this._lenses[n].dispose(o,t),this._lenses.splice(n,1);while(r<i.length)this._lenses.push(new A(i[r],this._editor,this._styleClassName,o,t,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),r++;o.commit(e)})}),n.restore(this._editor)}_resolveCodeLensesInViewportSoon(){const e=this._editor.getModel();e&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const o=[],s=[];if(this._lenses.forEach(e=>{const i=e.computeIfNecessary(t);i&&(o.push(i),s.push(e))}),0===o.length)return;const r=Date.now(),a=Object(i["h"])(e=>{const i=o.map((o,i)=>{const r=new Array(o.length),a=o.map((o,i)=>o.symbol.command||"function"!==typeof o.provider.resolveCodeLens?(r[i]=o.symbol,Promise.resolve(void 0)):Promise.resolve(o.provider.resolveCodeLens(t,o.symbol,e)).then(e=>{r[i]=e},n["g"]));return Promise.all(a).then(()=>{e.isCancellationRequested||s[i].isDisposed()||s[i].updateCommands(r)})});return Promise.all(i)});this._resolveCodeLensesPromise=a,this._resolveCodeLensesPromise.then(()=>{const e=this._resolveCodeLensesDelays.update(t,Date.now()-r);this._resolveCodeLensesScheduler.delay=e,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},e=>{Object(n["f"])(e),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};z.ID="css.editor.codeLens",z=K([$(1,u["b"]),$(2,O["a"]),$(3,j)],z),Object(a["l"])(z.ID,z),Object(a["j"])(class extends a["b"]{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:U["a"].hasCodeLensProvider,label:Object(V["a"])("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return q(this,void 0,void 0,(function*(){if(!t.hasModel())return;const o=e.get(W["a"]),i=e.get(u["b"]),n=e.get(O["a"]),s=t.getSelection().positionLineNumber,r=t.getContribution(z.ID),a=[];for(let e of r.getLenses())if(e.getLineNumber()===s)for(let t of e.getItems()){const{command:e}=t.symbol;e&&a.push({label:e.title,command:e})}if(0===a.length)return;const c=yield o.pick(a,{canPickMany:!1});if(c)try{yield i.executeCommand(c.command.id,...c.command.arguments||[])}catch(d){n.error(d)}}))}})},"36ce":function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"d",(function(){return n})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return a}));class i{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+i.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new i(this.value+i.sep+e)}}function n(e,t){return!(e.include&&!e.include.intersects(t))&&((!e.excludes||!e.excludes.some(o=>r(t,o,e.include)))&&!(!e.includeSourceActions&&i.Source.contains(t)))}function s(e,t){const o=t.kind?new i(t.kind):void 0;return!!(!e.include||o&&e.include.contains(o))&&(!(e.excludes&&o&&e.excludes.some(t=>r(o,t,e.include)))&&(!(!e.includeSourceActions&&o&&i.Source.contains(o))&&!(e.onlyIncludePreferredActions&&!t.isPreferred)))}function r(e,t,o){return!!t.contains(e)&&(!o||!t.contains(o))}i.sep=".",i.None=new i("@@none@@"),i.Empty=new i(""),i.QuickFix=new i("quickfix"),i.Refactor=new i("refactor"),i.Source=new i("source"),i.SourceOrganizeImports=i.Source.append("organizeImports"),i.SourceFixAll=i.Source.append("fixAll");class a{constructor(e,t,o){this.kind=e,this.apply=t,this.preferred=o}static fromUser(e,t){return e&&"object"===typeof e?new a(a.getKindFromUser(e,t.kind),a.getApplyFromUser(e,t.apply),a.getPreferredUser(e)):new a(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"===typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"===typeof e.kind?new i(e.kind):t}static getPreferredUser(e){return"boolean"===typeof e.preferred&&e.preferred}}},4230:function(e,t,o){"use strict";o("9d04");var i=o("9550"),n=o("05b0"),s=o("a55e"),r=o("a24f"),a=o("11b8"),c=o("321b"),d=o("f319"),l=o("9efa"),h=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r},u=function(e,t){return function(o,i){t(o,i,e)}},g=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i["throw"](e))}catch(t){s(t)}}function c(e){e.done?o(e.value):n(e.value).then(r,a)}c((i=i.apply(e,t||[])).next())}))};const p=new c["c"]("selectionAnchorSet",!1);let m=class e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=p.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(t){return t.getContribution(e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],o=this.editor.deltaDecorations(t,[{range:r["a"].fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new d["a"]).appendText(Object(n["a"])("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=o[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Object(l["a"])(Object(n["a"])("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(r["a"].fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};m.ID="editor.contrib.selectionAnchorController",m=h([u(1,c["b"])],m);class f extends i["b"]{constructor(){super({id:"editor.action.setSelectionAnchor",label:Object(n["a"])("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:s["a"].editorTextFocus,primary:Object(a["a"])(2089,2080),weight:100}})}run(e,t){return g(this,void 0,void 0,(function*(){const e=m.get(t);e.setSelectionAnchor()}))}}class _ extends i["b"]{constructor(){super({id:"editor.action.goToSelectionAnchor",label:Object(n["a"])("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:p})}run(e,t){return g(this,void 0,void 0,(function*(){const e=m.get(t);e.goToSelectionAnchor()}))}}class b extends i["b"]{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:Object(n["a"])("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:p,kbOpts:{kbExpr:s["a"].editorTextFocus,primary:Object(a["a"])(2089,2089),weight:100}})}run(e,t){return g(this,void 0,void 0,(function*(){const e=m.get(t);e.selectFromAnchorToCursor()}))}}class C extends i["b"]{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:Object(n["a"])("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:p,kbOpts:{kbExpr:s["a"].editorTextFocus,primary:9,weight:100}})}run(e,t){return g(this,void 0,void 0,(function*(){const e=m.get(t);e.cancelSelectionAnchor()}))}}Object(i["l"])(m.ID,m),Object(i["j"])(f),Object(i["j"])(_),Object(i["j"])(b),Object(i["j"])(C)},"44da":function(e,t,o){"use strict";o("5cfc");var i=o("71e2"),n=o("9550"),s=o("cf2d"),r=o("537c");class a extends i["a"]{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(e=>this.onMouseDown(e)))}dispose(){super.dispose()}onMouseDown(e){var t;const o=e.target.type;if(6!==o)return;const i=[...(null===(t=e.target.element)||void 0===t?void 0:t.classList.values())||[]].find(e=>e.startsWith("ced-colorBox"));if(!i)return;if(!e.target.range)return;const n=this._editor.getContribution(s["a"].ID);if(!n.isColorPickerVisible()){const t=new r["a"](e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1);n.showContentHover(t,0,!1)}}}a.ID="editor.contrib.colorContribution",Object(n["l"])(a.ID,a)},"4ab1":function(e,t,o){"use strict";var i=o("05b0"),n=o("9550"),s=o("a55e"),r=o("537c"),a=o("a24f");class c{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const o=this._selection.startLineNumber,i=this._selection.startColumn,n=this._selection.endColumn;if((!this._isMovingLeft||1!==i)&&(this._isMovingLeft||n!==e.getLineMaxColumn(o)))if(this._isMovingLeft){const s=new r["a"](o,i-1,o,i),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new r["a"](o,n,o,n),a)}else{const s=new r["a"](o,n,o,n+1),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new r["a"](o,i,o,i),a)}}computeCursorState(e,t){return this._isMovingLeft?new a["a"](this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new a["a"](this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class d extends n["b"]{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;let o=[],i=t.getSelections();for(const n of i)o.push(new c(n,this.left));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class l extends d{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:i["a"]("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:s["a"].writable})}}class h extends d{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:i["a"]("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:s["a"].writable})}}Object(n["j"])(l),Object(n["j"])(h)},"5cfc":function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var i=o("ae74"),n=o("85cf"),s=o("c59a"),r=o("7101"),a=o("71e2"),c=o("9550"),d=o("38cf"),l=o("537c"),h=o("9afb"),u=o("2b64"),g=o("a4db"),p=o("d9c9"),m=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r},f=function(e,t){return function(o,i){t(o,i,e)}};const _=500;let b=class e extends a["a"]{constructor(e,t,o){super(),this._editor=e,this._codeEditorService=t,this._configurationService=o,this._localToDispose=this._register(new a["b"]),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(u["c"].onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let e=this._isEnabled;this._isEnabled=this.isEnabled(),e!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageIdentifier(),o=this._configurationService.getValue(t.language);if(o&&"object"===typeof o){const e=o["colorDecorators"];if(e&&void 0!==e["enable"]&&!e["enable"])return e["enable"]}return this._editor.getOption(16)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const t=this._editor.getModel();t&&u["c"].has(t)&&(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new i["g"],this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},e.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=Object(i["h"])(e=>{const t=this._editor.getModel();return t?Object(g["b"])(t,e):Promise.resolve([])}),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},s["f"])}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(e=>({range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:h["a"].EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((t,o)=>this._colorDatas.set(t,e[o]))}updateColorDecorators(e){let t=[],o={};for(let i=0;i<e.length&&t.length<_;i++){const{red:s,green:a,blue:c,alpha:d}=e[i].colorInfo.color,l=new n["c"](Math.round(255*s),Math.round(255*a),Math.round(255*c),d);let h=Object(r["c"])(`rgba(${l.r},${l.g},${l.b},${l.a})`).toString(16),u=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,g="colorBox-"+h;this._decorationsTypes.has(g)||o[g]||this._codeEditorService.registerDecorationType("color-detector-color",g,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:u},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),o[g]=!0,t.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(g,!0)})}this._decorationsTypes.forEach(e=>{o[e]||this._codeEditorService.removeDecorationType(e)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,t)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(e=>{this._codeEditorService.removeDecorationType(e)})}getColorData(e){const t=this._editor.getModel();if(!t)return null;const o=t.getDecorationsInRange(l["a"].fromPositions(e,e)).filter(e=>this._colorDatas.has(e.id));return 0===o.length?null:this._colorDatas.get(o[0].id)}};b.ID="editor.contrib.colorDetector",b.RECOMPUTE_TIME=1e3,b=m([f(1,d["a"]),f(2,p["a"])],b),Object(c["l"])(b.ID,b)},"5d81":function(e,t,o){"use strict";var i=o("9550"),n=o("ff3b");Object(i["l"])(n["f"].ID,n["f"]),Object(i["j"])(n["e"]),Object(i["j"])(n["g"]),Object(i["j"])(n["h"]),Object(i["j"])(n["d"]),Object(i["j"])(n["a"]),Object(i["j"])(n["c"]),Object(i["k"])(new n["b"])},"6acd":function(e,t,o){"use strict";o.d(t,"b",(function(){return _})),o.d(t,"f",(function(){return b})),o.d(t,"g",(function(){return C})),o.d(t,"e",(function(){return v})),o.d(t,"c",(function(){return y})),o.d(t,"a",(function(){return w})),o.d(t,"d",(function(){return L}));var i=o("1c57"),n=o("65cd"),s=o("c59a"),r=o("71e2"),a=o("aac4"),c=o("c794"),d=o("537c"),l=o("a24f"),h=o("2b64"),u=o("7cfc"),g=o("36ce"),p=o("6115"),m=o("646b"),f=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i["throw"](e))}catch(t){s(t)}}function c(e){e.done?o(e.value):n(e.value).then(r,a)}c((i=i.apply(e,t||[])).next())}))};const _="editor.action.codeAction",b="editor.action.refactor",C="editor.action.sourceAction",v="editor.action.organizeImports",y="editor.action.fixAll";class w{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return f(this,void 0,void 0,(function*(){if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let t;try{t=yield this.provider.resolveCodeAction(this.action,e)}catch(o){Object(s["g"])(o)}t&&(this.action.edit=t.edit)}return this}))}}class S extends r["a"]{constructor(e,t,o){super(),this.documentation=t,this._register(o),this.allActions=[...e].sort(S.codeActionsComparator),this.validActions=this.allActions.filter(({action:e})=>!e.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:Object(i["n"])(e.diagnostics)?Object(i["n"])(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:Object(i["n"])(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&g["b"].QuickFix.contains(new g["b"](e.kind))&&!!e.isPreferred)}}const k={actions:[],documentation:void 0};function L(e,t,o,n,a){var d;const l=o.filter||{},u={only:null===(d=l.include)||void 0===d?void 0:d.value,trigger:o.type},p=new c["d"](e,a),m=x(e,l),_=new r["b"],b=m.map(o=>f(this,void 0,void 0,(function*(){try{n.report(o);const i=yield o.provideCodeActions(e,t,u,p.token);if(i&&_.add(i),p.token.isCancellationRequested)return k;const s=((null===i||void 0===i?void 0:i.actions)||[]).filter(e=>e&&Object(g["c"])(l,e)),r=A(o,s,l.include);return{actions:s.map(e=>new w(e,o)),documentation:r}}catch(i){if(Object(s["e"])(i))throw i;return Object(s["g"])(i),k}}))),C=h["a"].onDidChange(()=>{const t=h["a"].all(e);Object(i["h"])(t,m)||p.cancel()});return Promise.all(b).then(e=>{const t=Object(i["k"])(e.map(e=>e.actions)),o=Object(i["e"])(e.map(e=>e.documentation));return new S(t,o,_)}).finally(()=>{C.dispose(),p.dispose()})}function x(e,t){return h["a"].all(e).filter(e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some(e=>Object(g["d"])(t,new g["b"](e))))}function A(e,t,o){if(!e.documentation)return;const i=e.documentation.map(e=>({kind:new g["b"](e.kind),command:e.command}));if(o){let e;for(const t of i)t.kind.contains(o)&&(e?e.kind.contains(t.kind)&&(e=t):e=t);if(e)return null===e||void 0===e?void 0:e.command}for(const n of t)if(n.kind)for(const e of i)if(e.kind.contains(new g["b"](n.kind)))return e.command}m["a"].registerCommand("_executeCodeActionProvider",(function(e,t,o,i,r){return f(this,void 0,void 0,(function*(){if(!(t instanceof a["a"]))throw Object(s["c"])();const c=e.get(u["a"]).getModel(t);if(!c)throw Object(s["c"])();const h=l["a"].isISelection(o)?l["a"].liftSelection(o):d["a"].isIRange(o)?c.validateRange(o):void 0;if(!h)throw Object(s["c"])();const m="string"===typeof i?new g["b"](i):void 0,f=yield L(c,h,{type:1,filter:{includeSourceActions:!0,include:m}},p["b"].None,n["a"].None),_=[],b=Math.min(f.validActions.length,"number"===typeof r?r:0);for(let e=0;e<b;e++)_.push(f.validActions[e].resolve(n["a"].None));try{return yield Promise.all(_),f.validActions.map(e=>e.action)}finally{setTimeout(()=>f.dispose(),100)}}))}))},7573:function(e,t,o){"use strict";var i=o("05b0"),n=o("9ffb"),s=o("9382"),r=o("71e2"),a=o("9550"),c=o("a55e"),d=o("709e"),l=o("321b"),h=o("48963"),u=o("312f"),g=o("0759"),p=o("de9c"),m=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r},f=function(e,t){return function(o,i){t(o,i,e)}};let _=class e{constructor(e,t,o,i,s,a){this._contextMenuService=t,this._contextViewService=o,this._contextKeyService=i,this._keybindingService=s,this._menuService=a,this._toDispose=new r["b"],this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(e=>this._onContextMenu(e))),this._toDispose.add(this._editor.onMouseWheel(e=>{if(this._contextMenuIsBeingShownCount>0){const t=this._contextViewService.getContextViewElement(),o=e.srcElement;o.shadowRoot&&n["F"](t)===o.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(e=>{58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())}))}static get(t){return t.getContribution(e.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(19))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type)return;if(e.event.preventDefault(),e.event.stopPropagation(),6!==e.target.type&&7!==e.target.type&&1!==e.target.type)return;if(this._editor.focus(),e.target.position){let t=!1;for(const o of this._editor.getSelections())if(o.containsPosition(e.target.position)){t=!0;break}t||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(19))return;if(!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?d["b"].SimpleEditorContext:d["b"].EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const o=[],i=this._menuService.createMenu(t,this._contextKeyService),n=i.getActions({arg:e.uri});i.dispose();for(let r of n){const[,t]=r;let i=0;for(const n of t)if(n instanceof d["e"]){const t=this._getMenuActions(e,n.item.submenu);t.length>0&&(o.push(new s["e"](n.id,n.label,t)),i++)}else o.push(n),i++;i&&o.push(new s["d"])}return o.length&&o.pop(),o}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const o=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),o=n["D"](this._editor.getDomNode()),i=o.left+e.left,s=o.top+e.top+e.height;t={x:i,y:s}}const i=this._editor.getOption(114)&&!p["c"];this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:i?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:e=>{const t=this._keybindingFor(e);if(t)return new g["a"](e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});const o=e;return"function"===typeof o.getActionViewItem?o.getActionViewItem():new g["a"](e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:e=>this._keybindingFor(e),onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:o})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};_.ID="editor.contrib.contextmenu",_=m([f(1,h["a"]),f(2,h["b"]),f(3,l["b"]),f(4,u["a"]),f(5,d["a"])],_);class b extends a["b"]{constructor(){super({id:"editor.action.showContextMenu",label:i["a"]("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:c["a"].textInputFocus,primary:1092,weight:100}})}run(e,t){let o=_.get(t);o.showContextMenu()}}Object(a["l"])(_.ID,_),Object(a["j"])(b)},"818b":function(e,t,o){},"9d04":function(e,t,o){},a4db:function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"a",(function(){return h}));var i=o("65cd"),n=o("c59a"),s=o("aac4"),r=o("537c"),a=o("2b64"),c=o("7cfc"),d=o("646b");function l(e,t){const o=[],i=a["c"].ordered(e).reverse(),n=i.map(i=>Promise.resolve(i.provideDocumentColors(e,t)).then(e=>{if(Array.isArray(e))for(let t of e)o.push({colorInfo:t,provider:i})}));return Promise.all(n).then(()=>o)}function h(e,t,o,i){return Promise.resolve(o.provideColorPresentations(e,t,i))}d["a"].registerCommand("_executeDocumentColorProvider",(function(e,...t){const[o]=t;if(!(o instanceof s["a"]))throw Object(n["c"])();const r=e.get(c["a"]).getModel(o);if(!r)throw Object(n["c"])();const d=[],l=a["c"].ordered(r).reverse(),h=l.map(e=>Promise.resolve(e.provideDocumentColors(r,i["a"].None)).then(e=>{if(Array.isArray(e))for(let t of e)d.push({range:t.range,color:[t.color.red,t.color.green,t.color.blue,t.color.alpha]})}));return Promise.all(h).then(()=>d)})),d["a"].registerCommand("_executeColorPresentationProvider",(function(e,...t){const[o,d]=t,{uri:l,range:h}=d;if(!(l instanceof s["a"])||!Array.isArray(o)||4!==o.length||!r["a"].isIRange(h))throw Object(n["c"])();const[u,g,p,m]=o,f=e.get(c["a"]).getModel(l);if(!f)throw Object(n["c"])();const _={range:h,color:{red:u,green:g,blue:p,alpha:m}},b=[],C=a["c"].ordered(f).reverse(),v=C.map(e=>Promise.resolve(e.provideColorPresentations(f,_,i["a"].None)).then(e=>{Array.isArray(e)&&b.push(...e)}));return Promise.all(v).then(()=>b)}))},b647:function(e,t,o){"use strict";var i=o("05b0"),n=o("9550"),s=o("94da"),r=o("537c"),a=o("a55e"),c=o("9ba2");class d extends n["b"]{constructor(){super({id:"editor.action.transposeLetters",label:i["a"]("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:a["a"].writable,kbOpts:{kbExpr:a["a"].textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let o=t.getModel(),i=[],n=t.getSelections();for(let a of n){if(!a.isEmpty())continue;let e=a.startLineNumber,t=a.startColumn,n=o.getLineMaxColumn(e);if(1===e&&(1===t||2===t&&2===n))continue;let d=t===n?a.getPosition():c["a"].rightPosition(o,a.getPosition().lineNumber,a.getPosition().column),l=c["a"].leftPosition(o,d),h=c["a"].leftPosition(o,l),u=o.getValueInRange(r["a"].fromPositions(h,l)),g=o.getValueInRange(r["a"].fromPositions(l,d)),p=r["a"].fromPositions(h,d);i.push(new s["a"](p,g+u))}i.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop())}}Object(n["j"])(d)},b848:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var i=o("5ee7");class n{constructor(e,t,o){this.presentationIndex=o,this._onColorFlushed=new i["b"],this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new i["b"],this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new i["b"],this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let o=0;o<this.colorPresentations.length;o++)if(t.toLowerCase()===this.colorPresentations[o].label){this.presentationIndex=o,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}},b8ff:function(e,t,o){"use strict";var i=o("05b0"),n=o("71e2"),s=o("9550"),r=o("a55e");class a{constructor(e){this.selections=e}equals(e){const t=this.selections.length,o=e.selections.length;if(t!==o)return!1;for(let i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0}}class c{constructor(e,t,o){this.cursorState=e,this.scrollTop=t,this.scrollLeft=o}}class d extends n["a"]{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo)return;if(!t.oldSelections)return;if(t.oldModelVersionId!==t.modelVersionId)return;const o=new a(t.oldSelections),i=this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o);i||(this._undoStack.push(new c(o,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(d.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new c(new a(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new c(new a(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}d.ID="editor.contrib.cursorUndoRedoController";class l extends s["b"]{constructor(){super({id:"cursorUndo",label:i["a"]("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:r["a"].textInputFocus,primary:2099,weight:100}})}run(e,t,o){d.get(t).cursorUndo()}}class h extends s["b"]{constructor(){super({id:"cursorRedo",label:i["a"]("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,o){d.get(t).cursorRedo()}}Object(s["l"])(d.ID,d),Object(s["j"])(l),Object(s["j"])(h)},c3ed:function(e,t,o){},c50b:function(e,t,o){},ca74:function(e,t,o){"use strict";var i=o("05b0"),n=o("11b8"),s=o("9550"),r=o("537c"),a=o("a55e"),c=o("63e9"),d=o("abda"),l=o("a24f"),h=o("31eb");class u{constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,o){if(o<0)return!1;const i=t.length,n=e.length;if(o+i>n)return!1;for(let s=0;s<i;s++){const i=e.charCodeAt(o+s),n=t.charCodeAt(s);if(i!==n&&(!(i>=65&&i<=90&&i+32===n)&&!(n>=65&&n<=90&&n+32===i)))return!1}return!0}_createOperationsForBlockComment(e,t,o,i,n,s){const a=e.startLineNumber,c=e.startColumn,d=e.endLineNumber,l=e.endColumn,h=n.getLineContent(a),g=n.getLineContent(d);let p,m=h.lastIndexOf(t,c-1+t.length),f=g.indexOf(o,l-1-o.length);if(-1!==m&&-1!==f)if(a===d){const e=h.substring(m+t.length,f);e.indexOf(o)>=0&&(m=-1,f=-1)}else{const e=h.substring(m+t.length),i=g.substring(0,f);(e.indexOf(o)>=0||i.indexOf(o)>=0)&&(m=-1,f=-1)}-1!==m&&-1!==f?(i&&m+t.length<h.length&&32===h.charCodeAt(m+t.length)&&(t+=" "),i&&f>0&&32===g.charCodeAt(f-1)&&(o=" "+o,f-=1),p=u._createRemoveBlockCommentOperations(new r["a"](a,m+t.length+1,d,f+1),t,o)):(p=u._createAddBlockCommentOperations(e,t,o,this._insertSpace),this._usedEndToken=1===p.length?o:null);for(const r of p)s.addTrackedEditOperation(r.range,r.text)}static _createRemoveBlockCommentOperations(e,t,o){let i=[];return r["a"].isEmpty(e)?i.push(c["a"].delete(new r["a"](e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+o.length))):(i.push(c["a"].delete(new r["a"](e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),i.push(c["a"].delete(new r["a"](e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+o.length)))),i}static _createAddBlockCommentOperations(e,t,o,i){let n=[];return r["a"].isEmpty(e)?n.push(c["a"].replace(new r["a"](e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+o)):(n.push(c["a"].insert(new d["a"](e.startLineNumber,e.startColumn),t+(i?" ":""))),n.push(c["a"].insert(new d["a"](e.endLineNumber,e.endColumn),(i?" ":"")+o))),n}getEditOperations(e,t){const o=this._selection.startLineNumber,i=this._selection.startColumn;e.tokenizeIfCheap(o);const n=e.getLanguageIdAtPosition(o,i),s=h["a"].getComments(n);s&&s.blockCommentStartToken&&s.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const o=t.getInverseEditOperations();if(2===o.length){const e=o[0],t=o[1];return new l["a"](e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{const e=o[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new l["a"](e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}var g=o("2dd7");class p{constructor(e,t,o,i,n,s){this._selection=e,this._tabSize=t,this._type=o,this._insertSpace=i,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=n,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(e,t,o){e.tokenizeIfCheap(t);const i=e.getLanguageIdAtPosition(t,1),n=h["a"].getComments(i),s=n?n.lineCommentToken:null;if(!s)return null;let r=[];for(let a=0,c=o-t+1;a<c;a++)r[a]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return r}static _analyzeLines(e,t,o,i,n,s,r){let a,c=!0;a=0===e||1!==e;for(let d=0,l=i.length;d<l;d++){const l=i[d],h=n+d;if(h===n&&r){l.ignore=!0;continue}const p=o.getLineContent(h),m=g["u"](p);if(-1!==m){if(c=!1,l.ignore=!1,l.commentStrOffset=m,a&&!u._haystackHasNeedleAtOffset(p,l.commentStr,m)&&(0===e?a=!1:1===e||(l.ignore=!0)),a&&t){const e=m+l.commentStrLength;e<p.length&&32===p.charCodeAt(e)&&(l.commentStrLength+=1)}}else l.ignore=s,l.commentStrOffset=p.length}if(0===e&&c){a=!1;for(let e=0,t=i.length;e<t;e++)i[e].ignore=!1}return{supported:!0,shouldRemoveComments:a,lines:i}}static _gatherPreflightData(e,t,o,i,n,s,r){const a=p._gatherPreflightCommentStrings(o,i,n);return null===a?{supported:!1}:p._analyzeLines(e,t,o,a,i,s,r)}_executeLineComments(e,t,o,i){let n;o.shouldRemoveComments?n=p._createRemoveLineCommentsOperations(o.lines,i.startLineNumber):(p._normalizeInsertionPoint(e,o.lines,i.startLineNumber,this._tabSize),n=this._createAddLineCommentsOperations(o.lines,i.startLineNumber));const s=new d["a"](i.positionLineNumber,i.positionColumn);for(let a=0,c=n.length;a<c;a++)if(t.addEditOperation(n[a].range,n[a].text),r["a"].isEmpty(n[a].range)&&r["a"].getStartPosition(n[a].range).equals(s)){const t=e.getLineContent(s.lineNumber);t.length+1===s.column&&(this._deltaColumn=(n[a].text||"").length)}this._selectionId=t.trackSelection(i)}_attemptRemoveBlockComment(e,t,o,i){let n=t.startLineNumber,s=t.endLineNumber,a=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),c=e.getLineContent(n).lastIndexOf(o,a-1),d=e.getLineContent(s).indexOf(i,t.endColumn-1-o.length);return-1!==c&&-1===d&&(d=e.getLineContent(n).indexOf(i,c+o.length),s=n),-1===c&&-1!==d&&(c=e.getLineContent(s).lastIndexOf(o,d),n=s),!t.isEmpty()||-1!==c&&-1!==d||(c=e.getLineContent(n).indexOf(o),-1!==c&&(d=e.getLineContent(n).indexOf(i,c+o.length))),-1!==c&&32===e.getLineContent(n).charCodeAt(c+o.length)&&(o+=" "),-1!==d&&32===e.getLineContent(s).charCodeAt(d-1)&&(i=" "+i,d-=1),-1!==c&&-1!==d?u._createRemoveBlockCommentOperations(new r["a"](n,c+o.length+1,s,d+1),o,i):null}_executeBlockComment(e,t,o){e.tokenizeIfCheap(o.startLineNumber);let i=e.getLanguageIdAtPosition(o.startLineNumber,1),n=h["a"].getComments(i);if(!n||!n.blockCommentStartToken||!n.blockCommentEndToken)return;const s=n.blockCommentStartToken,a=n.blockCommentEndToken;let c=this._attemptRemoveBlockComment(e,o,s,a);if(!c){if(o.isEmpty()){const t=e.getLineContent(o.startLineNumber);let i=g["u"](t);-1===i&&(i=t.length),c=u._createAddBlockCommentOperations(new r["a"](o.startLineNumber,i+1,o.startLineNumber,t.length+1),s,a,this._insertSpace)}else c=u._createAddBlockCommentOperations(new r["a"](o.startLineNumber,e.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),s,a,this._insertSpace);1===c.length&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(o);for(const r of c)t.addEditOperation(r.range,r.text)}getEditOperations(e,t){let o=this._selection;if(this._moveEndPositionDown=!1,o.startLineNumber===o.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new r["a"](o.startLineNumber,e.getLineMaxColumn(o.startLineNumber),o.startLineNumber+1,1),o.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(o));o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,e.getLineMaxColumn(o.endLineNumber-1)));const i=p._gatherPreflightData(this._type,this._insertSpace,e,o.startLineNumber,o.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return i.supported?this._executeLineComments(e,t,i,o):this._executeBlockComment(e,t,o)}computeCursorState(e,t){let o=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(o=o.setEndPosition(o.endLineNumber+1,1)),new l["a"](o.selectionStartLineNumber,o.selectionStartColumn+this._deltaColumn,o.positionLineNumber,o.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let o=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];n.ignore||o.push(c["a"].delete(new r["a"](t+i,n.commentStrOffset+1,t+i,n.commentStrOffset+n.commentStrLength+1)))}return o}_createAddLineCommentsOperations(e,t){let o=[];const i=this._insertSpace?" ":"";for(let n=0,s=e.length;n<s;n++){const s=e[n];s.ignore||o.push(c["a"].insert(new d["a"](t+n,s.commentStrOffset+1),s.commentStr+i))}return o}static nextVisibleColumn(e,t,o,i){return o?e+(t-e%t):e+i}static _normalizeInsertionPoint(e,t,o,i){let n,s,r=1073741824;for(let a=0,c=t.length;a<c;a++){if(t[a].ignore)continue;const n=e.getLineContent(o+a);let s=0;for(let e=0,o=t[a].commentStrOffset;s<r&&e<o;e++)s=p.nextVisibleColumn(s,i,9===n.charCodeAt(e),1);s<r&&(r=s)}r=Math.floor(r/i)*i;for(let a=0,c=t.length;a<c;a++){if(t[a].ignore)continue;const c=e.getLineContent(o+a);let d=0;for(n=0,s=t[a].commentStrOffset;d<r&&n<s;n++)d=p.nextVisibleColumn(d,i,9===c.charCodeAt(n),1);t[a].commentStrOffset=d>r?n-1:n}}}var m=o("709e");class f extends s["b"]{constructor(e,t){super(t),this._type=e}run(e,t){if(!t.hasModel())return;const o=t.getModel(),i=[],n=o.getOptions(),s=t.getOption(18),a=t.getSelections().map((e,t)=>({selection:e,index:t,ignoreFirstLine:!1}));a.sort((e,t)=>r["a"].compareRangesUsingStarts(e.selection,t.selection));let c=a[0];for(let r=1;r<a.length;r++){const e=a[r];c.selection.endLineNumber===e.selection.startLineNumber&&(c.index<e.index?e.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=e))}for(const r of a)i.push(new p(r.selection,n.tabSize,this._type,s.insertSpace,s.ignoreEmptyLines,r.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class _ extends f{constructor(){super(0,{id:"editor.action.commentLine",label:i["a"]("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:a["a"].writable,kbOpts:{kbExpr:a["a"].editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:m["b"].MenubarEditMenu,group:"5_insert",title:i["a"]({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class b extends f{constructor(){super(1,{id:"editor.action.addCommentLine",label:i["a"]("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:a["a"].writable,kbOpts:{kbExpr:a["a"].editorTextFocus,primary:Object(n["a"])(2089,2081),weight:100}})}}class C extends f{constructor(){super(2,{id:"editor.action.removeCommentLine",label:i["a"]("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:a["a"].writable,kbOpts:{kbExpr:a["a"].editorTextFocus,primary:Object(n["a"])(2089,2099),weight:100}})}}class v extends s["b"]{constructor(){super({id:"editor.action.blockComment",label:i["a"]("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:a["a"].writable,kbOpts:{kbExpr:a["a"].editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:m["b"].MenubarEditMenu,group:"5_insert",title:i["a"]({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){if(!t.hasModel())return;const o=t.getOption(18),i=[],n=t.getSelections();for(const s of n)i.push(new u(s,o.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}Object(s["j"])(_),Object(s["j"])(b),Object(s["j"])(C),Object(s["j"])(v)},d22f:function(e,t,o){"use strict";var i=o("05b0"),n=o("c5d4"),s=o("de9c"),r=o("fcce"),a=o("9550"),c=o("38cf"),d=o("a55e"),l=o("709e"),h=o("5726"),u=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i["throw"](e))}catch(t){s(t)}}function c(e){e.done?o(e.value):n(e.value).then(r,a)}c((i=i.apply(e,t||[])).next())}))};const g="9_cutcopypaste",p=s["g"]||document.queryCommandSupported("cut"),m=s["g"]||document.queryCommandSupported("copy"),f="undefined"!==typeof navigator.clipboard&&!n["g"]||document.queryCommandSupported("paste");function _(e){return e.register(),e}const b=p?_(new a["e"]({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:s["g"]?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:l["b"].MenubarEditMenu,group:"2_ccp",title:i["a"]({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:l["b"].EditorContext,group:g,title:i["a"]("actions.clipboard.cutLabel","Cut"),when:d["a"].writable,order:1},{menuId:l["b"].CommandPalette,group:"",title:i["a"]("actions.clipboard.cutLabel","Cut"),order:1},{menuId:l["b"].SimpleEditorContext,group:g,title:i["a"]("actions.clipboard.cutLabel","Cut"),when:d["a"].writable,order:1}]})):void 0,C=m?_(new a["e"]({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:s["g"]?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:l["b"].MenubarEditMenu,group:"2_ccp",title:i["a"]({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:l["b"].EditorContext,group:g,title:i["a"]("actions.clipboard.copyLabel","Copy"),order:2},{menuId:l["b"].CommandPalette,group:"",title:i["a"]("actions.clipboard.copyLabel","Copy"),order:1},{menuId:l["b"].SimpleEditorContext,group:g,title:i["a"]("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;l["d"].appendMenuItem(l["b"].MenubarEditMenu,{submenu:l["b"].MenubarCopy,title:{value:i["a"]("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),l["d"].appendMenuItem(l["b"].EditorContext,{submenu:l["b"].EditorContextCopy,title:{value:i["a"]("copy as","Copy As"),original:"Copy As"},group:g,order:3});const v=f?_(new a["e"]({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:s["g"]?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:l["b"].MenubarEditMenu,group:"2_ccp",title:i["a"]({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:l["b"].EditorContext,group:g,title:i["a"]("actions.clipboard.pasteLabel","Paste"),when:d["a"].writable,order:4},{menuId:l["b"].CommandPalette,group:"",title:i["a"]("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:l["b"].SimpleEditorContext,group:g,title:i["a"]("actions.clipboard.pasteLabel","Paste"),when:d["a"].writable,order:4}]})):void 0;class y extends a["b"]{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:i["a"]("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:d["a"].textInputFocus,primary:0,weight:100}})}run(e,t){if(!t.hasModel())return;const o=t.getOption(31);!o&&t.getSelection().isEmpty()||(r["a"].forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),r["a"].forceCopyWithSyntaxHighlighting=!1)}}function w(e,t){e&&(e.addImplementation(1e4,"code-editor",(e,o)=>{const i=e.get(c["a"]).getFocusedCodeEditor();if(i&&i.hasTextFocus()){const e=i.getOption(31),o=i.getSelection();return o&&o.isEmpty()&&!e||document.execCommand(t),!0}return!1}),e.addImplementation(0,"generic-dom",(e,o)=>(document.execCommand(t),!0)))}w(b,"cut"),w(C,"copy"),v&&(v.addImplementation(1e4,"code-editor",(e,t)=>{const o=e.get(c["a"]),i=e.get(h["a"]),n=o.getFocusedCodeEditor();if(n&&n.hasTextFocus()){const e=document.execCommand("paste");return!(!e&&s["h"])||((()=>{u(void 0,void 0,void 0,(function*(){const e=yield i.readText();if(""!==e){const t=r["b"].INSTANCE.get(e);let o=!1,i=null,s=null;t&&(o=n.getOption(31)&&!!t.isFromEmptySelection,i="undefined"!==typeof t.multicursorText?t.multicursorText:null,s=t.mode),n.trigger("keyboard","paste",{text:e,pasteOnNewLine:o,multicursorText:i,mode:s})}}))})(),!0)}return!1}),v.addImplementation(0,"generic-dom",(e,t)=>(document.execCommand("paste"),!0))),m&&Object(a["j"])(y)},f102:function(e,t,o){"use strict";o.d(t,"a",(function(){return C}));o("818b");var i=o("c5d4"),n=o("9ffb"),s=o("1e963"),r=o("33a3"),a=o("85cf"),c=o("5ee7"),d=o("71e2"),l=o("09ad"),h=o("662c");const u=n["a"];class g extends d["a"]{constructor(e,t,o){super(),this.model=t,this.domNode=u(".colorpicker-header"),n["q"](e,this.domNode),this.pickedColorNode=n["q"](this.domNode,u(".picked-color"));const i=n["q"](this.domNode,u(".original-color"));i.style.backgroundColor=a["a"].Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=o.getColorTheme().getColor(l["E"])||a["a"].white,this._register(Object(h["f"])((e,t)=>{this.backgroundColor=e.getColor(l["E"])||a["a"].white})),this._register(n["i"](this.pickedColorNode,n["d"].CLICK,()=>this.model.selectNextColorPresentation())),this._register(n["i"](i,n["d"].CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=a["a"].Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter())}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=a["a"].Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}class p extends d["a"]{constructor(e,t,o){super(),this.model=t,this.pixelRatio=o,this.domNode=u(".colorpicker-body"),n["q"](e,this.domNode),this.saturationBox=new m(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new _(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new b(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const o=this.model.color.hsva;this.model.color=new a["a"](new a["b"](o.h,e,t,o.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new a["a"](new a["b"](t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,o=360*(1-e);this.model.color=new a["a"](new a["b"](360===o?0:o,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class m extends d["a"]{constructor(e,t,o){super(),this.model=t,this.pixelRatio=o,this._onDidChange=new c["b"],this.onDidChange=this._onDidChange.event,this._onColorFlushed=new c["b"],this.onColorFlushed=this._onColorFlushed.event,this.domNode=u(".saturation-wrap"),n["q"](e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",n["q"](this.domNode,this.canvas),this.selection=u(".saturation-selection"),n["q"](this.domNode,this.selection),this.layout(),this._register(n["g"](this.domNode,e=>this.onMouseDown(e))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new s["a"]);const t=n["D"](this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,s["b"],e=>this.onDidChangePosition(e.posx-t.left,e.posy-t.top),()=>null);const o=n["h"](document,()=>{this._onColorFlushed.fire(),o.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const o=Math.max(0,Math.min(1,e/this.width)),i=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(o,i),this._onDidChange.fire({s:o,v:i})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new a["a"](new a["b"](e.h,1,1,1)),o=this.canvas.getContext("2d"),i=o.createLinearGradient(0,0,this.canvas.width,0);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),i.addColorStop(1,"rgba(255, 255, 255, 0)");const n=o.createLinearGradient(0,0,0,this.canvas.height);n.addColorStop(0,"rgba(0, 0, 0, 0)"),n.addColorStop(1,"rgba(0, 0, 0, 1)"),o.rect(0,0,this.canvas.width,this.canvas.height),o.fillStyle=a["a"].Format.CSS.format(t),o.fill(),o.fillStyle=i,o.fill(),o.fillStyle=n,o.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class f extends d["a"]{constructor(e,t){super(),this.model=t,this._onDidChange=new c["b"],this.onDidChange=this._onDidChange.event,this._onColorFlushed=new c["b"],this.onColorFlushed=this._onColorFlushed.event,this.domNode=n["q"](e,u(".strip")),this.overlay=n["q"](this.domNode,u(".overlay")),this.slider=n["q"](this.domNode,u(".slider")),this.slider.style.top="0px",this._register(n["g"](this.domNode,e=>this.onMouseDown(e))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new s["a"]),o=n["D"](this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,s["b"],e=>this.onDidChangeTop(e.posy-o.top),()=>null);const i=n["h"](document,()=>{this._onColorFlushed.fire(),i.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class _ extends f{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:o,b:i}=e.rgba,n=new a["a"](new a["c"](t,o,i,1)),s=new a["a"](new a["c"](t,o,i,0));this.overlay.style.background=`linear-gradient(to bottom, ${n} 0%, ${s} 100%)`}getValue(e){return e.hsva.a}}class b extends f{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class C extends r["a"]{constructor(e,t,o,n){super(),this.model=t,this.pixelRatio=o,this._register(Object(i["l"])(()=>this.layout()));const s=u(".colorpicker-widget");e.appendChild(s);const r=new g(s,this.model,n);this.body=new p(s,this.model,this.pixelRatio),this._register(r),this._register(this.body)}layout(){this.body.layout()}}},ff3b:function(e,t,o){"use strict";o.d(t,"f",(function(){return me})),o.d(t,"e",(function(){return Ce})),o.d(t,"b",(function(){return ve})),o.d(t,"g",(function(){return ye})),o.d(t,"h",(function(){return we})),o.d(t,"d",(function(){return Se})),o.d(t,"c",(function(){return ke})),o.d(t,"a",(function(){return Le}));var i=o("65cd"),n=o("8453"),s=o("71e2"),r=o("2dd7"),a=o("9550"),c=o("9d70"),d=o("a55e"),l=o("6acd"),h=o("c59a"),u=o("9abf"),g=o("2279"),p=o("9ffb"),m=o("9382"),f=o("abda"),_=o("2b64"),b=o("36ce"),C=o("48963"),v=o("312f"),y=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r},w=function(e,t){return function(o,i){t(o,i,e)}},S=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i["throw"](e))}catch(t){s(t)}}function c(e){e.done?o(e.value):n(e.value).then(r,a)}c((i=i.apply(e,t||[])).next())}))};class k extends m["a"]{constructor(e,t){super(e.command?e.command.id:e.title,L(e.title),void 0,!e.disabled,t),this.action=e}}function L(e){return e.replace(/\r\n|\r|\n/g," ")}let x=class extends s["a"]{constructor(e,t,o,i){super(),this._editor=e,this._delegate=t,this._contextMenuService=o,this._visible=!1,this._showingActions=this._register(new s["d"]),this._keybindingResolver=new A({getKeybindings:()=>i.getKeybindings()})}get isVisible(){return this._visible}show(e,t,o,i){return S(this,void 0,void 0,(function*(){const n=i.includeDisabledActions?t.allActions:t.validActions;if(!n.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,Object(h["b"])();this._visible=!0,this._showingActions.value=t;const s=this.getMenuActions(e,n,t.documentation),r=f["a"].isIPosition(o)?this._toCoords(o):o||{x:0,y:0},a=this._keybindingResolver.getResolver(),c=this._editor.getOption(114);this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>s,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:e=>e instanceof k?a(e.action):void 0})}))}getMenuActions(e,t,o){var i,n;const s=e=>new k(e.action,()=>this._delegate.onSelectCodeAction(e)),r=t.map(s),a=[...o],c=this._editor.getModel();if(c&&r.length)for(const d of _["a"].all(c))d._getAdditionalMenuItems&&a.push(...d._getAdditionalMenuItems({trigger:e.type,only:null===(n=null===(i=e.filter)||void 0===i?void 0:i.include)||void 0===n?void 0:n.value},t.map(e=>e.action)));return a.length&&r.push(new m["d"],...a.map(e=>s(new l["a"]({title:e.title,command:e},void 0)))),r}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),o=Object(p["D"])(this._editor.getDomNode()),i=o.left+t.left,n=o.top+t.top+t.height;return{x:i,y:n}}};x=y([w(2,C["a"]),w(3,v["a"])],x);class A{constructor(e){this._keybindingProvider=e}getResolver(){const e=new n["a"](()=>this._keybindingProvider.getKeybindings().filter(e=>A.codeActionCommands.indexOf(e.command)>=0).filter(e=>e.resolvedKeybinding).map(e=>{let t=e.commandArgs;return e.command===l["e"]?t={kind:b["b"].SourceOrganizeImports.value}:e.command===l["c"]&&(t={kind:b["b"].SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},b["a"].fromUser(t,{kind:b["b"].None,apply:"never"}))}));return t=>{if(t.kind){const o=this.bestKeybindingForCodeAction(t,e.getValue());return null===o||void 0===o?void 0:o.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const o=new b["b"](e.kind);return t.filter(e=>e.kind.contains(o)).filter(t=>!t.preferred||e.isPreferred).reduceRight((e,t)=>e?e.kind.contains(t.kind)?t:e:t,void 0)}}A.codeActionCommands=[l["f"],l["b"],l["g"],l["e"],l["c"]];var O,D=o("1e963"),N=o("5ee7"),P=(o("c3ed"),o("9afb")),M=o("05b0"),I=o("662c"),E=o("09ad"),T=o("ec5d"),j=o("1dea"),R=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r},F=function(e,t){return function(o,i){t(o,i,e)}};(function(e){e.Hidden={type:0};class t{constructor(e,t,o,i){this.actions=e,this.trigger=t,this.editorPosition=o,this.widgetPosition=i,this.type=1}}e.Showing=t})(O||(O={}));let B=class e extends s["a"]{constructor(e,t,o,i){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=o,this._keybindingService=i,this._onClick=this._register(new N["b"]),this.onClick=this._onClick.event,this._state=O.Hidden,this._domNode=document.createElement("div"),this._domNode.className=j["b"].lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()})),T["b"].ignoreTarget(this._domNode),this._register(p["n"](this._domNode,e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:t,height:o}=p["D"](this._domNode),i=this._editor.getOption(58);let n=Math.floor(i/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(n+=i),this._onClick.fire({x:e.posx,y:t+o+n,actions:this.state.actions,trigger:this.state.trigger})})),this._register(p["i"](this._domNode,"mouseenter",e=>{if(1!==(1&e.buttons))return;this.hide();const t=new D["a"];t.startMonitoring(e.target,e.buttons,D["b"],()=>{},()=>{t.dispose()})})),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,o,i){if(t.validActions.length<=0)return this.hide();const n=this._editor.getOptions();if(!n.get(56).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:r,column:a}=s.validatePosition(i),c=s.getOptions().tabSize,d=n.get(42),l=s.getLineContent(r),h=P["b"].computeIndentLevel(l,c),u=d.spaceWidth*h>22,g=e=>e>2&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let p=r;if(!u)if(r>1&&!g(r-1))p-=1;else if(g(r+1)){if(a*d.spaceWidth<22)return this.hide()}else p+=1;this.state=new O.Showing(t,o,i,{position:{lineNumber:p,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=O.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...j["b"].lightBulb.classNamesArray),this._domNode.classList.add(...j["b"].lightbulbAutofix.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=M["a"]("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",e.getLabel()))}this._domNode.classList.remove(...j["b"].lightbulbAutofix.classNamesArray),this._domNode.classList.add(...j["b"].lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?M["a"]("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):M["a"]("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};B._posPref=[0],B=R([F(3,v["a"])],B),Object(I["f"])((e,t)=>{var o;const i=null===(o=e.getColor(E["r"]))||void 0===o?void 0:o.transparent(.7),n=e.getColor(E["Q"]);n&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${j["b"].lightBulb.cssSelector} {\n\t\t\tcolor: ${n};\n\t\t\tbackground-color: ${i};\n\t\t}`);const s=e.getColor(E["P"]);s&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${j["b"].lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${s};\n\t\t\tbackground-color: ${i};\n\t\t}`)});var W,V=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r},U=function(e,t){return function(o,i){t(o,i,e)}},H=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i["throw"](e))}catch(t){s(t)}}function c(e){e.done?o(e.value):n(e.value).then(r,a)}c((i=i.apply(e,t||[])).next())}))},K=function(e,t,o,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,o):n?n.value=o:t.set(e,o),o},$=function(e,t,o,i){if("a"===o&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?i:"a"===o?i.call(e):i?i.value:t.get(e)};let q=class extends s["a"]{constructor(e,t,o,i,r){super(),this._editor=e,this.delegate=i,this._activeCodeActions=this._register(new s["d"]),W.set(this,!1),this._codeActionWidget=new n["a"](()=>this._register(r.createInstance(x,this._editor,{onSelectCodeAction:e=>H(this,void 0,void 0,(function*(){this.delegate.applyCodeAction(e,!0)}))}))),this._lightBulbWidget=new n["a"](()=>{const e=this._register(r.createInstance(B,this._editor,t,o));return this._register(e.onClick(e=>this.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1}))),e})}dispose(){K(this,W,!0,"f"),super.dispose()}update(e){var t,o,i;return H(this,void 0,void 0,(function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let n;try{n=yield e.actions}catch(s){return void Object(h["f"])(s)}if(!$(this,W,"f"))if(this._lightBulbWidget.getValue().update(n,e.trigger,e.position),1===e.trigger.type){if(null===(o=e.trigger.filter)||void 0===o?void 0:o.include){const t=this.tryGetValidActionToApply(e.trigger,n);if(t){try{yield this.delegate.applyCodeAction(t,!1)}finally{n.dispose()}return}if(e.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,n);if(t&&t.action.disabled)return u["a"].get(this._editor).showMessage(t.action.disabled,e.trigger.context.position),void n.dispose()}}const t=!!(null===(i=e.trigger.filter)||void 0===i?void 0:i.include);if(e.trigger.context&&(!n.allActions.length||!t&&!n.validActions.length))return u["a"].get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=n,void n.dispose();this._activeCodeActions.value=n,this._codeActionWidget.getValue().show(e.trigger,n,e.position,{includeDisabledActions:t})}else this._codeActionWidget.getValue().isVisible?n.dispose():this._activeCodeActions.value=n}))}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find(({action:e})=>e.disabled):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}showCodeActionList(e,t,o,i){return H(this,void 0,void 0,(function*(){this._codeActionWidget.getValue().show(e,t,o,i)}))}};W=new WeakMap,q=V([U(4,g["a"])],q);var z,Z=o("646b"),G=o("321b"),Q=o("d5e0"),Y=o("6fea"),J=o("6115"),X=o("4926"),ee=o("ae74"),te=o("1907"),oe=o("537c"),ie=function(e,t,o,i){if("a"===o&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?i:"a"===o?i.call(e):i?i.value:t.get(e)},ne=function(e,t,o,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,o):n?n.value=o:t.set(e,o),o};const se=new G["c"]("supportedCodeAction","");class re extends s["a"]{constructor(e,t,o,i=250){super(),this._editor=e,this._markerService=t,this._signalChange=o,this._delay=i,this._autoTriggerTimer=this._register(new ee["g"]),this._register(this._markerService.onMarkerChanged(e=>this._onMarkerChanges(e))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some(e=>Object(te["f"])(e,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const o of this._markerService.read({resource:t.uri})){const i=t.validateRange(o);if(oe["a"].intersectRanges(i,e))return oe["a"].lift(i)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),o=this._editor.getSelection();if(o.isEmpty()&&2===e.type){const{lineNumber:e,column:i}=o.getPosition(),n=t.getLineContent(e);if(0===n.length)return;if(1===i){if(/\s/.test(n[0]))return}else if(i===t.getLineMaxColumn(e)){if(/\s/.test(n[n.length-1]))return}else if(/\s/.test(n[i-2])&&/\s/.test(n[i-1]))return}return o}_createEventAndSignalChange(e,t){const o=this._editor.getModel();if(!t||!o)return void this._signalChange(void 0);const i=this._getRangeOfMarker(t),n=i?i.getStartPosition():t.getStartPosition(),s={trigger:e,selection:t,position:n};return this._signalChange(s),s}}var ae;(function(e){e.Empty={type:0};class t{constructor(e,t,o,i){this.trigger=e,this.rangeOrSelection=t,this.position=o,this._cancellablePromise=i,this.type=1,this.actions=i.catch(e=>{if(Object(h["e"])(e))return ce;throw e})}cancel(){this._cancellablePromise.cancel()}}e.Triggered=t})(ae||(ae={}));const ce={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class de extends s["a"]{constructor(e,t,o,i){super(),this._editor=e,this._markerService=t,this._progressService=i,this._codeActionOracle=this._register(new s["d"]),this._state=ae.Empty,this._onDidChangeState=this._register(new N["b"]),this.onDidChangeState=this._onDidChangeState.event,z.set(this,!1),this._supportedCodeActions=se.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(_["a"].onDidChange(()=>this._update())),this._update()}dispose(){ie(this,z,"f")||(ne(this,z,!0,"f"),super.dispose(),this.setState(ae.Empty,!0))}_update(){if(ie(this,z,"f"))return;this._codeActionOracle.value=void 0,this.setState(ae.Empty);const e=this._editor.getModel();if(e&&_["a"].has(e)&&!this._editor.getOption(80)){const t=[];for(const o of _["a"].all(e))Array.isArray(o.providedCodeActionKinds)&&t.push(...o.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new re(this._editor,this._markerService,t=>{var o;if(!t)return void this.setState(ae.Empty);const i=Object(ee["h"])(o=>Object(l["d"])(e,t.selection,t.trigger,J["b"].None,o));1===t.trigger.type&&(null===(o=this._progressService)||void 0===o||o.showWhile(i,250)),this.setState(new ae.Triggered(t.trigger,t.selection,t.position,i))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||ie(this,z,"f")||this._onDidChangeState.fire(e))}}z=new WeakMap;var le=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r},he=function(e,t){return function(o,i){t(o,i,e)}},ue=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i["throw"](e))}catch(t){s(t)}}function c(e){e.done?o(e.value):n(e.value).then(r,a)}c((i=i.apply(e,t||[])).next())}))};function ge(e){return G["a"].regex(se.keys()[0],new RegExp("(\\s|^)"+Object(r["t"])(e.value)+"\\b"))}const pe={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:M["a"]("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:M["a"]("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[M["a"]("args.schema.apply.first","Always apply the first returned code action."),M["a"]("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),M["a"]("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:M["a"]("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let me=class e extends s["a"]{constructor(e,t,o,i,s){super(),this._instantiationService=s,this._editor=e,this._model=this._register(new de(this._editor,t,o,i)),this._register(this._model.onDidChangeState(e=>this.update(e))),this._ui=new n["a"](()=>this._register(new q(e,Ce.Id,Le.Id,{applyCodeAction:(e,t)=>ue(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(e)}finally{t&&this._trigger({type:2,filter:{}})}}))},this._instantiationService)))}static get(t){return t.getContribution(e.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,o){return this._ui.getValue().showCodeActionList(e,t,o,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,o){if(!this._editor.hasModel())return;u["a"].get(this._editor).closeMessage();const i=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:o,context:{notAvailableMessage:e,position:i}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(fe,e,this._editor)}};function fe(e,t,o){return ue(this,void 0,void 0,(function*(){const n=e.get(c["a"]),s=e.get(Z["b"]),r=e.get(X["a"]),a=e.get(Y["a"]);if(r.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred}),yield t.resolve(i["a"].None),t.action.edit&&(yield n.apply(c["b"].convert(t.action.edit),{editor:o,label:t.action.title})),t.action.command)try{yield s.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(d){const e=_e(d);a.error("string"===typeof e?e:M["a"]("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}))}function _e(e){return"string"===typeof e?e:e instanceof Error&&"string"===typeof e.message?e.message:void 0}function be(e,t,o,i){if(e.hasModel()){const n=me.get(e);n&&n.manualTriggerAtCurrentPosition(t,o,i)}}me.ID="editor.contrib.quickFixController",me=le([he(1,Q["b"]),he(2,G["b"]),he(3,J["a"]),he(4,g["a"])],me);class Ce extends a["b"]{constructor(){super({id:Ce.Id,label:M["a"]("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:G["a"].and(d["a"].writable,d["a"].hasCodeActionsProvider),kbOpts:{kbExpr:d["a"].editorTextFocus,primary:2132,weight:100}})}run(e,t){return be(t,M["a"]("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}Ce.Id="editor.action.quickFix";class ve extends a["c"]{constructor(){super({id:l["b"],precondition:G["a"].and(d["a"].writable,d["a"].hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:pe}]}})}runEditorCommand(e,t,o){const i=b["a"].fromUser(o,{kind:b["b"].Empty,apply:"ifSingle"});return be(t,"string"===typeof(null===o||void 0===o?void 0:o.kind)?i.preferred?M["a"]("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",o.kind):M["a"]("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",o.kind):i.preferred?M["a"]("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):M["a"]("editor.action.codeAction.noneMessage","No code actions available"),{include:i.kind,includeSourceActions:!0,onlyIncludePreferredActions:i.preferred},i.apply)}}class ye extends a["b"]{constructor(){super({id:l["f"],label:M["a"]("refactor.label","Refactor..."),alias:"Refactor...",precondition:G["a"].and(d["a"].writable,d["a"].hasCodeActionsProvider),kbOpts:{kbExpr:d["a"].editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:G["a"].and(d["a"].writable,ge(b["b"].Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:pe}]}})}run(e,t,o){const i=b["a"].fromUser(o,{kind:b["b"].Refactor,apply:"never"});return be(t,"string"===typeof(null===o||void 0===o?void 0:o.kind)?i.preferred?M["a"]("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",o.kind):M["a"]("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",o.kind):i.preferred?M["a"]("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):M["a"]("editor.action.refactor.noneMessage","No refactorings available"),{include:b["b"].Refactor.contains(i.kind)?i.kind:b["b"].None,onlyIncludePreferredActions:i.preferred},i.apply)}}class we extends a["b"]{constructor(){super({id:l["g"],label:M["a"]("source.label","Source Action..."),alias:"Source Action...",precondition:G["a"].and(d["a"].writable,d["a"].hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:G["a"].and(d["a"].writable,ge(b["b"].Source))},description:{description:"Source Action...",args:[{name:"args",schema:pe}]}})}run(e,t,o){const i=b["a"].fromUser(o,{kind:b["b"].Source,apply:"never"});return be(t,"string"===typeof(null===o||void 0===o?void 0:o.kind)?i.preferred?M["a"]("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",o.kind):M["a"]("editor.action.source.noneMessage.kind","No source actions for '{0}' available",o.kind):i.preferred?M["a"]("editor.action.source.noneMessage.preferred","No preferred source actions available"):M["a"]("editor.action.source.noneMessage","No source actions available"),{include:b["b"].Source.contains(i.kind)?i.kind:b["b"].None,includeSourceActions:!0,onlyIncludePreferredActions:i.preferred},i.apply)}}class Se extends a["b"]{constructor(){super({id:l["e"],label:M["a"]("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:G["a"].and(d["a"].writable,ge(b["b"].SourceOrganizeImports)),kbOpts:{kbExpr:d["a"].editorTextFocus,primary:1581,weight:100}})}run(e,t){return be(t,M["a"]("editor.action.organize.noneMessage","No organize imports action available"),{include:b["b"].SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class ke extends a["b"]{constructor(){super({id:l["c"],label:M["a"]("fixAll.label","Fix All"),alias:"Fix All",precondition:G["a"].and(d["a"].writable,ge(b["b"].SourceFixAll))})}run(e,t){return be(t,M["a"]("fixAll.noneMessage","No fix all action available"),{include:b["b"].SourceFixAll,includeSourceActions:!0},"ifSingle")}}class Le extends a["b"]{constructor(){super({id:Le.Id,label:M["a"]("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:G["a"].and(d["a"].writable,ge(b["b"].QuickFix)),kbOpts:{kbExpr:d["a"].editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return be(t,M["a"]("editor.action.autoFix.noneMessage","No auto fixes available"),{include:b["b"].QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}Le.Id="editor.action.autoFix"}}]);