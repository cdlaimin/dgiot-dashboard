/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  time: Mon Nov 15 2021 09:40:31 GMT+0000 (Coordinated Universal Time)
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b4cc410"],{"11ea":function(e,t,i){},"2ed9":function(e,t,i){"use strict";i("f8c6");var n=i("05b0"),o=i("ae74"),s=i("65cd"),r=i("c59a"),a=i("f319"),l=i("71e2"),d=i("de9c"),c=i("9550"),u=i("9afb"),h=i("2b64"),g=i("7f63"),p=i("aac4"),m=i("537c"),f=i("7cfc"),b=i("646b"),v=i("1c57"),C=i("a0e2"),L=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):o(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class w{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return L(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"===typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}))}}class S{constructor(e){this._disposables=new l["b"];let t=[];for(const[i,n]of e){const e=i.links.map(e=>new w(e,n));t=S._union(t,e),Object(l["g"])(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i,n,o,s,r=[];for(i=0,o=0,n=e.length,s=t.length;i<n&&o<s;){const n=e[i],s=t[o];if(m["a"].areIntersectingOrTouching(n.range,s.range)){i++;continue}const a=m["a"].compareRangesUsingStarts(n.range,s.range);a<0?(r.push(n),i++):(r.push(s),o++)}for(;i<n;i++)r.push(e[i]);for(;o<s;o++)r.push(t[o]);return r}}function x(e,t){const i=[],n=h["v"].ordered(e).reverse().map((n,o)=>Promise.resolve(n.provideLinks(e,t)).then(e=>{e&&(i[o]=[e,n])},r["g"]));return Promise.all(n).then(()=>{const e=new S(Object(v["e"])(i));return t.isCancellationRequested?(e.dispose(),new S([])):e})}b["a"].registerCommand("_executeLinkProvider",(e,...t)=>L(void 0,void 0,void 0,(function*(){let[i,n]=t;Object(C["c"])(i instanceof p["a"]),"number"!==typeof n&&(n=0);const o=e.get(f["a"]).getModel(i);if(!o)return[];const r=yield x(o,s["a"].None);if(!r)return[];for(let e=0;e<Math.min(n,r.links.length);e++)yield r.links[e].resolve(s["a"].None);const a=r.links.slice(0);return r.dispose(),a})));var I=i("6fea"),_=i("9cfa"),O=i("09ad"),y=i("662c"),D=i("4f7d"),N=i("1907"),M=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},E=function(e,t){return function(i,n){t(i,n,e)}},R=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):o(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function k(e,t){const i=e.url&&/^command:/i.test(e.url.toString()),o=e.tooltip?e.tooltip:i?n["a"]("links.navigate.executeCmd","Execute command"):n["a"]("links.navigate.follow","Follow link"),s=t?d["f"]?n["a"]("links.navigate.kb.meta.mac","cmd + click"):n["a"]("links.navigate.kb.meta","ctrl + click"):d["f"]?n["a"]("links.navigate.kb.alt.mac","option + click"):n["a"]("links.navigate.kb.alt","alt + click");if(e.url){let t="";if(/^command:/i.test(e.url.toString())){const i=e.url.toString().match(/^command:([^?#]+)/);if(i){const e=i[1],o=n["a"]("tooltip.explanation","Execute command {0}",e);t=` "${o}"`}}const i=new a["a"]("",!0).appendMarkdown(`[${o}](${e.url.toString(!0)}${t}) (${s})`);return i}return(new a["a"]).appendText(`${o} (${s})`)}const T={general:u["a"].register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:u["a"].register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class P{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:P._getOptions(e,t,!1)}}static _getOptions(e,t,i){const n=Object.assign({},i?T.active:T.general);return n.hoverMessage=k(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,P._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,P._getOptions(this.link,t,!1))}}let j=class e{constructor(e,t,i){this.listenersToRemove=new l["b"],this.editor=e,this.openerService=t,this.notificationService=i;let n=new g["a"](e);this.listenersToRemove.add(n),this.listenersToRemove.add(n.onMouseMoveOrRelevantKeyDown(([e,t])=>{this._onEditorMouseMove(e,t)})),this.listenersToRemove.add(n.onExecute(e=>{this.onEditorMouseUp(e)})),this.listenersToRemove.add(n.onCancel(e=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(62),this.listenersToRemove.add(e.onDidChangeConfiguration(t=>{const i=e.getOption(62);this.enabled!==i&&(this.enabled=i,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(e=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(e=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(e=>this.onModelModeChanged())),this.listenersToRemove.add(h["v"].onDidChange(e=>this.onModelModeChanged())),this.timeout=new o["g"],this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),e.RECOMPUTE_TIME)}beginCompute(){return R(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(h["v"].has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=o["h"](t=>x(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){Object(r["f"])(t)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(69);let i=[],n=Object.keys(this.currentOccurrences);for(let r=0,a=n.length;r<a;r++){let e=n[r],t=this.currentOccurrences[e];i.push(t.decorationId)}let o=[];if(e)for(const r of e)o.push(P.decoration(r,t));let s=this.editor.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let r=0,a=s.length;r<a;r++){let t=new P(e[r],s[r]);this.currentOccurrences[t.decorationId]=t}}_onEditorMouseMove(e,t){const i="altKey"===this.editor.getOption(69);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations(e=>{t.activate(e,i),this.activeLinkDecorationId=t.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(69);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:o}=e;o.resolve(s["a"].None).then(e=>{if("string"===typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===D["c"].file&&e.startsWith(D["c"].file+":")){const i=p["a"].parse(e);if(i.scheme===D["c"].file){const n=N["i"](i);let o=null;n.startsWith("/./")?o="."+n.substr(1):n.startsWith("//./")&&(o="."+n.substr(2)),o&&(e=N["g"](t,o))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0})},e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(n["a"]("invalid.url","Failed to open this link because it is not well-formed: {0}",o.url.toString())):"missing"===t?this.notificationService.warn(n["a"]("missing.url","Failed to open this link because its target is missing.")):Object(r["f"])(e)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const e=this.currentOccurrences[i.id];if(e)return e}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};j.ID="editor.linkDetector",j.RECOMPUTE_TIME=1e3,j=M([E(1,_["a"]),E(2,I["a"])],j);class A extends c["b"]{constructor(){super({id:"editor.action.openLink",label:n["a"]("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=j.get(t);if(!i)return;if(!t.hasModel())return;let n=t.getSelections();for(let o of n){let e=i.getLinkOccurrence(o.getEndPosition());e&&i.openLinkOccurrence(e,!1)}}}Object(c["l"])(j.ID,j),Object(c["j"])(A),Object(y["f"])((e,t)=>{const i=e.getColor(O["q"]);i&&t.addRule(`.monaco-editor .detected-link-active { color: ${i} !important; }`)})},"3dbb":function(e,t,i){"use strict";i.d(t,"a",(function(){return ke})),i.d(t,"d",(function(){return Ae})),i.d(t,"b",(function(){return Ue})),i.d(t,"c",(function(){return We}));var n,o=i("71e2"),s=i("9550"),r=i("a55e"),a=(i("11ea"),i("9ffb")),l=i("537c"),d=i("38cf"),c=i("2dd7"),u=i("3935"),h=i("ae6d"),g=i("5433"),p=i("6632"),m=i("3f16"),f=i("abda"),b=i("662c"),v=i("35bf"),C=i("85cf"),L=i("fa9c"),w=i("b9ab"),S=i("321b"),x=i("2279"),I=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},_=function(e,t){return function(i,n){t(i,n,e)}};const O=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("editorGhostText",{createHTML:e=>e});let y=class extends o["a"]{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(D,this.editor)),this.additionalLinesWidget=this._register(new M(this.editor)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(e=>{(e.hasChanged(28)||e.hasChanged(105)||e.hasChanged(88)||e.hasChanged(82)||e.hasChanged(43)||e.hasChanged(42)||e.hasChanged(58))&&this.update()})),this._register(Object(o["i"])(()=>{var e;this.disposed=!0,this.update(),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const i=new Array,n=new Array;function o(e,t){if(n.length>0){const i=n[n.length-1];t&&i.decorations.push(new w["a"](i.content.length+1,i.content.length+1+e[0].length,t,0)),i.content+=e[0],e=e.slice(1)}for(const i of e)n.push({content:i,decorations:t?[new w["a"](1,i.length+1,t,0)]:[]})}const s=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let r=void 0,a=0;for(const l of t.parts){let e=l.lines;void 0===r?(i.push({column:l.column,text:e[0],preview:l.preview}),e=e.slice(1)):o([s.substring(a,l.column-1)],void 0),e.length>0&&(o(e,"ghost-text"),void 0===r&&l.column<=s.length&&(r=l.column)),a=l.column-1}void 0!==r&&o([s.substring(a)],void 0),this.partsWidget.setParts(t.lineNumber,i,void 0!==r?{column:r,length:s.length+1-r}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),t.parts.some(e=>e.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new f["a"](t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){const n=this.editor.getOption(42),s=document.createElement("div");s.className="suggest-preview-additional-widget",p["a"].applyFontInfoSlow(s,n);const r=document.createElement("span");r.className="content-spacer",r.append(t),s.append(r);const l=document.createElement("span");l.className="content-newline suggest-preview-text",l.append("⏎  "),s.append(l);const d=new o["b"],c=document.createElement("div");return c.className="button suggest-preview-text",c.append(`+${i} lines…`),d.add(a["o"](c,"mousedown",e=>{var t;null===(t=this.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),this.editor.focus()})),s.append(c),new T(this.editor,e,s,d)}};y=I([_(2,x["a"])],y);let D=class{constructor(e,t,i,n){this.editor=e,this.codeEditorService=t,this.themeService=i,this.contextKeyService=n,this.decorationIds=[],this.disposableStore=new o["b"]}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,i){this.disposableStore.clear();const n=this.themeService.getColorTheme(),o=n.getColor(v["y"]);let s=void 0,r=void 0;o&&(s=String(o.rgba.a),r=C["a"].Format.CSS.format(N(o)));const a=n.getColor(v["x"]);let d=void 0;a&&(d="2px dashed "+a);const c=this.editor.getModel();if(!c)return;const{tabSize:u}=c.getOptions(),h=c.getLineContent(e)||"";let g=0,p="";const m=new Array;i&&m.push({range:l["a"].fromPositions(new f["a"](e,i.column),new f["a"](e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const b=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),L=void 0===b||!!b;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(t=>{p+=h.substring(g,t.column-1),g=t.column-1;const i=L?t.text:this.renderSingleLineText(t.text,p,u,!1),n=this.disposableStore.add(k(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:i,opacity:s,color:r,border:d,fontWeight:t.preview?"bold":"normal"}}));return{range:l["a"].fromPositions(new f["a"](e,t.column)),options:L?{description:"ghost-text",after:{content:i,inlineClassName:t.preview?"ghost-text-decoration-preview":"ghost-text-decoration"}}:Object.assign({},n.resolve())}}).concat(m))}renderSingleLineText(e,t,i,n){const o=t+e,s=L["a"].visibleColumnsByColumns(o,i);let r="",a=t.length+1;for(const l of e){if("\t"===l){const e=s[a+1]-s[a];if(n){r+="→";for(let t=1;t<e;t++)r+=" "}else for(let t=0;t<e;t++)r+=" "}else r+=" "===l?n?"·":" ":l;a+=1}return r}};function N(e){const{r:t,b:i,g:n}=e.rgba;return new C["a"](new C["c"](t,n,i,255))}D=I([_(1,d["a"]),_(2,b["b"]),_(3,S["b"])],D);class M{constructor(e){this.editor=e,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const n=this.editor.getModel();if(!n)return;const{tabSize:o}=n.getOptions();this.editor.changeViewZones(n=>{this._viewZoneId&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0);const s=Math.max(t.length,i);if(s>0){const i=document.createElement("div");E(i,o,t,this.editor.getOptions()),this._viewZoneId=n.addZone({afterLineNumber:e,heightInLines:s,domNode:i})}})}}function E(e,t,i,n){const o=n.get(28),s=n.get(105),r="none",a=n.get(82),l=n.get(43),d=n.get(42),f=n.get(58),b=Object(g["a"])(1e4);b.appendASCIIString('<div class="suggest-preview-text">');for(let g=0,p=i.length;g<p;g++){const e=i[g],n=e.content;b.appendASCIIString('<div class="view-line'),b.appendASCIIString('" style="top:'),b.appendASCIIString(String(g*f)),b.appendASCIIString('px;width:1000000px;">');const p=c["A"](n),v=c["m"](n),C=m["a"].createEmpty(n);Object(u["d"])(new u["c"](d.isMonospace&&!o,d.canUseHalfwidthRightwardsArrow,n,!1,p,v,0,C,e.decorations,t,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,s,r,a,l!==h["e"].OFF,null),b),b.appendASCIIString("</div>")}b.appendASCIIString("</div>"),p["a"].applyFontInfoSlow(e,d);const v=b.build(),C=O?O.createHTML(v):v;e.innerHTML=C}let R=0;function k(e,t,i,n){const o=i+R++;return e.registerDecorationType(t,o,n),{dispose(){e.removeDecorationType(o)},resolve(){return e.resolveDecorationOptions(o,!0)}}}class T extends o["a"]{constructor(e,t,i,n){super(),this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(n),this._register(Object(o["i"])(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}Object(b["f"])((e,t)=>{const i=e.getColor(v["y"]);if(i){const e=String(i.rgba.a),n=C["a"].Format.CSS.format(N(i));t.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${e}; color: ${n}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${i.toString()}; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${e}; color: ${n}; }`)}const n=e.getColor(v["x"]);n&&t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ${n}; }`)});var P=i("05b0"),j=i("ae74"),A=i("65cd"),U=i("c59a"),W=i("5ee7"),V=i("2b64"),F=i("63e9"),K=i("646b"),z=i("c1df");class H{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(0===this.parts.length)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1),n=$(i,this.parts.map(e=>({range:{startLineNumber:1,endLineNumber:1,startColumn:e.column,endColumn:e.column},text:e.lines.join("\n")})));return n.substring(this.parts[0].column-1)}}class q{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}function $(e,t){const i=new q(e),n=t.map(e=>{const t=l["a"].lift(e.range);return{startOffset:i.getOffset(t.getStartPosition()),endOffset:i.getOffset(t.getEndPosition()),text:e.text}});n.sort((e,t)=>t.startOffset-e.startOffset);for(const o of n)e=e.substring(0,o.startOffset)+o.text+e.substring(o.endOffset);return e}class B{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}}class Z extends o["a"]{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new W["b"],this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(106)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var G=i("317f");function J(e,t,i,n,o=0){if(e.range.startLineNumber!==e.range.endLineNumber)return;const s=e.text.length,r=s-o,a=t.getValueInRange(e.range),l=X(a,e.text),d=e.range.startLineNumber,u=new Array;if("prefix"===i){const e=l.filter(e=>0===e.originalLength);if(e.length>1||1===e.length&&e[0].originalStart!==a.length)return}for(const h of l){const o=e.range.startColumn+h.originalStart+h.originalLength;if("subwordSmart"===i&&n&&n.lineNumber===e.range.startLineNumber&&o<n.column)return;if(h.originalLength>0){const e=a.substr(h.originalStart,h.originalLength),i=t.getLineFirstNonWhitespaceColumn(d);if(!/^(\t| )*$/.test(e)||!(0===i||o<=i))return}if(0===h.modifiedLength)continue;const s=h.modifiedStart+h.modifiedLength,l=Math.max(h.modifiedStart,Math.min(s,r)),g=e.text.substring(h.modifiedStart,l),p=e.text.substring(l,Math.max(h.modifiedStart,s));if(g.length>0){const e=c["Q"](g);u.push(new B(o,e,!1))}if(p.length>0){const e=c["Q"](p);u.push(new B(o,e,!0))}}return new H(d,u,0)}let Q=void 0;function X(e,t){if((null===Q||void 0===Q?void 0:Q.originalValue)===e&&(null===Q||void 0===Q?void 0:Q.newValue)===t)return null===Q||void 0===Q?void 0:Q.changes;{const i=Y(e,t);return Q={originalValue:e,newValue:t,changes:i},i}}function Y(e,t){function i(e){let t=0;for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);n>t&&(t=n)}return t}const n=Math.max(i(e),i(t));function o(e){if(e<0)throw new Error("unexpected");return n+e+1}function s(e){let t=0,i=0;const n=new Int32Array(e.length);for(let s=0,r=e.length;s<r;s++){const r=100*i+t;"("===e[s]?(n[s]=o(2*r),t++):")"===e[s]?(n[s]=o(2*r+1),1===t&&i++,t=Math.max(t-1,0)):n[s]=e.charCodeAt(s)}return n}const r=s(e),a=s(t);return new G["a"]({getElements:()=>r},{getElements:()=>a}).ComputeDiff(!1).changes}const ee="editor.action.inlineSuggest.commit";var te=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},ie=function(e,t){return function(i,n){t(i,n,e)}},ne=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):o(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let oe=class extends o["a"]{constructor(e,t,i){super(),this.editor=e,this.cache=t,this.commandService=i,this.onDidChangeEmitter=new W["b"],this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new o["d"]),this.active=!1,this.disposed=!1,this._register(i.onDidExecuteCommand(t=>{const i=new Set([s["i"].id,s["g"].id,z["a"].Tab.id,z["a"].DeleteLeft.id,z["a"].DeleteRight.id,ee,"acceptSelectedSuggestion"]);i.has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(e=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.session&&!this.session.isValid&&this.hide()})),this._register(Object(o["i"])(()=>{this.disposed=!0}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){const e=this.editor.getOption(54);e.enabled&&(this.session&&this.session.isValid||this.trigger(V["s"].Automatic))}trigger(e){this.completionSession.value?e===V["s"].Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new se(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return ne(this,void 0,void 0,(function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};oe=te([ie(2,K["b"])],oe);class se extends Z{constructor(e,t,i,n,s,r){super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=n,this.cache=s,this.initialTriggerKind=r,this.minReservedLineCount=0,this.updateOperation=this._register(new o["d"]),this.updateSoon=this._register(new j["e"](()=>{let e=this.initialTriggerKind;return this.initialTriggerKind=V["s"].Automatic,this.update(e)},50)),this.currentlySelectedCompletionId=void 0;let a=void 0;this._register(this.onDidChange(()=>{const e=this.currentCompletion;if(e&&e.sourceInlineCompletion!==a){a=e.sourceInlineCompletion;const t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,a)}})),this._register(Object(o["i"])(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(e=>{this.scheduleAutomaticUpdate()})),this._register(V["t"].onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return ne(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var e;return ne(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return ne(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===V["s"].Explicit?yield this.updateOperation.value.promise:yield this.update(V["s"].Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==V["s"].Explicit&&(yield this.update(V["s"].Explicit))}))}hasMultipleInlineCompletions(){var e;return ne(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1}))}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(54).mode;return e?J(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return ne(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),i=Object(j["h"])(i=>ne(this,void 0,void 0,(function*(){let n;try{n=yield ce(t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},i)}catch(o){return void Object(U["f"])(o)}i.isCancellationRequested||(this.cache.setValue(this.editor,n,e),this.onDidChangeEmitter.fire())}))),n=new re(i,e);this.updateOperation.value=n,yield i,this.updateOperation.value===n&&this.updateOperation.clear()}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[F["a"].replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null===t||void 0===t||t.dispose()}).then(void 0,U["g"]):null===t||void 0===t||t.dispose(),this.onDidChangeEmitter.fire()}}class re{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class ae extends o["a"]{constructor(e,t,i,n){super(),this.triggerKind=n;const s=e.deltaDecorations([],t.items.map(e=>({range:e.range,options:{description:"inline-completion-tracking-range"}})));this._register(Object(o["i"])(()=>{e.deltaDecorations(s,[])})),this.completions=t.items.map((e,t)=>new le(e,s[t])),this._register(e.onDidChangeModelContent(()=>{let t=!1;const n=e.getModel();for(const e of this.completions){const i=n.getDecorationRange(e.decorationId);i?e.synchronizedRange.equalsRange(i)||(t=!0,e.synchronizedRange=i):Object(U["f"])(new Error("Decoration has no range"))}t&&i()})),this._register(t)}}class le{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function de(e,t){const i=t.getWordAtPosition(e),n=t.getLineMaxColumn(e.lineNumber);return i?new l["a"](e.lineNumber,i.startColumn,e.lineNumber,n):l["a"].fromPositions(e,e.with(void 0,n))}function ce(e,t,i,n=A["a"].None){return ne(this,void 0,void 0,(function*(){const o=de(e,t),s=V["t"].all(t),r=yield Promise.all(s.map(o=>ne(this,void 0,void 0,(function*(){const s=yield o.provideInlineCompletions(t,e,i,n);return{completions:s,provider:o,dispose:()=>{s&&o.freeInlineCompletions(s)}}})))),a=new Map;for(const e of r){const t=e.completions;if(t)for(const i of t.items.map(i=>({text:i.text,range:i.range?l["a"].lift(i.range):o,command:i.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:i})))i.range.startLineNumber===i.range.endLineNumber&&a.set(JSON.stringify({text:i.text,range:i.range}),i)}return{items:[...a.values()],dispose:()=>{for(const e of r)e.dispose()}}}))}var ue=i("feaf"),he=i("052a"),ge=i("7473");class pe extends o["a"]{constructor(e){super(),this.editor=e,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new W["b"],this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new j["e"](()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const t=ge["a"].get(this.editor);if(t){let e=!1;const i=()=>{e||(e=!0,this._register(t.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(t.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(t.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(W["c"].once(t.model.onDidTrigger)(e=>{i()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(e){const t=this.getInlineCompletion();let i=!1;this._currentInlineCompletion!==t&&(this._currentInlineCompletion=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const e=ge["a"].get(this.editor);if(!e)return;if(!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();return t?me(e,this.editor.getPosition(),t,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const e=ge["a"].get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=ge["a"].get(this.editor);e&&e.forceRenderingAbove()}}function me(e,t,i,n){const o=i.item;if(Array.isArray(o.completion.additionalTextEdits)&&o.completion.additionalTextEdits.length>0)return{text:"",range:l["a"].fromPositions(t,t)};let{insertText:s}=o.completion;if(4&o.completion.insertTextRules){const i=(new ue["c"]).parse(s),n=e.editor.getModel();he["a"].adjustWhitespace(n,t,i,!0,!0),s=i.toString()}const r=e.getOverwriteInfo(o,n);return{text:s,range:l["a"].fromPositions(t.delta(0,-r.overwriteBefore),t.delta(0,Math.max(r.overwriteAfter,0)))}}var fe=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):o(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class be extends Z{constructor(e,t){super(e),this.cache=t,this.suggestionInlineCompletionSource=this._register(new pe(this.editor)),this.updateOperation=this._register(new o["d"]),this.updateCacheSoon=this._register(new j["e"](()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule();const e=this.suggestionInlineCompletionSource.state;e||(this.minReservedLineCount=0);const t=this.ghostText;t&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,ve(t.parts.map(e=>e.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register(Object(o["i"])(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){const e=this.editor.getOption(106);return e.preview}updateCache(){return fe(this,void 0,void 0,(function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItemAsInlineCompletion)return;const t={text:e.selectedItemAsInlineCompletion.text,range:e.selectedItemAsInlineCompletion.range},i=this.editor.getPosition(),n=Object(j["h"])(e=>fe(this,void 0,void 0,(function*(){let n;try{n=yield ce(i,this.editor.getModel(),{triggerKind:V["s"].Automatic,selectedSuggestionInfo:t},e)}catch(o){return void Object(U["f"])(o)}e.isCancellationRequested||(this.cache.setValue(this.editor,n,V["s"].Automatic),this.onDidChangeEmitter.fire())}))),o=new re(n,V["s"].Automatic);this.updateOperation.value=o,yield n,this.updateOperation.value===o&&this.updateOperation.clear()}))}get ghostText(){var e,t;const i=this.suggestionInlineCompletionSource.state,n=we(this.editor.getModel(),null===i||void 0===i?void 0:i.selectedItemAsInlineCompletion),o=we(this.editor.getModel(),null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()),s=o&&n&&o.text.startsWith(n.text)&&o.range.equalsRange(n.range)?o:n||o,r=n?((null===s||void 0===s?void 0:s.text.length)||0)-n.text.length:0,a=e=>{const t=this.editor.getOptions().get(106).previewMode;return e?J(e,this.editor.getModel(),t,this.editor.getPosition(),r)||new H(e.range.endLineNumber,[],this.minReservedLineCount):void 0},l=a(s);return this.isSuggestionPreviewEnabled()?l:void 0}}function ve(e){return e.reduce((e,t)=>e+t,0)}function Ce(e,t){let i=0;while(i<e.length&&i<t.length&&e[i]===t[i])i++;return i}function Le(e,t){let i=0;while(i<e.length&&i<t.length&&e[e.length-i-1]===t[t.length-i-1])i++;return i}function we(e,t){if(!t)return t;const i=e.getValueInRange(t.range),n=Ce(i,t.text),o=e.getOffsetAt(t.range.getStartPosition())+n,s=e.getPositionAt(o),r=i.substr(n),a=Le(r,t.text),d=e.getPositionAt(Math.max(o,e.getOffsetAt(t.range.getEndPosition())-a));return{range:l["a"].fromPositions(s,d),text:t.text.substr(n,t.text.length-n-a)}}function Se(e,t){return{object:e,dispose:()=>null===t||void 0===t?void 0:t.dispose()}}var xe=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Ie=function(e,t){return function(i,n){t(i,n,e)}},_e=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):o(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Oe extends o["a"]{constructor(){super(...arguments),this.onDidChangeEmitter=new W["b"],this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new o["d"])}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?Se(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let ye=class extends Oe{constructor(e,t){super(),this.editor=e,this.commandService=t,this.sharedCache=this._register(new De),this.suggestWidgetAdapterModel=this._register(new be(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new oe(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const i=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!i&&i.parts.some(t=>e.containsPosition(new f["a"](i.lineNumber,t.column)))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger(V["s"].Explicit)}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e;return _e(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};ye=xe([Ie(1,K["b"])],ye);class De extends o["a"]{constructor(){super(...arguments),this.onDidChangeEmitter=new W["b"],this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new o["d"])}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new ae(e,t,()=>this.onDidChangeEmitter.fire(),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var Ne=i("f49e"),Me=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Ee=function(e,t){return function(i,n){t(i,n,e)}},Re=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):o(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let ke=class e extends o["a"]{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new o["d"]),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(106)&&this.updateModelController(),e.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(e.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(106),t=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Pe,this.editor):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return(null===(i=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Re(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};ke.inlineSuggestionVisible=new S["c"]("inlineSuggestionVisible",!1,P["a"]("inlineSuggestionVisible","Whether an inline suggestion is visible")),ke.inlineSuggestionHasIndentation=new S["c"]("inlineSuggestionHasIndentation",!1,P["a"]("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),ke.ID="editor.contrib.ghostTextController",ke=Me([Ee(1,x["a"])],ke);class Te{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=ke.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=ke.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}}let Pe=class extends o["a"]{constructor(e,t,i){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new Te(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(ye,this.editor)),this.widget=this._register(this.instantiationService.createInstance(y,this.editor,this.model)),this._register(Object(o["i"])(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));const t=this.model.inlineCompletionsModel.ghostText;if(t&&t.parts.length>0){const{column:e,lines:i}=t.parts[0],n=i[0].startsWith(" ")||i[0].startsWith("\t"),o=this.editor.getModel().getLineIndentColumn(t.lineNumber),s=e<=o;this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&n&&s)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}};Pe=Me([Ee(1,x["a"]),Ee(2,S["b"])],Pe);const je=s["c"].bindToContribution(ke.get),Ae=new je({id:ee,precondition:ke.inlineSuggestionVisible,handler(e){e.commit(),e.editor.focus()}});Object(s["k"])(Ae),Ne["a"].registerKeybindingRule({primary:2,weight:200,id:Ae.id,when:S["a"].and(Ae.precondition,r["a"].tabMovesFocus.toNegated(),ke.inlineSuggestionHasIndentation.toNegated())}),Object(s["k"])(new je({id:"editor.action.inlineSuggest.hide",precondition:ke.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}));class Ue extends s["b"]{constructor(){super({id:Ue.ID,label:P["a"]("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:S["a"].and(r["a"].writable,ke.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return Re(this,void 0,void 0,(function*(){const e=ke.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}}Ue.ID="editor.action.inlineSuggest.showNext";class We extends s["b"]{constructor(){super({id:We.ID,label:P["a"]("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:S["a"].and(r["a"].writable,ke.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return Re(this,void 0,void 0,(function*(){const e=ke.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}}We.ID="editor.action.inlineSuggest.showPrevious";class Ve extends s["b"]{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:P["a"]("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:r["a"].writable})}run(e,t){return Re(this,void 0,void 0,(function*(){const e=ke.get(t);e&&e.trigger()}))}}Object(s["l"])(ke.ID,ke),Object(s["j"])(Ve),Object(s["j"])(Ue),Object(s["j"])(We)},"4ea7":function(e,t,i){"use strict";var n=i("05b0"),o=i("537c"),s=i("a24f"),r=i("a55e"),a=i("9550"),l=i("1f37");class d{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations(),n=i[0].range;return this._originalSelection.isEmpty()?new s["a"](n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new s["a"](n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}var c=i("c794"),u=i("662c"),h=i("35bf"),g=i("9afb"),p=i("ae74"),m=i("c59a"),f=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},b=function(e,t){return function(i,n){t(i,n,e)}};let v=class e{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,i){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),r=this.editor.getModel();if(!r||!n)return;let a=n;if(a.startLineNumber!==a.endLineNumber)return;const l=new c["a"](this.editor,5),u=r.uri;return this.editorWorkerService.canNavigateValueSet(u)?(this.currentRequest=Object(p["h"])(e=>this.editorWorkerService.navigateValueSet(u,a,i)),this.currentRequest.then(i=>{if(!i||!i.range||!i.value)return;if(!l.validate(this.editor))return;let n=o["a"].lift(i.range),r=i.range,c=i.value.length-(a.endColumn-a.startColumn);r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.startColumn+i.value.length},c>1&&(a=new s["a"](a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+c-1));const u=new d(n,a,i.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,u),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:r,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Object(p["n"])(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(m["f"])}).catch(m["f"])):Promise.resolve(void 0)}};v.ID="editor.contrib.inPlaceReplaceController",v.DECORATION=g["a"].register({description:"in-place-replace",className:"valueSetReplacement"}),v=f([b(1,l["a"])],v);class C extends a["b"]{constructor(){super({id:"editor.action.inPlaceReplace.up",label:n["a"]("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:r["a"].writable,kbOpts:{kbExpr:r["a"].editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=v.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}class L extends a["b"]{constructor(){super({id:"editor.action.inPlaceReplace.down",label:n["a"]("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:r["a"].writable,kbOpts:{kbExpr:r["a"].editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=v.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}Object(a["l"])(v.ID,v),Object(a["j"])(C),Object(a["j"])(L),Object(u["f"])((e,t)=>{const i=e.getColor(h["k"]);i&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${i}; }`)})},"53b8":function(e,t,i){"use strict";var n=i("ae74"),o=i("c59a"),s=i("7101"),r=i("71e2"),a=i("9550"),l=i("38cf"),d=i("2b64"),c=i("1c57"),u=i("09ad"),h=i("65cd"),g=i("662c"),p=i("537c"),m=i("d1b6"),f=i("646b"),b=i("aac4"),v=i("a0e2"),C=i("e0b6"),L=i("abda"),w=i("d9c9"),S=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},x=function(e,t){return function(i,n){t(i,n,e)}},I=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):o(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const _=500;function O(e,t,i){return I(this,void 0,void 0,(function*(){const n=[],s=d["r"].ordered(e).reverse(),r=Object(c["k"])(s.map(s=>t.map(t=>Promise.resolve(s.provideInlayHints(e,t,i)).then(e=>{const i=null===e||void 0===e?void 0:e.filter(e=>t.containsPosition(e.position));(null===i||void 0===i?void 0:i.length)&&n.push({list:i,provider:s})},e=>{Object(o["g"])(e)}))));return yield Promise.all(r),n}))}let y=class{constructor(e,t,i,n){this._editor=e,this._codeEditorService=t,this._themeService=i,this._configurationService=n,this._disposables=new r["b"],this._sessionDisposables=new r["b"],this._getInlayHintsDelays=new m["b"](d["r"],25,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(d["r"].onDidChange(()=>this._update())),this._disposables.add(i.onDidColorThemeChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(e=>{e.hasChanged(126)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(126).enabled)return void this._removeAllDecorations();const e=this._editor.getModel();if(!e||!d["r"].has(e))return void this._removeAllDecorations();const t=new n["e"](()=>I(this,void 0,void 0,(function*(){const i=Date.now(),n=new h["b"];this._sessionDisposables.add(Object(r["i"])(()=>n.dispose(!0)));const o=this._editor.getVisibleRangesPlusViewportAboveBelow(),s=yield O(e,o,n.token),a=this._getInlayHintsDelays.update(e,Date.now()-i);t.delay=a,this._updateHintsDecorators(s)})),this._getInlayHintsDelays.get(e));this._sessionDisposables.add(t),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>t.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>t.schedule())),t.schedule();const i=new r["b"];this._sessionDisposables.add(i);for(const n of d["r"].all(e))"function"===typeof n.onDidChangeInlayHints&&i.add(n.onDidChangeInlayHints(()=>t.schedule()))}_updateHintsDecorators(e){const{fontSize:t,fontFamily:i}=this._getLayoutInfo(),n=this._themeService.getColorTheme().getColor(u["N"]),o=this._themeService.getColorTheme().getColor(u["O"]),r=[],a=[],l="--inlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(l,i);const d=this._configurationService.getValue("editor.useInjectedText"),c=void 0===d||!!d;for(const{list:u}of e)for(let e=0;e<u.length&&a.length<_;e++){const{text:i,position:d,whitespaceBefore:h,whitespaceAfter:g}=u[e],m=h?t/3|0:0,f=g?t/3|0:0,b=D(i),v={contentText:b,backgroundColor:""+n,color:""+o,margin:`0px ${f}px 0px ${m}px`,fontSize:t+"px",fontFamily:`var(${l})`,padding:`0px ${t/4|0}px`,borderRadius:(t/4|0)+"px",verticalAlign:"middle"},C="inlayHints-"+Object(s["c"])(v).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",C,c?{beforeInjectedText:Object.assign(Object.assign({},v),{affectsLetterSpacing:!0})}:{before:v},void 0,this._editor),r.push(C);const L=this._codeEditorService.resolveDecorationOptions(C,!0);a.push({range:p["a"].fromPositions(d),options:L})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=r,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,a)}_getLayoutInfo(){const e=this._editor.getOption(126),t=this._editor.getOption(44);let i=e.fontSize;(!i||i<5||i>t)&&(i=.9*t|0);const n=e.fontFamily||this._editor.getOption(41);return{fontSize:i,fontFamily:n}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};function D(e){const t=" ";return e.replace(/[ \t]/g,t)}y.ID="editor.contrib.InlayHints",y=S([x(1,l["a"]),x(2,g["b"]),x(3,w["a"])],y),Object(a["l"])(y.ID,y),f["a"].registerCommand("_executeInlayHintProvider",(e,...t)=>I(void 0,void 0,void 0,(function*(){const[i,n]=t;Object(v["c"])(b["a"].isUri(i)),Object(v["c"])(p["a"].isIRange(n));const o=yield e.get(C["a"]).createModelReference(i);try{const e=yield O(o.object.textEditorModel,[p["a"].lift(n)],h["a"].None);return Object(c["k"])(e.map(e=>e.list)).sort((e,t)=>L["a"].compare(e.position,t.position))}finally{o.dispose()}})))},"53c7":function(e,t,i){"use strict";var n=i("05b0"),o=i("71e2"),s=i("2dd7"),r=i("9550"),a=i("4c65"),l=i("63e9"),d=i("537c"),c=i("a24f"),u=i("a55e"),h=i("9afb"),g=i("31eb"),p=i("7cfc"),m=i("b2e4"),f=i("0d60");function b(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];let o=g["a"].getIndentationRules(e.getLanguageIdentifier().id);if(!o)return[];i=Math.min(i,e.getLineCount());while(t<=i){if(!o.unIndentedLinePattern)break;let i=e.getLineContent(t);if(!o.unIndentedLinePattern.test(i))break;t++}if(t>i-1)return[];const{tabSize:r,indentSize:d,insertSpaces:u}=e.getOptions(),p=(e,t)=>(t=t||1,a["a"].shiftIndent(e,e.length+t,r,d,u)),m=(e,t)=>(t=t||1,a["a"].unshiftIndent(e,e.length+t,r,d,u));let f,b=[],v=e.getLineContent(t),C=v;if(void 0!==n&&null!==n){f=n;let e=s["x"](v);C=f+v.substring(e.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(C)&&(f=m(f),C=f+v.substring(e.length)),v!==C&&b.push(l["a"].replaceMove(new c["a"](t,1,t,e.length+1),h["b"].normalizeIndentation(f,d,u)))}else f=s["x"](v);let L=f;o.increaseIndentPattern&&o.increaseIndentPattern.test(C)?(L=p(L),f=p(f)):o.indentNextLinePattern&&o.indentNextLinePattern.test(C)&&(L=p(L)),t++;for(let a=t;a<=i;a++){let t=e.getLineContent(a),i=s["x"](t),n=L+t.substring(i.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(n)&&(L=m(L),f=m(f)),i!==L&&b.push(l["a"].replaceMove(new c["a"](a,1,a,i.length+1),h["b"].normalizeIndentation(L,d,u))),o.unIndentedLinePattern&&o.unIndentedLinePattern.test(t)||(o.increaseIndentPattern&&o.increaseIndentPattern.test(n)?(f=p(f),L=f):L=o.indentNextLinePattern&&o.indentNextLinePattern.test(n)?p(L):f)}return b}class v extends r["b"]{constructor(){super({id:v.ID,label:n["a"]("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:u["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new N(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}v.ID="editor.action.indentationToSpaces";class C extends r["b"]{constructor(){super({id:C.ID,label:n["a"]("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:u["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new M(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}C.ID="editor.action.indentationToTabs";class L extends r["b"]{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const i=e.get(f["a"]),o=e.get(p["a"]);let s=t.getModel();if(!s)return;let r=o.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget);const a=[1,2,3,4,5,6,7,8].map(e=>({id:e.toString(),label:e.toString(),description:e===r.tabSize?n["a"]("configuredTabSize","Configured Tab Size"):void 0})),l=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:n["a"]({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then(e=>{e&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})})},50)}}class w extends L{constructor(){super(!1,{id:w.ID,label:n["a"]("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}w.ID="editor.action.indentUsingTabs";class S extends L{constructor(){super(!0,{id:S.ID,label:n["a"]("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}S.ID="editor.action.indentUsingSpaces";class x extends r["b"]{constructor(){super({id:x.ID,label:n["a"]("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(p["a"]);let n=t.getModel();if(!n)return;let o=i.getCreationOptions(n.getLanguageIdentifier().language,n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}x.ID="editor.action.detectIndentation";class I extends r["b"]{constructor(){super({id:"editor.action.reindentlines",label:n["a"]("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:u["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=b(i,1,i.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}}class _ extends r["b"]{constructor(){super({id:"editor.action.reindentselectedlines",label:n["a"]("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:u["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=t.getSelections();if(null===n)return;let o=[];for(let s of n){let e=s.startLineNumber,t=s.endLineNumber;if(e!==t&&1===s.endColumn&&t--,1===e){if(e===t)continue}else e--;let n=b(i,e,t);o.push(...n)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class O{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&"string"===typeof i.text&&this._edits.push(i)}getEditOperations(e,t){for(let n of this._edits)t.addEditOperation(d["a"].lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class y{constructor(e){this.callOnDispose=new o["b"],this.callOnModel=new o["b"],this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(46)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const i=this.editor.getModel();if(!i)return;if(!i.isCheapToTokenize(e.getStartPosition().lineNumber))return;const n=this.editor.getOption(9),{tabSize:o,indentSize:r,insertSpaces:l}=i.getOptions();let c=[],u={shiftIndent:e=>a["a"].shiftIndent(e,e.length+1,o,r,l),unshiftIndent:e=>a["a"].unshiftIndent(e,e.length+1,o,r,l)},h=e.startLineNumber;while(h<=e.endLineNumber){if(!this.shouldIgnoreLine(i,h))break;h++}if(h>e.endLineNumber)return;let p=i.getLineContent(h);if(!/\S/.test(p.substring(0,e.startColumn-1))){let e=g["a"].getGoodIndentForLine(n,i,i.getLanguageIdentifier().id,h,u);if(null!==e){let t=s["x"](p),n=m["b"](e,o),r=m["b"](t,o);if(n!==r){let e=m["a"](n,o,l);c.push({range:new d["a"](h,1,h,t.length+1),text:e}),p=e+p.substr(t.length)}else{let e=g["a"].getIndentMetadata(i,h);if(0===e||8===e)return}}}const f=h;while(h<e.endLineNumber){if(/\S/.test(i.getLineContent(h+1)))break;h++}if(h!==e.endLineNumber){let t={getLineTokens:e=>i.getLineTokens(e),getLanguageIdentifier:()=>i.getLanguageIdentifier(),getLanguageIdAtPosition:(e,t)=>i.getLanguageIdAtPosition(e,t),getLineContent:e=>e===f?p:i.getLineContent(e)},r=g["a"].getGoodIndentForLine(n,t,i.getLanguageIdentifier().id,h+1,u);if(null!==r){let t=m["b"](r,o),n=m["b"](s["x"](i.getLineContent(h+1)),o);if(t!==n){let r=t-n;for(let t=h+1;t<=e.endLineNumber;t++){let e=i.getLineContent(t),n=s["x"](e),a=m["b"](n,o),u=a+r,h=m["a"](u,o,l);h!==n&&c.push({range:new d["a"](t,1,t,n.length+1),text:h})}}}}if(c.length>0){this.editor.pushUndoStop();let e=new O(c,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;let n=e.getLineTokens(t);if(n.getCount()>0){let e=n.findTokenIndexAtOffset(i);if(e>=0&&1===n.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function D(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let r=0;r<i;r++)o+=" ";let s=new RegExp(o,"gi");for(let r=1,a=e.getLineCount();r<=a;r++){let i=e.getLineFirstNonWhitespaceColumn(r);if(0===i&&(i=e.getLineMaxColumn(r)),1===i)continue;const a=new d["a"](r,1,r,i),l=e.getValueInRange(a),c=n?l.replace(/\t/gi,o):l.replace(s,"\t");t.addEditOperation(a,c)}}y.ID="editor.contrib.autoIndentOnPaste";class N{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),D(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class M{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),D(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Object(r["l"])(y.ID,y),Object(r["j"])(v),Object(r["j"])(C),Object(r["j"])(w),Object(r["j"])(S),Object(r["j"])(x),Object(r["j"])(I),Object(r["j"])(_)},"9e25":function(e,t,i){"use strict";var n=i("05b0"),o=i("9550"),s=i("1c57"),r=i("71e2"),a=i("abda"),l=i("65cd"),d=i("537c"),c=i("2b64"),u=i("ae74"),h=i("9afb"),g=i("321b"),p=i("a55e"),m=i("aac4"),f=i("38cf"),b=i("c59a"),v=i("2dd7"),C=i("09ad"),L=i("662c"),w=i("85cf"),S=i("31eb"),x=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},I=function(e,t){return function(i,n){t(i,n,e)}},_=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):o(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const O=new g["c"]("LinkedEditingInputVisible",!1),y="linked-editing-decoration";let D=class e extends r["a"]{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new r["b"]),this._editor=e,this._enabled=!1,this._visibleContextKey=O.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new r["b"]),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(61)||e.hasChanged(81))&&this.reinitialize(!1)})),this._register(c["w"].onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel(),i=null!==t&&(this._editor.getOption(61)||this._editor.getOption(81))&&c["w"].has(t);if(i===this._enabled&&!e)return;if(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||null===t)return;this._languageWordPattern=S["a"].getWordDefinition(t.getLanguageIdentifier().id),this._localToDispose.add(t.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=S["a"].getWordDefinition(t.getLanguageIdentifier().id)}));const n=new u["a"](this._debounceDuration),o=()=>{this._rangeUpdateTriggerPromise=n.trigger(()=>this.updateRanges(),this._debounceDuration)},s=new u["a"](0),r=e=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(e))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const i=t.getDecorationRange(this._currentDecorations[0]);if(i&&e.changes.every(e=>i.intersectRanges(e.range)))return void r(this._currentDecorations)}o()})),this._localToDispose.add({dispose:()=>{n.cancel(),s.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),i=t.getDecorationRange(e[0]);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const n=t.getValueInRange(i);if(this._currentWordPattern){const e=n.match(this._currentWordPattern),t=e?e[0].length:0;if(t!==n.length)return this.clearRanges()}let o=[];for(let s=1,r=e.length;s<r;s++){const i=t.getDecorationRange(e[s]);if(i)if(i.startLineNumber!==i.endLineNumber)o.push({range:i,text:n});else{let e=t.getValueInRange(i),s=n,r=i.startColumn,a=i.endColumn;const l=v["d"](e,s);r+=l,e=e.substr(l),s=s.substr(l);const c=v["e"](e,s);a-=c,e=e.substr(0,e.length-c),s=s.substr(0,s.length-c),r===a&&0===s.length||o.push({range:new d["a"](i.startLineNumber,r,i.endLineNumber,a),text:s})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return _(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const i=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),o=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(i.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const e=n.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(i))return}}this._currentRequestPosition=i,this._currentRequestModelVersion=o;const s=Object(u["h"])(t=>_(this,void 0,void 0,(function*(){try{const r=yield E(n,i,t);if(s!==this._currentRequest)return;if(this._currentRequest=null,o!==n.getVersionId())return;let a=[];(null===r||void 0===r?void 0:r.ranges)&&(a=r.ranges),this._currentWordPattern=(null===r||void 0===r?void 0:r.wordPattern)||this._languageWordPattern;let l=!1;for(let e=0,t=a.length;e<t;e++)if(d["a"].containsPosition(a[e],i)){if(l=!0,0!==e){const t=a[e];a.splice(e,1),a.unshift(t)}break}if(!l)return void this.clearRanges();const c=a.map(t=>({range:t,options:e.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,c)}catch(r){Object(b["e"])(r)||Object(b["f"])(r),this._currentRequest!==s&&this._currentRequest||this.clearRanges()}})));return this._currentRequest=s,s}))}};D.ID="editor.contrib.linkedEditing",D.DECORATION=h["a"].register({description:"linked-editing",stickiness:0,className:y}),D=x([I(1,g["b"])],D);class N extends o["b"]{constructor(){super({id:"editor.action.linkedEditing",label:n["a"]("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:g["a"].and(p["a"].writable,p["a"].hasRenameProvider),kbOpts:{kbExpr:p["a"].editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(f["a"]),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return m["a"].isUri(n)&&a["a"].isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(o),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},b["f"]):super.runCommand(e,t)}run(e,t){const i=D.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const M=o["c"].bindToContribution(D.get);function E(e,t,i){const n=c["w"].ordered(e);return Object(u["j"])(n.map(n=>()=>_(this,void 0,void 0,(function*(){try{return yield n.provideLinkedEditingRanges(e,t,i)}catch(o){return void Object(b["g"])(o)}}))),e=>!!e&&s["n"](null===e||void 0===e?void 0:e.ranges))}Object(o["k"])(new M({id:"cancelLinkedEditingInput",precondition:O,handler:e=>e.clearRanges(),kbOpts:{kbExpr:p["a"].editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const R=Object(C["wc"])("editor.linkedEditingBackground",{dark:w["a"].fromHex("#f00").transparent(.3),light:w["a"].fromHex("#f00").transparent(.3),hc:w["a"].fromHex("#f00").transparent(.3)},n["a"]("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Object(L["f"])((e,t)=>{const i=e.getColor(R);i&&t.addRule(`.monaco-editor .${y} { background: ${i}; border-left-color: ${i}; }`)}),Object(o["n"])("_executeLinkedEditingProvider",(e,t)=>E(e,t,l["a"].None)),Object(o["l"])(D.ID,D),Object(o["j"])(N)},a125:function(e,t,i){"use strict";i.d(t,"a",(function(){return L}));var n=i("05b0"),o=i("a025"),s=i("537c"),r=i("71e2"),a=i("3dbb"),l=i("646b"),d=i("709e"),c=i("321b"),u=i("9ffb"),h=i("d3cf"),g=i("f319"),p=i("94fb"),m=i("9cfa"),f=i("4058"),b=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},v=function(e,t){return function(i,n){t(i,n,e)}};class C{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let L=class{constructor(e,t,i,n,o,s,r,a){this._editor=e,this._hover=t,this._commandService=i,this._menuService=n,this._contextKeyService=o,this._modeService=s,this._openerService=r,this.accessibilityService=a}suggestHoverAnchor(e){const t=a["a"].get(this._editor);if(!t)return null;if(8===e.target.type){const i=e.target.detail;if(t.shouldShowHoverAtViewZone(i.viewZoneId))return new o["a"](1e3,this,s["a"].fromPositions(i.positionBefore||i.position,i.positionBefore||i.position))}if(7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range))return new o["a"](1e3,this,e.target.range);if(6===e.target.type&&e.target.range&&e.target.detail){const i=e.target.detail.mightBeForeignElement;if(i&&t.shouldShowHoverAt(e.target.range))return new o["a"](1e3,this,e.target.range)}return null}computeSync(e,t){const i=a["a"].get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new C(this,e.range,i)]:[]}renderHoverParts(e,t,i){const o=new r["b"],s=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(s,t,o);const l=o.add(this._menuService.createMenu(d["b"].InlineCompletionsActions,this._contextKeyService)),c=i.addAction({label:n["a"]("showNextInlineSuggestion","Next"),commandId:a["b"].ID,run:()=>this._commandService.executeCommand(a["b"].ID)}),u=i.addAction({label:n["a"]("showPreviousInlineSuggestion","Previous"),commandId:a["c"].ID,run:()=>this._commandService.executeCommand(a["c"].ID)});i.addAction({label:n["a"]("acceptInlineSuggestion","Accept"),commandId:a["d"].id,run:()=>this._commandService.executeCommand(a["d"].id)});const h=[c,u];for(const n of h)n.setEnabled(!1);s.hasMultipleSuggestions().then(e=>{for(const t of h)t.setEnabled(e)});for(const[n,r]of l.getActions())for(const e of r)e instanceof d["c"]&&i.addAction({label:e.label,commandId:e.item.id,run:()=>this._commandService.executeCommand(e.item.id)});return o}renderScreenReaderText(e,t,i){var o,s;const r=u["a"],a=r("div.hover-row.markdown-hover"),l=u["q"](a,r("div.hover-contents")),d=i.add(new h["a"]({editor:this._editor},this._modeService,this._openerService)),c=e=>{i.add(d.onDidRenderAsync(()=>{l.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const t=n["a"]("inlineSuggestionFollows","Suggestion:"),o=i.add(d.render((new g["a"]).appendText(t).appendCodeblock("text",e)));l.replaceChildren(o.element)},p=null===(s=null===(o=e.controller.activeModel)||void 0===o?void 0:o.inlineCompletionsModel)||void 0===s?void 0:s.ghostText;if(p){const e=this._editor.getModel().getLineContent(p.lineNumber);c(p.renderForScreenReader(e))}t.appendChild(a)}};L=b([v(2,l["b"]),v(3,d["a"]),v(4,c["b"]),v(5,p["a"]),v(6,m["a"]),v(7,f["b"])],L)},b2e4:function(e,t,i){"use strict";function n(e,t){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function o(e,t,i){e=e<0?0:e;let n="";if(!i){let i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)n+="\t"}for(let o=0;o<e;o++)n+=" ";return n}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}))},ebd5:function(e,t,i){"use strict";var n=i("05b0"),o=i("11b8"),s=i("c1df"),r=i("9550"),a=i("94da"),l=i("aec4"),d=i("3ae5"),c=i("63e9"),u=i("abda"),h=i("537c"),g=i("a24f"),p=i("a55e");class m{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)n.push(e.getLineContent(s));const o=n.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new h["a"](i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new h["a"](i.startLineNumber,1,i.startLineNumber,1),o+"\n"):t.addEditOperation(new h["a"](i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,n=i.endLineNumber,o=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(n+=this._endLineNumberDelta,o=1),i=g["a"].createWithDirection(e,t,n,o,this._selectionDirection)}return i}}var f=i("2dd7"),b=i("4c65"),v=i("1871"),C=i("31eb"),L=i("b2e4");class w{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const{tabSize:o,indentSize:s,insertSpaces:r}=e.getOptions();let a=this.buildIndentConverter(o,s,r),l={getLineTokens:t=>e.getLineTokens(t),getLanguageIdentifier:()=>e.getLanguageIdentifier(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i),getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===e.getLineMaxColumn(n.startLineNumber)){let i=n.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new h["a"](1,1,1,1),null):(t.addEditOperation(new h["a"](i,1,i,1),e.getLineContent(o)),t.addEditOperation(new h["a"](o,1,o,e.getLineMaxColumn(o)),null)),n=new g["a"](o,1,o,1)}else{let i,s;if(this._isMovingDown){i=n.endLineNumber+1,s=e.getLineContent(i),t.addEditOperation(new h["a"](i-1,e.getLineMaxColumn(i-1),i,e.getLineMaxColumn(i)),null);let d=s;if(this.shouldAutoIndent(e,n)){let c=this.matchEnterRule(e,a,o,i,n.startLineNumber-1);if(null!==c){let t=f["x"](e.getLineContent(i)),n=c+L["b"](t,o),a=L["a"](n,o,r);d=a+this.trimLeft(s)}else{l.getLineContent=t=>t===n.startLineNumber?e.getLineContent(i):e.getLineContent(t);let t=C["a"].getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(i,1),n.startLineNumber,a);if(null!==t){let n=f["x"](e.getLineContent(i)),a=L["b"](t,o),l=L["b"](n,o);if(a!==l){let e=L["a"](a,o,r);d=e+this.trimLeft(s)}}}t.addEditOperation(new h["a"](n.startLineNumber,1,n.startLineNumber,1),d+"\n");let u=this.matchEnterRuleMovingDown(e,a,o,n.startLineNumber,i,d);if(null!==u)0!==u&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,u);else{l.getLineContent=t=>t===n.startLineNumber?d:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let s=C["a"].getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(i,1),n.startLineNumber+1,a);if(null!==s){const i=f["x"](e.getLineContent(n.startLineNumber)),a=L["b"](s,o),l=L["b"](i,o);if(a!==l){const i=a-l;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}else t.addEditOperation(new h["a"](n.startLineNumber,1,n.startLineNumber,1),d+"\n")}else if(i=n.startLineNumber-1,s=e.getLineContent(i),t.addEditOperation(new h["a"](i,1,i+1,1),null),t.addEditOperation(new h["a"](n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this.shouldAutoIndent(e,n)){l.getLineContent=t=>t===i?e.getLineContent(n.startLineNumber):e.getLineContent(t);let s=this.matchEnterRule(e,a,o,n.startLineNumber,n.startLineNumber-2);if(null!==s)0!==s&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,s);else{let s=C["a"].getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(n.startLineNumber,1),i,a);if(null!==s){let i=f["x"](e.getLineContent(n.startLineNumber)),a=L["b"](s,o),l=L["b"](i,o);if(a!==l){let i=a-l;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>b["a"].shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>b["a"].unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let s=o.indentation;o.indentAction===v["b"].None||o.indentAction===v["b"].Indent?s=o.indentation+o.appendText:o.indentAction===v["b"].IndentOutdent?s=o.indentation:o.indentAction===v["b"].Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);let r=e.getLineContent(n);if(this.trimLeft(r).indexOf(this.trimLeft(s))>=0){let o=f["x"](e.getLineContent(n)),r=f["x"](s),a=C["a"].getIndentMetadata(e,n);null!==a&&2&a&&(r=t.unshiftIndent(r));let l=L["b"](r,i),d=L["b"](o,i);return l-d}}return null}matchEnterRuleMovingDown(e,t,i,n,o,s){if(f["I"](s)>=0){let s=e.getLineMaxColumn(o),r=C["a"].getEnterAction(this._autoIndent,e,new h["a"](o,s,o,s));return this.parseEnterResult(e,t,i,n,r)}{let o=n-1;while(o>=1){let t=e.getLineContent(o),i=f["I"](t);if(i>=0)break;o--}if(o<1||n>e.getLineCount())return null;let s=e.getLineMaxColumn(o),r=C["a"].getEnterAction(this._autoIndent,e,new h["a"](o,s,o,s));return this.parseEnterResult(e,t,i,n,r)}}matchEnterRule(e,t,i,n,o,s){let r=o;while(r>=1){let t;t=r===o&&void 0!==s?s:e.getLineContent(r);let i=f["I"](t);if(i>=0)break;r--}if(r<1||n>e.getLineCount())return null;let a=e.getLineMaxColumn(r),l=C["a"].getEnterAction(this._autoIndent,e,new h["a"](r,a,r,a));return this.parseEnterResult(e,t,i,n,l)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1),n=e.getLanguageIdAtPosition(t.endLineNumber,1);return i===n&&null!==C["a"].getIndentRulesSupport(i)}getIndentEditsOfMovingBlock(e,t,i,n,o,s){for(let r=i.startLineNumber;r<=i.endLineNumber;r++){let a=e.getLineContent(r),l=f["x"](a),d=L["b"](l,n),c=d+s,u=L["a"](c,n,o);u!==l&&(t.addEditOperation(new h["a"](r,1,r,l.length+1),u),r===i.endLineNumber&&i.endColumn<=l.length+1&&""===u&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}}class S{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return S._COLLATOR||(S._COLLATOR=new Intl.Collator),S._COLLATOR}getEditOperations(e,t){let i=I(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;let n=x(e,t,i);if(!n)return!1;for(let o=0,s=n.before.length;o<s;o++)if(n.before[o]!==n.after[o])return!0;return!1}}function x(e,t,i){let n=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;let s=[];for(let a=n;a<=o;a++)s.push(e.getLineContent(a));let r=s.slice(0);return r.sort(S.getCollator().compare),!0===i&&(r=r.reverse()),{startLineNumber:n,endLineNumber:o,before:s,after:r}}function I(e,t,i){let n=x(e,t,i);return n?c["a"].replace(new h["a"](n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}S._COLLATOR=null;var _=i("709e");class O extends r["b"]{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((e,t)=>({selection:e,index:t,ignore:!1}));i.sort((e,t)=>h["a"].compareRangesUsingStarts(e.selection,t.selection));let n=i[0];for(let s=1;s<i.length;s++){const e=i[s];n.selection.endLineNumber===e.selection.startLineNumber&&(n.index<e.index?e.ignore=!0:(n.ignore=!0,n=e))}const o=[];for(const s of i)o.push(new m(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class y extends O{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:n["a"]("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class D extends O{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:n["a"]("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class N extends r["b"]{constructor(){super({id:"editor.action.duplicateSelection",label:n["a"]("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:p["a"].writable,menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const n=[],o=t.getSelections(),s=t.getModel();for(const r of o)if(r.isEmpty())n.push(new m(r,!0));else{const e=new g["a"](r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn);n.push(new a["c"](e,s.getValueInRange(r)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class M extends r["b"]{constructor(e,t){super(t),this.down=e}run(e,t){let i=[],n=t.getSelections()||[];const o=t.getOption(9);for(const s of n)i.push(new w(s,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class E extends M{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:n["a"]("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class R extends M{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:n["a"]("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:n["a"]({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class k extends r["b"]{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!S.canRun(t.getModel(),o,this.descending))return;let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new S(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class T extends k{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:n["a"]("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:p["a"].writable})}}class P extends k{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:n["a"]("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:p["a"].writable})}}class j extends r["b"]{constructor(){super({id:j.ID,label:n["a"]("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:Object(o["a"])(2089,2102),weight:100}})}run(e,t,i){let n=[];"auto-save"===i.reason&&(n=(t.getSelections()||[]).map(e=>new u["a"](e.positionLineNumber,e.positionColumn)));let o=t.getSelection();if(null===o)return;let s=new l["a"](o,n);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}}j.ID="editor.action.trimTrailingWhitespace";class A extends r["b"]{constructor(){super({id:"editor.action.deleteLines",label:n["a"]("lines.delete","Delete Line"),alias:"Delete Line",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=0,s=[],r=[];for(let a=0,l=i.length;a<l;a++){const e=i[a];let t=e.startLineNumber,l=e.endLineNumber,d=1,u=n.getLineMaxColumn(l);l<n.getLineCount()?(l+=1,u=1):t>1&&(t-=1,d=n.getLineMaxColumn(t)),s.push(c["a"].replace(new g["a"](t,d,l,u),"")),r.push(new g["a"](t-o,e.positionColumn,t-o,e.positionColumn)),o+=e.endLineNumber-e.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}});t.sort((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber);let i=[],n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}}class U extends r["b"]{constructor(){super({id:"editor.action.indentLines",label:n["a"]("lines.indent","Indent Line"),alias:"Indent Line",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:2137,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,d["a"].indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class W extends r["b"]{constructor(){super({id:"editor.action.outdentLines",label:n["a"]("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:2135,weight:100}})}run(e,t){s["a"].Outdent.runEditorCommand(e,t,null)}}class V extends r["b"]{constructor(){super({id:"editor.action.insertLineBefore",label:n["a"]("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,d["a"].lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class F extends r["b"]{constructor(){super({id:"editor.action.insertLineAfter",label:n["a"]("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,d["a"].lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class K extends r["b"]{run(e,t){if(!t.hasModel())return;const i=t.getSelection();let n=this._getRangesToDelete(t),o=[];for(let a=0,l=n.length-1;a<l;a++){let e=n[a],t=n[a+1];null===h["a"].intersectRanges(e,t)?o.push(e):n[a+1]=h["a"].plusRange(e,t)}o.push(n[n.length-1]);let s=this._getEndCursorState(i,o),r=o.map(e=>c["a"].replace(e,""));t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}class z extends K{constructor(){super({id:"deleteAllLeft",label:n["a"]("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],o=0;return t.forEach(t=>{let s;if(1===t.endColumn&&o>0){let e=t.startLineNumber-o;s=new g["a"](e,t.startColumn,e,t.startColumn)}else s=new g["a"](t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=s:n.push(s)}),i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let i=t,n=e.getModel();return null===n?[]:(i.sort(h["a"].compareRangesUsingStarts),i=i.map(e=>{if(e.isEmpty()){if(1===e.startColumn){let t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new h["a"](t,i,e.startLineNumber,1)}return new h["a"](e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new h["a"](e.startLineNumber,1,e.endLineNumber,e.endColumn)}),i)}}class H extends K{constructor(){super({id:"deleteAllRight",label:n["a"]("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let o=0,s=t.length,r=0;o<s;o++){let s=t[o],a=new g["a"](s.startLineNumber-r,s.startColumn,s.startLineNumber-r,s.startColumn);s.intersectRanges(e)?i=a:n.push(a)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let i=e.getSelections();if(null===i)return[];let n=i.map(e=>{if(e.isEmpty()){const i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new h["a"](e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new h["a"](e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e});return n.sort(h["a"].compareRangesUsingStarts),n}}class q extends r["b"]{constructor(){super({id:"editor.action.joinLines",label:n["a"]("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:p["a"].writable,kbOpts:{kbExpr:p["a"].editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getSelection();if(null===n)return;i.sort(h["a"].compareRangesUsingStarts);let o=[],s=i.reduce((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(n.equalsSelection(e)&&(n=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new g["a"](e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new g["a"](e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn));o.push(s);let r=t.getModel();if(null===r)return;let a=[],l=[],d=n,u=0;for(let p=0,m=o.length;p<m;p++){let e,t,i=o[p],s=i.startLineNumber,m=1,f=0,b=r.getLineContent(i.endLineNumber).length-i.endColumn;if(i.isEmpty()||i.startLineNumber===i.endLineNumber){let n=i.getStartPosition();n.lineNumber<r.getLineCount()?(e=s+1,t=r.getLineMaxColumn(e)):(e=n.lineNumber,t=r.getLineMaxColumn(n.lineNumber))}else e=i.endLineNumber,t=r.getLineMaxColumn(e);let v=r.getLineContent(s);for(let n=s+1;n<=e;n++){let e=r.getLineContent(n),t=r.getLineFirstNonWhitespaceColumn(n);if(t>=1){let i=!0;""===v&&(i=!1),!i||" "!==v.charAt(v.length-1)&&"\t"!==v.charAt(v.length-1)||(i=!1,v=v.replace(/[\s\uFEFF\xA0]+$/g," "));let n=e.substr(t-1);v+=(i?" ":"")+n,f=i?n.length+1:n.length}else f=0}let C=new h["a"](s,m,e,t);if(!C.isEmpty()){let e;i.isEmpty()?(a.push(c["a"].replace(C,v)),e=new g["a"](C.startLineNumber-u,v.length-f+1,s-u,v.length-f+1)):i.startLineNumber===i.endLineNumber?(a.push(c["a"].replace(C,v)),e=new g["a"](i.startLineNumber-u,i.startColumn,i.endLineNumber-u,i.endColumn)):(a.push(c["a"].replace(C,v)),e=new g["a"](i.startLineNumber-u,i.startColumn,i.startLineNumber-u,v.length-b)),null!==h["a"].intersectRanges(C,n)?d=e:l.push(e)}u+=C.endLineNumber-C.startLineNumber}l.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,a,l),t.pushUndoStop()}}class $ extends r["b"]{constructor(){super({id:"editor.action.transpose",label:n["a"]("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:p["a"].writable})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getModel();if(null===n)return;let o=[];for(let s=0,r=i.length;s<r;s++){let e=i[s];if(!e.isEmpty())continue;let t=e.getStartPosition(),r=n.getLineMaxColumn(t.lineNumber);if(t.column>=r){if(t.lineNumber===n.getLineCount())continue;let e=new h["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new a["a"](new g["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i))}else{let e=new h["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber,t.column+1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new a["b"](e,i,new g["a"](t.lineNumber,t.column+1,t.lineNumber,t.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class B extends r["b"]{run(e,t){const i=t.getSelections();if(null===i)return;const n=t.getModel();if(null===n)return;const o=t.getOption(116),s=[];for(const r of i)if(r.isEmpty()){const e=r.getStartPosition(),i=t.getConfiguredWordAtPosition(e);if(!i)continue;const a=new h["a"](e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),l=n.getValueInRange(a);s.push(c["a"].replace(a,this._modifyText(l,o)))}else{const e=n.getValueInRange(r);s.push(c["a"].replace(r,this._modifyText(e,o)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}}class Z extends B{constructor(){super({id:"editor.action.transformToUppercase",label:n["a"]("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:p["a"].writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class G extends B{constructor(){super({id:"editor.action.transformToLowercase",label:n["a"]("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:p["a"].writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class J extends B{constructor(){super({id:"editor.action.transformToTitlecase",label:n["a"]("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:p["a"].writable})}_modifyText(e,t){const i="\r\n\t "+t,n=i.split("");let o="",s=!0;for(let r=0;r<e.length;r++){let t=e[r];n.indexOf(t)>=0?(s=!0,o+=t):s?(s=!1,o+=t.toLocaleUpperCase()):o+=t.toLocaleLowerCase()}return o}}class Q{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class X extends B{constructor(){super({id:"editor.action.transformToSnakecase",label:n["a"]("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:p["a"].writable})}_modifyText(e,t){const i=X.regExp1.get(),n=X.regExp2.get();return i&&n?e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase():e}}X.regExp1=new Q("(\\p{Ll})(\\p{Lu})","gmu"),X.regExp2=new Q("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),Object(r["j"])(y),Object(r["j"])(D),Object(r["j"])(N),Object(r["j"])(E),Object(r["j"])(R),Object(r["j"])(T),Object(r["j"])(P),Object(r["j"])(j),Object(r["j"])(A),Object(r["j"])(U),Object(r["j"])(W),Object(r["j"])(V),Object(r["j"])(F),Object(r["j"])(z),Object(r["j"])(H),Object(r["j"])(q),Object(r["j"])($),Object(r["j"])(Z),Object(r["j"])(G),Object(r["j"])(J),X.regExp1.isSupported()&&X.regExp2.isSupported()&&Object(r["j"])(X)},f8c6:function(e,t,i){}}]);