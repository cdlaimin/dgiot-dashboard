/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  time: Wed Nov 17 2021 04:11:42 GMT+0000 (Coordinated Universal Time)
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-daba14fe"],{1501:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ProfileDict"},[e.dictVisible?a("a-drawer",{staticStyle:{"z-index":"999"},attrs:{"append-to-body":!0,"close-on-click-modal":!1,title:e.titleTempDialog,visible:e.dictVisible,width:"60%"},on:{close:function(t){e.$parent.dictVisible=!e.dictVisible}}},[a("el-form",{ref:"dictTempForm",attrs:{model:e.dictTempForm,rules:e.rules,size:"mini"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"字典模板名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.dictTempForm.name,callback:function(t){e.$set(e.dictTempForm,"name",t)},expression:"dictTempForm.name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"字典模板类型","label-width":e.formLabelWidth,prop:"cType"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.dictTempForm.cType,callback:function(t){e.$set(e.dictTempForm,"cType",t)},expression:"dictTempForm.cType"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"字典模板状态","label-width":e.formLabelWidth,prop:"enable"}},[a("el-radio",{attrs:{border:"",label:"1"},model:{value:e.dictTempForm.enable,callback:function(t){e.$set(e.dictTempForm,"enable",t)},expression:"dictTempForm.enable"}},[e._v(" 启用 ")]),a("el-radio",{attrs:{border:"",label:"0"},model:{value:e.dictTempForm.enable,callback:function(t){e.$set(e.dictTempForm,"enable",t)},expression:"dictTempForm.enable"}},[e._v(" 禁用 ")])],1)],1)],1),a("el-form-item",{attrs:{label:"字典模板数据","label-width":e.formLabelWidth}},[a("el-tabs",{model:{value:e.elactiveName,callback:function(t){e.elactiveName=t},expression:"elactiveName"}},[a("el-tab-pane",{attrs:{label:"Table",name:"Table"}},[a("el-button",{staticClass:"mt-3",attrs:{icon:"el-icon-plus",size:"small",type:"primary"},nativeOn:{click:function(t){return e.$parent.addRow(e.dictTempForm.params)}}},[e._v(" 新 增 ")]),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.dictTempForm.params,height:"300"}},[a("el-table-column",{attrs:{label:"序号",prop:"order"}}),a("el-table-column",{attrs:{label:"标识符",prop:"identifier"}}),a("el-table-column",{attrs:{label:"功能名称",prop:"name"}}),a("el-table-column",{attrs:{label:"数据类型",prop:"type"}}),a("el-table-column",{attrs:{label:"数据地址",prop:"address"}}),a("el-table-column",{attrs:{label:"数据长度",prop:"bytes"}}),a("el-table-column",{attrs:{label:"是否必填",prop:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.required?a("span",[e._v("是")]):a("span",[e._v("否")])]}}],null,!1,650597788)}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",size:"mini",title:"删除",type:"danger"},nativeOn:{click:function(a){return e.$parent.delRow(t.$index,e.dictTempForm.params)}}},[e._v(" 删除 ")]),a("el-button",{attrs:{plain:"",size:"mini",title:"编辑",type:"info"},nativeOn:{click:function(a){return e.$parent.editRow(t.row,t.$index,e.dictTempForm.params)}}},[e._v(" 编辑 ")])]}}],null,!1,4289267538)})],1)],1),a("el-tab-pane",{attrs:{label:"Json",name:"Json"}},[a("vab-json-editor",{attrs:{lang:"zh",mode:"code"},on:{"has-error":e.$parent.onError},model:{value:e.dictTempForm.params,callback:function(t){e.$set(e.dictTempForm,"params",t)},expression:"dictTempForm.params"}})],1)],1)],1),a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},placeholder:"请输入描述",type:"textarea"},model:{value:e.dictTempForm.description,callback:function(t){e.$set(e.dictTempForm,"description",t)},expression:"dictTempForm.description"}})],1),a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{size:"mini"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$parent.onJsonSave("dictTempForm",e.dictTempForm)}}},[e._v(" 提交 ")]),a("el-button",{on:{click:function(t){e.$parent.dictVisible=!1}}},[e._v(" 取消 ")])],1)],1)],1):e._e(),a("el-dialog",{attrs:{"append-to-body":!0,"before-close":e.$parent.closeDict,"close-on-click-modal":!1,title:e.titleDict,top:"5vh",visible:e.editFlag,width:"60%"},on:{"update:visible":function(t){e.editFlag=t},open:function(t){return e.$parent.opendialog("tempparams")}}},[a("el-form",{ref:"tempparams",attrs:{"label-position":"left","label-width":"100px",model:e.tempparams,size:"mini"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"序号",prop:"order"}},[a("el-input",{model:{value:e.tempparams.order,callback:function(t){e.$set(e.tempparams,"order",e._n(t))},expression:"tempparams.order"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.identifier"),prop:"identifier"}},[a("el-input",{model:{value:e.tempparams.identifier,callback:function(t){e.$set(e.tempparams,"identifier",t)},expression:"tempparams.identifier"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.functionname"),prop:"name"}},[a("el-input",{model:{value:e.tempparams.name,callback:function(t){e.$set(e.tempparams,"name",t)},expression:"tempparams.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.datatype"),prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.$parent.tempTypeChange},model:{value:e.tempparams.type,callback:function(t){e.$set(e.tempparams,"type",t)},expression:"tempparams.type"}},[a("el-option",{attrs:{label:e.$translateTitle("product.init"),value:"int"}}),a("el-option",{attrs:{label:e.$translateTitle("product.float"),value:"float"}}),a("el-option",{attrs:{label:e.$translateTitle("product.double"),value:"double"}}),a("el-option",{attrs:{label:e.$translateTitle("product.bool"),value:"bool"}}),a("el-option",{attrs:{label:e.$translateTitle("product.enum"),value:"enum"}}),a("el-option",{attrs:{label:e.$translateTitle("product.string"),value:"string"}}),a("el-option",{attrs:{label:"switch",value:"switch"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.unit")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$translateTitle("product.unit")},model:{value:e.tempparams.unit,callback:function(t){e.$set(e.tempparams,"unit",t)},expression:"tempparams.unit"}},e._l(e.allunit,(function(e,t){return a("el-option",{key:t,attrs:{label:e.data.Name+"/"+e.data.Symbol,value:e.data.Symbol}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"协议类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.tempparams.protocol,callback:function(t){e.$set(e.tempparams,"protocol",t)},expression:"tempparams.protocol"}},e._l(["normal","modbus","mingcheng","xinchuangwei","hex"],(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"modbus"==e.tempparams.protocol,expression:"tempparams.protocol == 'modbus'"}],attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据格式"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.tempparams.originaltype,callback:function(t){e.$set(e.tempparams,"originaltype",t)},expression:"tempparams.originaltype"}},e._l([{value:"bit",label:"位"},{value:"short16_AB",label:"16位 有符号(AB)"},{value:"short16_BA",label:"16位 有符号(BA)"},{value:"ushort16_AB",label:"16位 无符号(AB)"},{value:"ushort16_BA",label:"16位 无符号(BA)"},{value:"long32_ABCD",label:"32位 有符号(ABCD)"},{value:"long32_CDAB",label:"32位 有符号(CDAB)"},{value:"ulong32_ABCD",label:"32位 无符号(ABCD)"},{value:"ulong32_CDAB",label:"32位 无符号(CDAB)"},{value:"float32_ABCD",label:"32位 浮点数(ABCD)"},{value:"float32_CDAB",label:"32位 浮点数(CDAB)"}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:"modbus"==e.tempparams.protocol,expression:"tempparams.protocol == 'modbus'"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.dataList,size:"small"}},[a("el-table-column",{attrs:{align:"center",label:"从机地址(16进制加0X,例:0X10,否则是十进制)","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:e.tempparams.slaveid,callback:function(t){e.$set(e.tempparams,"slaveid",t)},expression:"tempparams.slaveid"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(t.row))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"寄存器状态","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.tempparams.operatetype,callback:function(t){e.$set(e.tempparams,"operatetype",t)},expression:"tempparams.operatetype"}},e._l([{value:"readCoils",label:"0X01:读线圈寄存器"},{value:"readInputs",label:"0X02:读离散输入寄存器"},{value:"readHregs",label:"0X03:读保持寄存器"},{value:"readIregs",label:"0X04:读输入寄存器"},{value:"writeCoil",label:"0X05:写单个线圈寄存器"},{value:"writeHreg",label:"0X06:写单个保持寄存器"},{value:"writeCoils",label:"0X0f:写多个线圈寄存器"},{value:"writeHregs",label:"0X10:写多个保持寄存器"}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(t.row.slaveid))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"数据地址(16进制加0X,例:0X10,否则是十进制)","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:e.tempparams.address,callback:function(t){e.$set(e.tempparams,"address",t)},expression:"tempparams.address"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(t.row.slaveid))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"数据长度(字节)","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:e.tempparams.bytes,callback:function(t){e.$set(e.tempparams,"bytes",t)},expression:"tempparams.bytes"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(t.row.slaveid))])]}}])})],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"modbus"!=e.tempparams.protocol,expression:"tempparams.protocol != 'modbus'"}],attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据地址"}},[a("el-input",{attrs:{placeholder:"数据地址"},model:{value:e.tempparams.address,callback:function(t){e.$set(e.tempparams,"address",t)},expression:"tempparams.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据长度"}},[a("el-input",{attrs:{placeholder:"数据长度（字节）"},model:{value:e.tempparams.bytes,callback:function(t){e.$set(e.tempparams,"bytes",e._n(t))},expression:"tempparams.bytes"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-tooltip",{staticStyle:{float:"left"},attrs:{effect:"dark",placement:"right-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 1. 采集值 设备上行数据经采集公式计算后显示 。 "),a("br"),e._v(" 公式中的%s为占位符，是固定字段。 "),a("br"),e._v(" 如： "),a("br"),e._v(" 加：%s+10 "),a("br"),e._v(" 减：%s-10 "),a("br"),e._v(" 乘：%s*10 "),a("br"),e._v(" 除：%s/10 "),a("br"),e._v(" 余数：%s%10 "),a("br")]),a("i",{staticClass:"el-icon-question"})]),a("el-form-item",{attrs:{label:"采集公式"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{rows:1,type:"textarea"},model:{value:e.tempparams.collection,callback:function(t){e.$set(e.tempparams,"collection",t)},expression:"tempparams.collection"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-tooltip",{staticStyle:{float:"left"},attrs:{effect:"dark",placement:"right-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 1. 设置值 平台下行数据经设置公式计算后设置 。 "),a("br"),e._v(" 公式中的%s为占位符，是固定字段。 "),a("br"),e._v(" 如： "),a("br"),e._v(" 加：%s+10 "),a("br"),e._v(" 减：%s-10 "),a("br"),e._v(" 乘：%s*10 "),a("br"),e._v(" 除：%s/10 "),a("br"),e._v(" 余数：%s%10 "),a("br")]),a("i",{staticClass:"el-icon-question"})]),a("el-form-item",{attrs:{label:"设置公式"}},[a("el-input",{attrs:{rows:1,type:"textarea"},model:{value:e.tempparams.setting,callback:function(t){e.$set(e.tempparams,"setting",t)},expression:"tempparams.setting"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"必填"}},[a("el-radio",{attrs:{border:"",label:!0},model:{value:e.tempparams.required,callback:function(t){e.$set(e.tempparams,"required",t)},expression:"tempparams.required"}},[e._v(" 是 ")]),a("el-radio",{attrs:{border:"",label:!1},model:{value:e.tempparams.required,callback:function(t){e.$set(e.tempparams,"required",t)},expression:"tempparams.required"}},[e._v(" 否 ")])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"只读"}},[a("el-radio",{attrs:{border:"",label:!0},model:{value:e.tempparams.readonly,callback:function(t){e.$set(e.tempparams,"readonly",t)},expression:"tempparams.readonly"}},[e._v(" 是 ")]),a("el-radio",{attrs:{border:"",label:!1},model:{value:e.tempparams.readonly,callback:function(t){e.$set(e.tempparams,"readonly",t)},expression:"tempparams.readonly"}},[e._v(" 否 ")])],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"列表显示"}},[a("el-radio",{attrs:{border:"",label:!0},model:{value:e.tempparams.isshow,callback:function(t){e.$set(e.tempparams,"isshow",t)},expression:"tempparams.isshow"}},[e._v(" 是 ")]),a("el-radio",{attrs:{border:"",label:!1},model:{value:e.tempparams.isshow,callback:function(t){e.$set(e.tempparams,"isshow",t)},expression:"tempparams.isshow"}},[e._v(" 否 ")])],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},["switch"==e.tempparams.type?a("el-form-item",{attrs:{label:"开"}},[a("el-input",{model:{value:e.tempparams.activevalue,callback:function(t){e.$set(e.tempparams,"activevalue",t)},expression:"tempparams.activevalue"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},["switch"==e.tempparams.type?a("el-form-item",{attrs:{label:"关"}},[a("el-input",{model:{value:e.tempparams.inactivevalue,callback:function(t){e.$set(e.tempparams,"inactivevalue",t)},expression:"tempparams.inactivevalue"}})],1):e._e()],1)],1),"enum"!=e.tempparams.type&&"switch"!=e.tempparams.type?a("el-form-item",{attrs:{label:"默认值",prop:"default"}},["bool"==e.tempparams.type?a("el-select",{staticClass:"notauto",attrs:{readonly:""},model:{value:e.tempparams.default,callback:function(t){e.$set(e.tempparams,"default",t)},expression:"tempparams.default"}},[a("el-option",{attrs:{label:"是",value:!0}}),a("el-option",{attrs:{label:"否",value:!1}})],1):"int"==e.tempparams.type?a("el-input",{model:{value:e.tempparams.default,callback:function(t){e.$set(e.tempparams,"default",e._n(t))},expression:"tempparams.default"}}):a("el-input",{model:{value:e.tempparams.default,callback:function(t){e.$set(e.tempparams,"default",t)},expression:"tempparams.default"}})],1):e._e(),"enum"==e.tempparams.type?a("el-form-item",{attrs:{label:"Enum数据"}},[a("el-tabs",{model:{value:e.elactiveName1,callback:function(t){e.elactiveName1=t},expression:"elactiveName1"}},[a("el-tab-pane",{attrs:{label:"Table",name:"Table1"}},[a("el-button",{staticClass:"mt-3",attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},nativeOn:{click:function(t){return e.$parent.addDomain.apply(null,arguments)}}},[e._v(" 新 增 ")]),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.tempparams.specs}},[a("el-table-column",{attrs:{align:"center",label:"属性"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.attribute,callback:function(a){e.$set(t.row,"attribute",a)},expression:"scope.row.attribute"}})]}}],null,!1,3655062453)}),a("el-table-column",{attrs:{align:"center",label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.attributevalue,callback:function(a){e.$set(t.row,"attributevalue",a)},expression:"scope.row.attributevalue"}})]}}],null,!1,1008913502)}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",size:"mini",title:"删除",type:"danger"},nativeOn:{click:function(a){return e.$parent.removeDomain(t.row)}}},[e._v(" 删除 ")])]}}],null,!1,1677035244)})],1)],1)],1)],1):e._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.$parent.submitFormTempDict()}}},[e._v(" 提交 ")])],1)],1)],1)],1)},l=[],o={name:"ProfileDict",props:{titleDict:{required:!1,type:String,default:""},formLabelWidth:{required:!1,type:String,default:"120px"},rules:{required:!1,type:Object,default:function(){}},editFlag:{required:!1,type:Boolean,default:!1},dictVisible:{required:!1,type:Boolean,default:!1},titleTempDialog:{required:!1,type:String,default:""},parserTables:{required:!1,type:Array,default:function(){return[]}},tempparam:{required:!1,type:Object,default:function(){}},allunit:{required:!1,type:Array,default:function(){return[]}},dataList:{required:!1,type:Array,default:function(){return[{}]}}},data:function(){return{elactiveName:"Table",elactiveName1:"Table1",tempparams:{}}},created:function(){this.tempparams=this.tempparam},mounted:function(){},methods:{addParse:function(e){this.$parent.addParse(e)}}},s=o,i=a("2877"),n=Object(i["a"])(s,r,l,!1,null,null,null);t["default"]=n.exports},"28a5":function(e,t,a){},"2ac3":function(e,t,a){},4080:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wmxheader"},[a("el-form",{ref:"sizeForm",attrs:{"label-position":"left","label-width":"150px",model:e.sizeForm,rules:e.sizerule,size:"mini"}},[a("div",[a("el-collapse",{model:{value:e.collapseName,callback:function(t){e.collapseName=t},expression:"collapseName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v(" "+e._s(e.$translateTitle("task.datastorage"))+" ")]),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.devicetype"),prop:"devicetype"}},[a("el-input",{model:{value:e.sizeForm.devicetype,callback:function(t){e.$set(e.sizeForm,"devicetype",t)},expression:"sizeForm.devicetype"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.functionname"),prop:"name"}},[e.sizeForm.nobound&&e.sizeForm.nobound.length>0?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},on:{change:e.changeThing},model:{value:e.sizeForm.name,callback:function(t){e.$set(e.sizeForm,"name",t)},expression:"sizeForm.name"}},e._l(e.sizeForm.nobound,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e}})})),1):a("el-input",{model:{value:e.sizeForm.name,callback:function(t){e.$set(e.sizeForm,"name",t)},expression:"sizeForm.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.identifier"),prop:"identifier"}},[a("el-input",{attrs:{disabled:e.sizeForm.editdatatype},model:{value:e.sizeForm.identifier,callback:function(t){e.$set(e.sizeForm,"identifier",t)},expression:"sizeForm.identifier"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.datatype"),prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.sizeForm.editdatatype},on:{change:e.changeGroup},model:{value:e.sizeForm.type,callback:function(t){e.$set(e.sizeForm,"type",t)},expression:"sizeForm.type"}},e._l(e.dataType,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6"}},[e._v(" "+e._s(t.value)+" ")])])})),1)})),1)],1)],1),"float"==e.sizeForm.type||"double"==e.sizeForm.type?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"小数位数",prop:"precision"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.sizeForm.precision,callback:function(t){e.$set(e.sizeForm,"precision",t)},expression:"sizeForm.precision"}},[a("el-option",{attrs:{label:1,value:"1"}}),a("el-option",{attrs:{label:2,value:"2"}}),a("el-option",{attrs:{label:3,value:"3"}}),a("el-option",{attrs:{label:4,value:"4"}}),a("el-option",{attrs:{label:5,value:"5"}}),a("el-option",{attrs:{label:6,value:"6"}})],1)],1)],1):e._e(),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图标",prop:"precision"}},[a("el-avatar",{attrs:{size:100,src:e.$FileServe+e.sizeForm.ico},nativeOn:{click:function(t){return e.uploadCkick("userinfo.avatar")}}}),a("vab-input",{ref:"uploadFinish",attrs:{params:e.inputParams},on:{fileInfo:e.fileInfo,files:e.files}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.readandwritetype"),prop:"isread"}},[a("el-radio-group",{staticStyle:{width:"100%"},attrs:{size:"medium"},model:{value:e.sizeForm.isread,callback:function(t){e.$set(e.sizeForm,"isread",t)},expression:"sizeForm.isread"}},[a("el-radio",{attrs:{label:"rw"}},[e._v(" "+e._s(e.$translateTitle("product.write"))+" ")]),a("el-radio",{attrs:{label:"r"}},[e._v(" "+e._s(e.$translateTitle("product.read"))+" ")])],1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.isstorage"),prop:"isshow"}},[a("el-radio-group",{staticStyle:{width:"100%"},attrs:{size:"medium"},model:{value:e.sizeForm.isshow,callback:function(t){e.$set(e.sizeForm,"isshow",t)},expression:"sizeForm.isshow"}},[a("el-radio",{attrs:{label:!0}},[e._v(" "+e._s(e.$translateTitle("product.storage"))+" ")]),a("el-radio",{attrs:{label:!1}},[e._v(" "+e._s(e.$translateTitle("product.notstorage"))+" ")])],1)],1)],1)],1),"int"==e.sizeForm.type||"long"==e.sizeForm.type||"float"==e.sizeForm.type||"double"==e.sizeForm.type?a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.valuerangemin"),prop:"startnumber"}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.minimumvalue"),type:"number"},model:{value:e.sizeForm.startnumber,callback:function(t){e.$set(e.sizeForm,"startnumber",e._n(t))},expression:"sizeForm.startnumber"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.valuerangemax"),prop:"endnumber"}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.maximumvalue"),type:"number"},on:{input:function(t){return e.changeValue("sizeForm")}},model:{value:e.sizeForm.endnumber,callback:function(t){e.$set(e.sizeForm,"endnumber",e._n(t))},expression:"sizeForm.endnumber"}})],1)],1)],1):e._e(),"int"==e.sizeForm.type||"long"==e.sizeForm.type||"float"==e.sizeForm.type||"double"==e.sizeForm.type?a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"步长",prop:"step"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0,precision:2,step:.01},model:{value:e.sizeForm.step,callback:function(t){e.$set(e.sizeForm,"step",t)},expression:"sizeForm.step"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.unit")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$translateTitle("product.unit")},model:{value:e.sizeForm.unit,callback:function(t){e.$set(e.sizeForm,"unit",t)},expression:"sizeForm.unit"}},e._l(e.allunit,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.id,attrs:{label:t.symbol,value:t.symbol}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),a("span",{staticStyle:{float:"right",color:"#8492a6"}},[e._v(" "+e._s(t.symbol)+" ")])])})),1)})),1)],1)],1)],1):e._e(),"bool"==e.sizeForm.type?a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.attribute"),prop:"truevalue",required:""}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.attribute"),readonly:"",type:"number"},model:{value:e.sizeForm.truevalue,callback:function(t){e.$set(e.sizeForm,"truevalue",t)},expression:"sizeForm.truevalue"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"-"}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.egopen")},model:{value:e.sizeForm.true,callback:function(t){e.$set(e.sizeForm,"true",t)},expression:"sizeForm.true"}})],1)],1)],1):e._e(),"bool"==e.sizeForm.type?a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-input",{attrs:{placeholder:e.$translateTitle("product.attribute"),readonly:"",type:"number"},model:{value:e.sizeForm.falsevalue,callback:function(t){e.$set(e.sizeForm,"falsevalue",t)},expression:"sizeForm.falsevalue"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"-"}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.egclose")},model:{value:e.sizeForm.false,callback:function(t){e.$set(e.sizeForm,"false",t)},expression:"sizeForm.false"}})],1)],1)],1):e._e(),"enum"==e.sizeForm.type?a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"枚举项"}},[a("el-link",{attrs:{icon:"el-icon-plus",type:"primary",underline:!1},on:{click:e.addDomain}},[e._v(" "+e._s(e.$translateTitle("product.add"))+" ")]),a("el-alert",{attrs:{closable:!1,description:"存库值必须是int类型，界面值是字符串类型,设备值与存库值转化请使用采集公式",title:"参数提示",type:"success"}}),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.sizeForm.struct}},[a("el-table-column",{attrs:{align:"center",label:"存库值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.attribute,callback:function(a){e.$set(t.row,"attribute",a)},expression:"scope.row.attribute"}})]}}],null,!1,3655062453)}),a("el-table-column",{attrs:{align:"center",label:"界面值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.attributevalue,callback:function(a){e.$set(t.row,"attributevalue",a)},expression:"scope.row.attributevalue"}})]}}],null,!1,1008913502)}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",size:"mini",title:"删除",type:"danger"},nativeOn:{click:function(a){return e.removeDomain(t.row)}}},[e._v(" 删除 ")])]}}],null,!1,964601146)})],1)],1)],1)],1):e._e(),"struct"==e.sizeForm.type?a("div",[a("el-form-item",{attrs:{label:"JSON对象",required:""}},[a("ul",{staticStyle:{"padding-left":"20px",margin:"0"}},e._l(e.sizeForm.struct,(function(t,r){return a("li",{key:r,staticStyle:{display:"flex","list-style":"none"},attrs:{value:"item"}},[a("div",[a("span",[e._v(" "+e._s(e.$translateTitle("product.parametername")+":")+"} ")]),a("span",[e._v(e._s(t.name))])]),a("div",[a("el-link",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",underline:!1},on:{click:function(a){return e.editStruct(t,r)}}},[e._v(" "+e._s(e.$translateTitle("developer.edit"))+" ")]),a("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(t){return e.deleteStruct(r)}}},[e._v(" "+e._s(e.$translateTitle("developer.delete"))+" ")])],1)])})),0),a("el-link",{attrs:{icon:"el-icon-plus",type:"primary",underline:!1},on:{click:function(t){return e.addStruct("structform")}}},[e._v(" "+e._s(e.$translateTitle("product.addparameter"))+" ")])],1)],1):e._e(),"text"==e.sizeForm.type?a("div",[a("el-form-item",{attrs:{label:e.$translateTitle("product.datalength"),prop:"string"}},[a("el-input",{attrs:{type:"number"},model:{value:e.sizeForm.string,callback:function(t){e.$set(e.sizeForm,"string",e._n(t))},expression:"sizeForm.string"}},[a("template",{slot:"append"},[e._v(" "+e._s(e.$translateTitle("product.byte"))+" ")])],2)],1)],1):e._e(),"date"==e.sizeForm.type?a("div",[a("el-form-item",{attrs:{label:e.$translateTitle("product.timeformat")}},[a("el-input",{attrs:{readonly:""},model:{value:e.sizeForm.date,callback:function(t){e.$set(e.sizeForm,"date",t)},expression:"sizeForm.date"}})],1)],1):e._e(),"geopoint"==e.sizeForm.type?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"is-required",attrs:{label:e.$translateTitle("product.gps type")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.sizeForm.gpstype,callback:function(t){e.$set(e.sizeForm,"gpstype",t)},expression:"sizeForm.gpstype"}},e._l(["NMEA0183"],(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)],1)],1):e._e(),"file"==e.sizeForm.type?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"is-required",attrs:{label:e.$translateTitle("product.image type")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.options.value,callback:function(t){e.$set(e.options,"value",t)},expression:"options.value"}},e._l(["二进制","Base64"],(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.$translateTitle("product.File parameters")}},[a("el-input",{model:{value:e.sizeForm.file,callback:function(t){e.$set(e.sizeForm,"file",t)},expression:"sizeForm.file"}})],1)],1)],1)],1):e._e(),"image"==e.sizeForm.type?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"is-required",attrs:{label:e.$translateTitle("product.image type")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.sizeForm.imagevalue,callback:function(t){e.$set(e.sizeForm,"imagevalue",t)},expression:"sizeForm.imagevalue"}},e._l(["jpg","png","ico"],(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1)],1):e._e()],2),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[e._v(" "+e._s(e.$translateTitle("task.dataacquisition"))+" "),a("el-row",{staticStyle:{margin:"0 auto"}},[a("el-col",{attrs:{span:2}},[a("el-popover",{attrs:{placement:"right",trigger:"click",width:"400"}},[a("el-table",{attrs:{data:e.wmxData.slice((e.wmxstart-1)*e.wmxPageSize,e.wmxstart*e.wmxPageSize)}},[a("el-table-column",{attrs:{label:e.$translateTitle("product.identifier")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(" "+e._s(t.row.identifier)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("product.functionname")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(" "+e._s(t.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("product.datatype")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(" "+e._s(t.row.dataType.type)+" ")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{layout:"total, sizes, prev, pager, next, jumper","page-size":e.wmxPageSize,"page-sizes":[10,20,30,50],total:e.wmxData.length},on:{"current-change":e.wmxCurrentChange,"size-change":e.wmxSizeChange}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-tooltip",{staticStyle:{float:"left"},attrs:{effect:"dark",placement:"right-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 采集策略表达式 。 "),a("br"),e._v(" 如： "),a("br"),e._v(" 5分钟 = 5 * 60 "),a("br"),e._v(" 1小时 = 60 * 60 "),a("br"),e._v(" 5小时 = 5 * 60 * 60 "),a("br"),e._v(" 1天 = 24 * 60 * 60 "),a("br")]),a("i",{staticClass:"el-icon-question"})]),a("el-form-item",{attrs:{label:"采集策略(单位：秒)"}},[a("el-select",{staticStyle:{width:"95%"},attrs:{"allow-create":"","default-first-option":"",filterable:"",placeholder:"请选择",size:"mini"},model:{value:e.sizeForm.strategy,callback:function(t){e.$set(e.sizeForm,"strategy",t)},expression:"sizeForm.strategy"}},e._l(e.sizeOption,(function(e){return a("el-option",{key:e.val,attrs:{label:e.label,size:"mini",value:e.val}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"采集轮次"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"","default-first-option":"",filterable:"",placeholder:"请选择生效轮次",size:"mini"},model:{value:e.sizeForm.round,callback:function(t){e.$set(e.sizeForm,"round",t)},expression:"sizeForm.round"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("p",{staticStyle:{position:"absolute",top:"26px",margin:"0","font-size":"12px",color:"black"}},[e._v(" 例如:1,3,5,8;(可选可自主填写)(注意:逗号为英文逗号) ")])],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-tooltip",{staticStyle:{float:"left"},attrs:{effect:"dark",placement:"right-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 1. 采集值 设备上行数据经采集公式计算后显示 。 "),a("br"),e._v(" 公式中的%s为占位符，是固定字段。 "),a("br"),e._v(" 如： "),a("br"),e._v(" 加：%s+10 "),a("br"),e._v(" 减：%s-10 "),a("br"),e._v(" 乘：%s*10 "),a("br"),e._v(" 除：%s/10 "),a("br"),e._v(" 余数：%s%10 "),a("br"),e._v(" 2. 计算值 添加变量按钮, "),a("br"),e._v(" 复制对应的标识符 "),a("br"),e._v(" 例：pressure_out "),a("br"),e._v(" 加：pressure_out+10 "),a("br"),e._v(" 减：pressure_out-10 "),a("br"),e._v(" 乘：pressure_out*10 "),a("br"),e._v(" 除：pressure_out/10 "),a("br"),e._v(" 余数：pressure_out%10 "),a("br"),e._v(" 3. 复杂值 ：关闭本弹窗后使用物解析处理 "),a("br")]),a("i",{staticClass:"el-icon-question"})]),a("el-form-item",{attrs:{label:"采集公式"}},[a("el-input",{staticStyle:{width:"95%"},attrs:{placeholder:"%s",rows:1,type:"textarea"},model:{value:e.sizeForm.collection,callback:function(t){e.$set(e.sizeForm,"collection",t)},expression:"sizeForm.collection"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"采集顺序"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{label:"采集顺序",min:0},model:{value:e.sizeForm.order,callback:function(t){e.$set(e.sizeForm,"order",t)},expression:"sizeForm.order"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-tooltip",{attrs:{effect:"dark",placement:"right-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 1. 采集值: 主动向设备写数据经控制公式计算后下发 。 "),a("br"),e._v(" 公式中的%s为占位符，是固定字段。 "),a("br"),e._v(" 如： "),a("br"),e._v(" 加：%s+10 "),a("br"),e._v(" 减：%s-10 "),a("br"),e._v(" 乘：%s*10 "),a("br"),e._v(" 除：%s/10 "),a("br"),e._v(" 余数：%s%10 "),a("br"),e._v(" 2. 计算值: 点击添加变量按钮, "),a("br"),e._v(" 复制对应的标识符 "),a("br"),e._v(" 例：pressure_out "),a("br"),e._v(" 加：pressure_out+10 "),a("br"),e._v(" 减：pressure_out-10 "),a("br"),e._v(" 乘：pressure_out*10 "),a("br"),e._v(" 除：pressure_out/10 "),a("br"),e._v(" 余数：pressure_out%10 "),a("br"),e._v(" 3. 复杂值 ：关闭本弹窗后使用物解析处理 "),a("br")]),a("i",{staticClass:"el-icon-question",staticStyle:{float:"left"}})]),a("el-form-item",{attrs:{label:"控制公式"}},[a("el-input",{staticStyle:{width:"98%"},attrs:{placeholder:"%s",rows:1,type:"textarea"},model:{value:e.sizeForm.control,callback:function(t){e.$set(e.sizeForm,"control",t)},expression:"sizeForm.control"}})],1)],1)],1)],2),a("el-collapse-item",{attrs:{name:"4"}},[a("template",{slot:"title"},[e._v(" 数据来源 ")]),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"协议类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.sizeForm.protocol,callback:function(t){e.$set(e.sizeForm,"protocol",t)},expression:"sizeForm.protocol"}},e._l(["normal","modbus","DLT645","xinchuangwei","mingcheng"],(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"modbus"==e.sizeForm.protocol,expression:"sizeForm.protocol == 'modbus'"}],attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据格式"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.sizeForm.originaltype,callback:function(t){e.$set(e.sizeForm,"originaltype",t)},expression:"sizeForm.originaltype"}},e._l([{value:"bit",label:"位"},{value:"short16_AB",label:"16位 有符号(AB)"},{value:"short16_BA",label:"16位 有符号(BA)"},{value:"ushort16_AB",label:"16位 无符号(AB)"},{value:"ushort16_BA",label:"16位 无符号(BA)"},{value:"long32_ABCD",label:"32位 有符号(ABCD)"},{value:"long32_CDAB",label:"32位 有符号(CDAB)"},{value:"ulong32_ABCD",label:"32位 无符号(ABCD)"},{value:"ulong32_CDAB",label:"32位 无符号(CDAB)"},{value:"float32_ABCD",label:"32位 浮点数(ABCD)"},{value:"float32_CDAB",label:"32位 浮点数(CDAB)"}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:"modbus"==e.sizeForm.protocol,expression:"sizeForm.protocol == 'modbus'"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.dataList,size:"small"}},[a("el-table-column",{attrs:{align:"center",label:"从机地址(16进制加0X,例:0X10,否则是十进制)","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:e.sizeForm.slaveid,callback:function(t){e.$set(e.sizeForm,"slaveid",t)},expression:"sizeForm.slaveid"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(t.row))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"寄存器状态","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.sizeForm.operatetype,callback:function(t){e.$set(e.sizeForm,"operatetype",t)},expression:"sizeForm.operatetype"}},e._l([{value:"readCoils",label:"0X01:读线圈寄存器"},{value:"readInputs",label:"0X02:读离散输入寄存器"},{value:"readHregs",label:"0X03:读保持寄存器"},{value:"readIregs",label:"0X04:读输入寄存器"},{value:"writeCoil",label:"0X05:写单个线圈寄存器"},{value:"writeHreg",label:"0X06:写单个保持寄存器"},{value:"writeCoils",label:"0X0f:写多个线圈寄存器"},{value:"writeHregs",label:"0X10:写多个保持寄存器"}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(t.row.slaveid))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"数据地址(16进制加0X,例:0X10,否则是十进制)","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:e.sizeForm.dis,callback:function(t){e.$set(e.sizeForm,"dis",t)},expression:"sizeForm.dis"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(t.row.slaveid))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"数据长度(字节)","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:e.sizeForm.dinumber,callback:function(t){e.$set(e.sizeForm,"dinumber",t)},expression:"sizeForm.dinumber"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(t.row.slaveid))])]}}])})],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"modbus"!=e.sizeForm.protocol,expression:"sizeForm.protocol != 'modbus'"}],attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据地址"}},[a("el-input",{attrs:{placeholder:"数据地址"},model:{value:e.sizeForm.dis,callback:function(t){e.$set(e.sizeForm,"dis",t)},expression:"sizeForm.dis"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据长度"}},[a("el-input",{attrs:{placeholder:"数据长度（字节）"},model:{value:e.sizeForm.dinumber,callback:function(t){e.$set(e.sizeForm,"dinumber",e._n(t))},expression:"sizeForm.dinumber"}})],1)],1)],1)],2)],1)],1)]),a("div",{staticStyle:{"margin-top":"26px","text-align":"center"}},[a("el-button",{on:{click:e.wmxhandleClose}},[e._v(" "+e._s(e.$translateTitle("developer.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.submitForm("sizeForm")}}},[e._v(" "+e._s(e.$translateTitle("developer.determine"))+" ")])],1)],1)},l=[],o=a("1da1"),s=a("5530"),i=(a("96cf"),a("ac1f"),a("00b4"),a("99af"),a("b0c0"),a("e09d")),n=a("e0e9"),c=a("5880"),u=(a("7a3f"),{name:"Wmxdetail",components:{},data:function(){var e=this,t=/^[a-z][a-z0-9_]*$/,a=function(e,a,r){if(!t.test(a))return r(new Error("请以小写字母开头，只能输入小写字母,数字,_"));r()},r=function(t,a,r){""===a?r(new Error("最小值不能为空")):""!==e.sizeForm.endnumber&&(a>=e.sizeForm.endnumber?r(new Error("最小值小于最大值")):r())},l=function(t,a,r){""===a?r(new Error("最大值不能为空")):""!==e.sizeForm.startnumber&&(a<=e.sizeForm.startnumber?r(new Error("最大值必须大于最小值")):r())},o=function(t,a,r){a<0?r(new Error("步长大于0")):a>=e.sizeForm.endnumber-e.sizeForm.startnumber?r(new Error("步长必须小于最大值和最小值的差值")):r()};return{inputParams:{},dataList:[{}],dataType:i["default"].mockModules.dataType,options:[{value:"all",label:"全部"},{value:"first",label:"第一轮"},{value:"last",label:"最后一轮"}],wmxData:[],allunit:i["default"].mockModules.dataNnit,sizerule:{step:[{required:!0,trigger:"blur",validator:o}],string:[{required:!0,trigger:"blur",message:"请输入数据长度"},{type:"number",message:"数据长度必须为数字"}],startnumber:[{validator:r,required:!0,trigger:"blur"}],endnumber:[{validator:l,required:!0,trigger:"blur"}],resource:[{required:!0,message:"请选择功能类型",trigger:"change"}],true:[{required:!0,message:"请输入属性值",trigger:"blur"}],false:[{required:!0,message:"请输入属性值",trigger:"blur"}],name:[{required:!0,message:"请输入属性名称",trigger:"blur"}],identifier:[{required:!0,message:"请输入标识符",trigger:"blur"},{validator:a}],dis:[{required:!0,message:"请输入数据标识",trigger:"blur"}],type:[{required:!0,message:"请选择数据类型",trigger:"change"}],attribute:[{required:!0,message:"请输入属性",trigger:"blur"}],attributevalue:[{required:!0,message:"请输入属性值",trigger:"blur"}],isread:[{required:!0,message:"请选择读写类型",trigger:"change"}],isshow:[{required:!0,message:"请选择是否存储",trigger:"change"}]},collapseName:["1","2","3","4"],wmxstart:1,wmxPageSize:10,sizeOption:[{label:"20",val:"20"},{label:"不采集(计算值)",val:"计算值"},{label:"不采集(主动上报)",val:"主动上报"}],countsizeOption:[{label:"10",val:"10"},{label:"20",val:"20"},{label:"30",val:"30"}]}},computed:Object(s["a"])(Object(s["a"])({},Object(c["mapGetters"])({sizeForm:"konva/sizeForm"})),{},{showNewItem:function(){return!(!this.sizeForm||"modbus"!=this.sizeForm.protocol)}}),watch:{},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},activated:function(){},methods:Object(s["a"])(Object(s["a"])({changeGroup:function(e){},fileInfo:function(e){this.sizeForm.ico=e.path},uploadCkick:function(e){this.upNodeType=e,this.$refs["uploadFinish"].$refs.uploader.dispatchEvent(new MouseEvent("click")),this.inputParams={file:"",scene:"app",path:"devicething/ico/",filename:""}},files:function(e,t){this.inputParams.filename="".concat(this.$route.query.id,".").concat(this.sizeForm.identifier?this.sizeForm.identifier:moment().format("x"),".").concat(t),this.inputParams.file=e}},Object(c["mapMutations"])({setSizeForm:"konva/setSizeForm"})),{},{changeThing:function(e){var t=this,a={};if(-1!=["float","double","int","long"].indexOf(e.dataType.type))a={name:e.name,devicetype:e.devicetype,ico:e.ico,type:e.dataType.type,endnumber:t.$objGet(e,"dataType.specs.max"),startnumber:t.$objGet(e,"dataType.specs.min"),step:t.$objGet(e,"dataType.specs.step"),unit:t.$objGet(e,"dataType.specs.unit"),precision:this.$objGet(e,"dataType.specs.precision"),round:t.$objGet(e,"dataForm.round"),dinumber:t.$objGet(e,"dataForm.data"),rate:t.$objGet(e,"dataForm.rate"),offset:t.$objGet(e,"dataForm.offset"),order:t.$objGet(e,"dataForm.order"),protocol:t.$objGet(e,"dataForm.protocol"),operatetype:t.$objGet(e,"dataForm.operatetype"),originaltype:t.$objGet(e,"dataForm.originaltype"),slaveid:t.$objGet(e,"dataForm.slaveid"),iscount:this.$objGet(e,"dataForm.iscount"),countstrategy:this.$objGet(e,"dataForm.countstrategy"),countround:this.$objGet(e,"dataForm.countround"),countcollection:this.$objGet(e,"dataForm.countcollection"),collection:"",control:"",strategy:"",required:!0,isread:e.accessMode,isshow:e.isshow,identifier:e.identifier},e.dataForm&&(a.collection=e.dataForm.collection,a.control=e.dataForm.control,a.strategy=e.dataForm.strategy);else if("image"==e.dataType.type)a={name:e.name,devicetype:e.devicetype,ico:e.ico,type:e.dataType.type,imagevalue:e.dataType.imagevalue,true:e.dataType.specs[1],false:e.dataType.specs[0],startnumber:t.$objGet(e,"dataType.specs.min"),step:t.$objGet(e,"dataType.specs.step"),unit:t.$objGet(e,"dataType.specs.unit"),round:t.$objGet(e,"dataForm.round"),dinumber:t.$objGet(e,"dataForm.data"),rate:t.$objGet(e,"dataForm.rate"),offset:t.$objGet(e,"dataForm.offset"),order:t.$objGet(e,"dataForm.order"),protocol:t.$objGet(e,"dataForm.protocol"),operatetype:t.$objGet(e,"dataForm.operatetype"),originaltype:t.$objGet(e,"dataForm.originaltype"),slaveid:t.$objGet(e,"dataForm.slaveid"),iscount:this.$objGet(e,"dataForm.iscount"),countstrategy:this.$objGet(e,"dataForm.countstrategy"),countround:this.$objGet(e,"dataForm.countround"),countcollection:this.$objGet(e,"dataForm.countcollection"),required:!1,isread:e.accessMode,isshow:e.isshow,identifier:e.identifier,collection:void 0==e.dataForm?"":e.dataForm.collection,control:void 0==e.dataForm?"":e.dataForm.control,strategy:void 0==e.dataForm?"":e.dataForm.strategy};else if("bool"==e.dataType.type)a={name:e.name,devicetype:e.devicetype,ico:e.ico,type:e.dataType.type,true:e.dataType.specs[1],false:e.dataType.specs[0],startnumber:t.$objGet(e,"dataType.specs.min"),step:t.$objGet(e,"dataType.specs.step"),unit:t.$objGet(e,"dataType.specs.unit"),round:t.$objGet(e,"dataForm.round"),dinumber:t.$objGet(e,"dataForm.data"),rate:t.$objGet(e,"dataForm.rate"),offset:t.$objGet(e,"dataForm.offset"),order:t.$objGet(e,"dataForm.order"),protocol:t.$objGet(e,"dataForm.protocol"),operatetype:t.$objGet(e,"dataForm.operatetype"),originaltype:t.$objGet(e,"dataForm.originaltype"),slaveid:t.$objGet(e,"dataForm.slaveid"),iscount:this.$objGet(e,"dataForm.iscount"),countstrategy:this.$objGet(e,"dataForm.countstrategy"),countround:this.$objGet(e,"dataForm.countround"),countcollection:this.$objGet(e,"dataForm.countcollection"),required:!1,isread:e.accessMode,isshow:e.isshow,identifier:e.identifier,collection:void 0==e.dataForm?"":e.dataForm.collection,control:void 0==e.dataForm?"":e.dataForm.control,strategy:void 0==e.dataForm?"":e.dataForm.strategy};else if("enum"==e.dataType.type){var r=[];for(var l in e.dataType.specs)r.push({attribute:l,attributevalue:e.dataType.specs[l]});a={name:e.name,devicetype:e.devicetype,ico:e.ico,type:e.dataType.type,specs:e.dataType.specs,struct:r,startnumber:t.$objGet(e,"dataType.specs.min"),step:t.$objGet(e,"dataType.specs.step"),unit:t.$objGet(e,"dataType.specs.unit"),round:t.$objGet(e,"dataForm.round"),dinumber:t.$objGet(e,"dataForm.data"),rate:t.$objGet(e,"dataForm.rate"),offset:t.$objGet(e,"dataForm.offset"),order:t.$objGet(e,"dataForm.order"),protocol:t.$objGet(e,"dataForm.protocol"),operatetype:t.$objGet(e,"dataForm.operatetype"),originaltype:t.$objGet(e,"dataForm.originaltype"),slaveid:this.$objGet(e,"dataForm.slaveid"),iscount:this.$objGet(e,"dataForm.iscount"),countstrategy:this.$objGet(e,"dataForm.countstrategy"),countround:this.$objGet(e,"dataForm.countround"),countcollection:this.$objGet(e,"dataForm.countcollection"),required:!0,isread:e.accessMode,isshow:e.isshow,identifier:e.identifier,collection:void 0==e.dataForm?"":e.dataForm.collection,control:void 0==e.dataForm?"":e.dataForm.control,strategy:void 0==e.dataForm?"":e.dataForm.strategy}}else"struct"==e.dataType.type?a={name:e.name,devicetype:e.devicetype,ico:e.ico,type:e.dataType.type,struct:e.dataType.specs,startnumber:t.$objGet(e,"dataType.specs.min"),step:t.$objGet(e,"dataType.specs.step"),unit:t.$objGet(e,"dataType.specs.unit"),round:t.$objGet(e,"dataForm.round"),dinumber:t.$objGet(e,"dataForm.data"),rate:t.$objGet(e,"dataForm.rate"),offset:t.$objGet(e,"dataForm.offset"),order:t.$objGet(e,"dataForm.order"),protocol:t.$objGet(e,"dataForm.protocol"),operatetype:t.$objGet(e,"dataForm.operatetype"),originaltype:t.$objGet(e,"dataForm.originaltype"),slaveid:t.$objGet(e,"dataForm.slaveid"),iscount:this.$objGet(e,"dataForm.iscount"),countstrategy:this.$objGet(e,"dataForm.countstrategy"),countround:this.$objGet(e,"dataForm.countround"),countcollection:this.$objGet(e,"dataForm.countcollection"),required:!0,isread:e.accessMode,isshow:e.isshow,collection:void 0==e.dataForm?"":e.dataForm.collection,control:void 0==e.dataForm?"":e.dataForm.control,identifier:void 0==e.dataForm?"":e.identifier,strategy:void 0==e.dataForm?"":e.dataForm.strategy}:"text"==e.dataType.type?a={name:e.name,devicetype:e.devicetype,ico:e.ico,type:e.dataType.type,collection:void 0==e.dataForm?"":e.dataForm.collection,control:void 0==e.dataForm?"":e.dataForm.control,string:e.dataType.size,startnumber:this.$objGet(e,"dataType.specs.min"),step:t.$objGet(e,"dataType.specs.step"),unit:t.$objGet(e,"dataType.specs.unit"),round:t.$objGet(e,"dataForm.round"),dinumber:t.$objGet(e,"dataForm.data"),rate:t.$objGet(e,"dataForm.rate"),offset:t.$objGet(e,"dataForm.offset"),order:t.$objGet(e,"dataForm.order"),protocol:t.$objGet(e,"dataForm.protocol"),operatetype:t.$objGet(e,"dataForm.operatetype"),originaltype:t.$objGet(e,"dataForm.originaltype"),slaveid:t.$objGet(e,"dataForm.slaveid"),iscount:this.$objGet(e,"dataForm.iscount"),countstrategy:this.$objGet(e,"dataForm.countstrategy"),countround:this.$objGet(e,"dataForm.countround"),countcollection:this.$objGet(e,"dataForm.countcollection"),required:!0,isread:e.accessMode,isshow:e.isshow,identifier:e.identifier,strategy:void 0==e.dataForm?"":e.dataForm.strategy}:"date"==e.dataType.type||"file"==e.dataType.type||"url"==e.dataType.type?a={name:e.name,devicetype:e.devicetype,ico:e.ico,type:e.dataType.type,collection:void 0==e.dataForm?"":e.dataForm.collection,control:void 0==e.dataForm?"":e.dataForm.control,strategy:void 0==e.dataForm?"":e.dataForm.strategy,startnumber:t.$objGet(e,"dataType.specs.min"),step:t.$objGet(e,"dataType.specs.step"),unit:t.$objGet(e,"dataType.specs.unit"),round:t.$objGet(e,"dataForm.round"),dinumber:t.$objGet(e,"dataForm.data"),rate:t.$objGet(e,"dataForm.rate"),offset:t.$objGet(e,"dataForm.offset"),order:t.$objGet(e,"dataForm.order"),protocol:t.$objGet(e,"dataForm.protocol"),operatetype:t.$objGet(e,"dataForm.operatetype"),originaltype:t.$objGet(e,"dataForm.originaltype"),slaveid:t.$objGet(e,"dataForm.slaveid"),iscount:this.$objGet(e,"dataForm.iscount"),countstrategy:this.$objGet(e,"dataForm.countstrategy"),countround:this.$objGet(e,"dataForm.countround"),countcollection:this.$objGet(e,"dataForm.countcollection"),required:!0,isread:e.accessMode,isshow:e.isshow,identifier:e.identifier}:"geopoint"==e.dataType.type&&(a={name:e.name,devicetype:e.devicetype,ico:e.ico,type:e.dataType.type,gpstype:e.dataType.gpstype,collection:void 0==e.dataForm?"":e.dataForm.collection,control:void 0==e.dataForm?"":e.dataForm.control,strategy:void 0==e.dataForm?"":e.dataForm.strategy,startnumber:t.$objGet(e,"dataType.specs.min"),step:t.$objGet(e,"dataType.specs.step"),unit:t.$objGet(e,"dataType.specs.unit"),round:t.$objGet(e,"dataForm.round"),dinumber:t.$objGet(e,"dataForm.data"),rate:t.$objGet(e,"dataForm.rate"),offset:t.$objGet(e,"dataForm.offset"),order:t.$objGet(e,"dataForm.order"),protocol:t.$objGet(e,"dataForm.protocol"),operatetype:t.$objGet(e,"dataForm.operatetype"),originaltype:t.$objGet(e,"dataForm.originaltype"),slaveid:t.$objGet(e,"dataForm.slaveid"),iscount:this.$objGet(e,"dataForm.iscount"),countstrategy:this.$objGet(e,"dataForm.countstrategy"),countround:this.$objGet(e,"dataForm.countround"),countcollection:this.$objGet(e,"dataForm.countcollection"),required:!0,isread:e.accessMode,isshow:e.isshow,identifier:e.identifier});a.nobound=this.sizeForm.nobound,a.dis=e.dataForm.address,a.isdis=this.sizeForm.isdis,t.setSizeForm(a)},wmxCurrentChange:function(e){this.wmxstart=e},wmxSizeChange:function(e){this.wmxstart=1,this.wmxPageSize=e},getAllunit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.allunit=[],t.next=3,Object(n["getAllunit"])("unit",200);case 3:a=t.sent,r=a.results,e.allunit=r.concat([]),e.allunit.unshift({data:{Name:"无",Symbol:""}});case 7:case"end":return t.stop()}}),t)})))()},removeDomain:function(e){this.$emit("removeDomain",e)},addDomain:function(){this.$emit("addDomain")},wmxhandleClose:function(){this.$emit("wmxhandleClose")},changeValue:function(e){this.$refs[e].validateField("startnumber",(function(e){if(e)return!1}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$emit("submitForm",t.sizeForm)}))}})}),p=u,d=a("2877"),m=Object(d["a"])(p,r,l,!1,null,null,null);t["default"]=m.exports},"46c2":function(e,t,a){var r={"./ProductTemplet.vue":"a4ed","./ProfileDescriptions.vue":"d820","./ProfileDict.vue":"1501","./ProfileDrawer.vue":"ec9d"};function l(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}l.keys=function(){return Object.keys(r)},l.resolve=o,e.exports=l,l.id="46c2"},"6b97":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logs logs-container",class:{"vab-fullscreen":e.isFullscreen}},[a("vab-query-form",[a("vab-query-form-top-panel",[e.$loadsh.isEmpty(e.queryForm)?e._e():a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"80px",model:e.queryForm},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$translateTitle("device.tracetype")}},[a("el-select",{model:{value:e.queryForm.tracetype,callback:function(t){e.$set(e.queryForm,"tracetype",t)},expression:"queryForm.tracetype"}},e._l(e.traceData,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("el-form-item",{attrs:{label:e.$translateTitle("device.action")}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","active-text":e.$translateTitle("device.start"),"active-value":"start","inactive-color":"#ff4949","inactive-text":e.$translateTitle("device.stop"),"inactive-value":"stop"},on:{change:e.starttrace},model:{value:e.queryForm.action,callback:function(t){e.$set(e.queryForm,"action",t)},expression:"queryForm.action"}})],1),a("el-form-item",[a("el-button",{staticStyle:{margin:"0 10px 10px 10px !important"},attrs:{type:"success"},on:{click:e.handleHeight}},[a("vab-icon",{attrs:{icon:e.isFullscreen?"fullscreen-exit-fill":"fullscreen-fill"}})],1),a("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.scroketMsg.length,expression:"scroketMsg.length"}],attrs:{trigger:"hover"},scopedSlots:e._u([{key:"reference",fn:function(){return[a("el-button",{staticStyle:{margin:"0 0 10px 0 !important"},attrs:{icon:"el-icon-setting",type:"primary"}},[e._v(" "+e._s(e.$translateTitle("Logs.Draggable column settings"))+" ")])]},proxy:!0}],null,!1,2370876510)},[a("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[a("vue-draggable",e._b({attrs:{list:e.logcolumns}},"vue-draggable",e.dragOptions,!1),e._l(e.logcolumns,(function(t,r){return a("div",{key:t+r},[a("vab-icon",{attrs:{icon:"drag-drop-line"}}),a("el-checkbox",{attrs:{disabled:!0===t.disableCheck,label:t}},[e._v(" "+e._s(t)+" ")])],1)})),0)],1)],1)],1),a("el-form-item",{attrs:{label:e.$translateTitle("device.topic"),prop:"product"}},[a("el-select",{model:{value:e.instructtopic,callback:function(t){e.instructtopic=t},expression:"instructtopic"}},e._l(e.producttopic,(function(e,t){return a("el-option",{key:t,attrs:{label:e.topic,value:e.topic}})})),1)],1),a("el-form-item",{attrs:{label:e.$translateTitle("device.instruct"),prop:"product"}},[a("el-input",{model:{value:e.instruct,callback:function(t){e.instruct=t},expression:"instruct"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendinstruct()}}},[e._v(" "+e._s(e.$translateTitle("device.sendinstruct"))+" ")])],1)],1)],1)],1),a("a-tabs",{attrs:{"default-active-key":"editor"}},[a("a-tab-pane",{key:"editor"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("vab-icon",{attrs:{icon:"aspect-ratio-fill"}}),e._v(" "+e._s(e.$translateTitle("Logs.console"))+" ")],1),a("vab-editor",{key:e.logMqtt.key,attrs:{height:e.isFullscreen?Number(e.$baseTableHeight(0))+80:Number(e.$baseTableHeight(0))+40,lang:"json","max-lines":e.isFullscreen?Number(e.$baseTableHeight(0)+80)/12:Number(e.$baseTableHeight(0)-80)/12,"min-lines":e.isFullscreen?Number(e.$baseTableHeight(0)+80)/12:Number(e.$baseTableHeight(0)-80)/12,theme:"gob"},model:{value:e.clickItem,callback:function(t){e.clickItem=t},expression:"clickItem"}})],1),a("a-tab-pane",{key:"table"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("vab-icon",{attrs:{icon:"table-2"}}),e._v(" "+e._s(e.$translateTitle("Logs.table"))+" ")],1),a("el-table",{key:e.finallyColumns.length+e.momentKey,ref:"dragTable",staticClass:"logs-table",attrs:{border:"",data:e.scroketMsg,"default-expand-all":"",height:e.height,"highlight-current-row":"",resizable:"","row-class-name":e.tableRowClassName,stripe:""},scopedSlots:e._u([{key:"empty",fn:function(){return[a("vab-empty")]},proxy:!0}])},[e._l(e.finallyColumns,(function(t,r){return a("el-table-column",{key:r,attrs:{align:"center",label:t,prop:t,"show-overflow-tooltip":"",sortable:"",width:e.w80.includes(t)?80:e.Wh120.includes(t)?120:"auto"}})})),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-descriptions",{staticClass:"margin-top",attrs:{border:"",column:2}},[a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{directives:[{name:"copy",rawName:"v-copy",value:t.row.msg,expression:"props.row.msg"}],staticClass:"el-icon-copy-document"})]),e._v(" "+e._s(t.row.msg)+" ")],2)],1)]}}])})],2),a("vab-Pagination",{directives:[{name:"show",rawName:"v-show",value:e.queryForm.total>0,expression:"queryForm.total > 0"}],attrs:{limit:e.queryForm.pageSize,page:e.queryForm.pageNo,total:e.queryForm.total},on:{"update:limit":function(t){return e.$set(e.queryForm,"pageSize",t)},"update:page":function(t){return e.$set(e.queryForm,"pageNo",t)},pagination:e.queryTable}})],1)],1)],1)},l=[],o=(a("4de4"),a("d3b7"),a("caad"),a("2532"),a("ac1f"),a("5319"),a("a434"),a("e9c4"),a("bb22")),s=a("7212"),i=(a("c620"),{name:"SceneLog",props:{name:{type:String,required:!0,default:"name"},deviceInfo:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{instruct:"",instructtopic:"",producttopic:[],productId:"",ttl:108e5,topicKey:"",topic:"",logMqtt:{channeltopic:"",key:moment(new Date).valueOf()},subtopic:"",router:"",scroketMsg:[],clickItem:"",isFullscreen:!1,height:this.$baseTableHeight(0),logdata:[],momentKey:moment(new Date).valueOf(),checkList:["time","topic","pid","peername"],logcolumns:["topic","time","pid","peername","msg","level","gl","clientid","mfa"],fold:!0,w80:["line","level"],Wh120:["pid","domain","gl"],Wh200:["time","clientid","peername"],leverData:["debug","info","notice","warning","error","crtical","alert","emergency"],actionData:["start","stop"],traceData:["clientid","topic"],queryForm:{total:0,count:"objectId",limit:20,pageNo:1,pageSize:20,skip:0,level:"info",logfile:"test.txt",order:1,action:"start",tracetype:"clientid"}}},computed:{dragOptions:function(){return{animation:600,group:"description"}},finallyColumns:function(){var e=this;return this.logcolumns.filter((function(t){return e.checkList.includes(t)}))}},watch:{"deviceInfo.product.objectId":{handler:function(e){e&&(this.productId=e)},deep:!0,limit:!0},name:{handler:function(e){"task"==e&&this.queryTable()},deep:!0,limit:!0}},mounted:function(){this.router=this.$dgiotBus.router(location.href+this.$route.fullPath),this.get_topic()},created:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},methods:{get_topic:function(){var e=this;Object(s["getProduct"])(this.deviceInfo.product.objectId).then((function(t){e.producttopic=t.topics}))},sendinstruct:function(){var e=this.instructtopic.replace("${DevAddr}",this.deviceInfo.devaddr);this.$dgiotBus.$emit("MqttPublish",e,this.instruct,0,!1)},handleHeight:function(){this.isFullscreen=!this.isFullscreen,this.isFullscreen?this.height=this.$baseTableHeight(0)+120:this.height=this.$baseTableHeight(0),this.momentKey=moment(new Date).valueOf()},tableRowClassName:function(e){var t=e.row;return t.disabled?"disabled":""},rowDrop:function(){var e=this.$refs.dragTable.$el.querySelector(".el-table__body-wrapper tbody"),t=this;Sortable.create(e,{draggable:".el-table__row",onEnd:function(e){var a=e.newIndex,r=e.oldIndex,l=t.logdata.splice(r,1)[0];t.logdata.splice(a,0,l)}})},columnDrop:function(){var e=this,t=this.$refs.dragTable.$el.querySelector(".el-table__header-wrapper tr");e.sortable=Sortable.create(t,{animation:180,delay:0,onEnd:function(t){var a=e.finallyColumns[t.oldIndex];e.finallyColumns.splice(t.oldIndex,1),e.finallyColumns.splice(t.newIndex,0,a),e.momentKey=moment(new Date).valueOf(),setTimeout((function(){e.rowDrop(),e.columnDrop()}),1500)}})},starttrace:function(e){this.queryForm.action=e,this.queryTable()},queryTable:function(){var e=this;this.scroketMsg=[],this.clickItem="",this.queryForm.deviceid=this.deviceInfo.objectId,"start"==this.queryForm.action&&(this.subtopic="logger_trace/trace/"+this.deviceInfo.objectId+"/#"),this.topicKey=this.$dgiotBus.topicKey(this.router,this.subtopic),this.$dgiotBus.$emit("MqttSubscribe",{router:this.router,topic:this.subtopic,qos:0,ttl:108e5}),this.$dgiotBus.$off("".concat(this.topicKey)),this.$dgiotBus.$on("".concat(this.topicKey),(function(t){t.payload&&(e.scroketMsg.unshift(JSON.parse(t.payload)),e.logMqtt.key=e.topicKey,e.clickItem=JSON.stringify(e.scroketMsg,null,2))})),"stop"==this.queryForm.action&&this.MqttUnbscribe();var t=this.$baseColorfullLoading(),a=this.queryForm,r=a.level,l=a.action,s=a.order,i=a.deviceid,n=a.tracetype,c="clientid"==this.queryForm.tracetype?this.queryForm.deviceid:this.queryForm.topic;try{t.close();var u={level:r,action:l,order:s,handle:c,tracetype:n,deviceid:i};Object(o["postTrace"])(u).then((function(t){var a=t.code,r=void 0===a?0:a,l=t.error,o=void 0===l?"":l;t.msg;200==r?e.$baseMessage(e.$translateTitle("alert.Data request successfully"),"success","vab-hey-message-success"):e.$baseMessage(e.$translateTitle("alert.Data request error")+"".concat(o),"error","vab-hey-message-error")})).catch((function(t){e.$baseMessage(e.$translateTitle("alert.Data request error")+"".concat(t),"error","vab-hey-message-error")})),t.close()}catch(p){t.close(),this.$baseMessage(this.$translateTitle("alert.Data request error")+"".concat(p),"error","vab-hey-message-error")}this.momentKey=moment(new Date).valueOf()},MqttUnbscribe:function(){this.$dgiotBus.$emit("MqttUnbscribe",this.topicKey,this.subtopic)}}}),n=i,c=(a("7e306"),a("94f1"),a("2877")),u=Object(c["a"])(n,r,l,!1,null,"30c06e16",null);t["default"]=u.exports},"7e306":function(e,t,a){"use strict";a("2ac3")},"94f1":function(e,t,a){"use strict";a("28a5")},a4ed:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{staticClass:"parserTable",attrs:{"append-to-body":!0,direction:"rtl",visible:e.dialogFormVisible,width:"500"},on:{close:e.close},scopedSlots:e._u([{key:"footer",fn:function(){return[a("el-button",{on:{click:e.close}},[e._v(" "+e._s(e.$translateTitle("category.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.save(e.form.mark)}}},[e._v(" "+e._s(e.$translateTitle("category.submit"))+" ")])]},proxy:!0}])},[a("vab-query-form",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("vab-query-form-top-panel",[a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"80px",model:e.queryForm},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:e.$translateTitle("alert.productname")}},[a("el-select",{attrs:{clearable:"",placeholder:e.$translateTitle("alert.please enter")+e.$translateTitle("alert.product name")},on:{clear:e.Industry},model:{value:e.queryForm.productId,callback:function(t){e.$set(e.queryForm,"productId",t)},expression:"queryForm.productId"}},e._l(e.productData,(function(t){return a("el-option",{key:t.objectId,attrs:{label:t.name,value:t.objectId},nativeOn:{click:function(a){return e.Industry(t)}}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search","native-type":"submit",type:"primary"},on:{click:e.Industry}},[e._v(" 查询 ")])],1)],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","cell-style":{"text-align":"center"},data:e.tableData,"header-cell-style":{"text-align":"center"},height:e.$baseTableHeight(0)+180,size:"mini"}},[a("el-table-column",{attrs:{label:"objectId",prop:"objectId",width:"140"}}),a("el-table-column",{attrs:{label:e.$translateTitle("developer.Templatename"),prop:"name",width:"180"}}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("developer.operation")},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.toDeleteATemplate(r.objectId)}}},[e._v(" "+e._s(e.$translateTitle("product.Delete template"))+" ")])]}}])})],1),a("vab-Pagination",{directives:[{name:"show",rawName:"v-show",value:e.queryForm.total>0,expression:"queryForm.total > 0"}],attrs:{limit:e.queryForm.pageSize,page:e.queryForm.pageNo,total:e.queryForm.total},on:{"update:limit":function(t){return e.$set(e.queryForm,"pageSize",t)},"update:page":function(t){return e.$set(e.queryForm,"pageNo",t)},pagination:e.Industry}})],1)},l=[],o=a("1da1"),s=a("5530"),i=(a("96cf"),a("d81d"),a("b0c0"),a("d3b7"),a("ddb0"),a("ef68")),n=a("7212"),c=a("5880"),u={name:"ProductTemplet",data:function(){return{form:{},dialogFormVisible:!1,tableData:[],productData:[],queryForm:{productId:"",productFlag:!1,pageNo:1,pageSize:20,searchDate:[],limt:10,skip:0,total:0,order:"-createdAt",keys:"count(*)"}}},computed:Object(s["a"])(Object(s["a"])({},Object(c["mapGetters"])({role:"acl/role",username:"user/username"})),{},{aclObj:function(){var e={};return this.role.map((function(t){e["".concat("role:"+t.name)]={read:!0,write:!0}})),e}}),created:function(){},mounted:function(){},methods:{selectType:function(e){this.form.data=e},categoryChange:function(e){},Industry:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,l,o,s,n,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:{},r.limit||(r=t.queryForm),l={limit:r.limit,order:r.order,skip:r.skip,keys:r.keys},a.prev=3,o=t.$baseColorfullLoading(),a.next=7,Object(i["queryProductTemplet"])(l);case 7:s=a.sent,n=s.results,c=s.count,u=void 0===c?0:c,o.close(),t.tableData=n,t.queryForm.total=u,a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](3),t.$message.error("".concat(a.t0));case 19:case"end":return a.stop()}}),a,null,[[3,16]])})))()},queryProduct:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.$baseColorfullLoading(),t.next=4,Object(n["queryProduct"])({keys:"name",where:{}});case 4:r=t.sent,l=r.results,a.close(),e.productData=l,t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},updateTemplate:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,api(e);case 3:t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},toDeleteATemplate:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r=t.$baseColorfullLoading(),a.next=4,Object(i["delProductTemplet"])(e);case 4:a.sent,r.close(),t.$message.success(t.$translateTitle("user.successfully deleted")),t.Industry(),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),t.$message.error(t.$translateTitle("user.error deleted")+"".concat(a.t0));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},showEdit:function(e){this.queryProduct(),e&&(this.queryForm.productId=e),this.queryForm.productFlag=!0,this.Industry(),this.dialogFormVisible=!0},close:function(){this.dialogFormVisible=!1},save:function(e){var t=this,a={"*":{read:!0}};a[this.objectid]={read:!0,write:!0};var r={name:this.form.name,type:this.form.type,data:this.form.data,order:this.form.order},l="top"==e?_.merge(r,{ACL:_.merge(a,this.aclObj),parent:{objectId:"0",__type:"Pointer",className:"Category"}}):"child"==e?_.merge(r,{ACL:_.merge(a,this.aclObj),parent:{objectId:this.form.objectId,__type:"Pointer",className:"Category"}}):r;this.$refs["form"].validate(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(r){var o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=15;break}if("edit"!=e){a.next=7;break}return a.next=4,putCategory(t.form.objectId,l);case 4:a.t0=a.sent,a.next=10;break;case 7:return a.next=9,postCategory(l);case 9:a.t0=a.sent;case 10:o=a.t0,s=o.msg,t.$baseMessage(s,"success","vab-hey-message-success"),t.$emit("fetch-data"),t.close();case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}}},p=u,d=a("2877"),m=Object(d["a"])(p,r,l,!1,null,null,null);t["default"]=m.exports},d820:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{key:e.productId},[a("el-descriptions",{staticClass:"margin-top",attrs:{border:"",column:2,"content-style":{"text-align":"left"},"label-style":{"text-align":"center"}}},[a("el-descriptions-item",{attrs:{label:e.$translateTitle("product.classification")}},[a("span",[e._v(e._s(e.productDetail.netType))])]),a("el-descriptions-item",{attrs:{label:e.$translateTitle("product.physicalmodel")}},[a("el-link",{attrs:{disabled:!e.productDetail.thing.properties.length,type:e.productDetail.thing.properties.length?"success":"default"},on:{click:function(t){return e.featProperties(e.productDetail.thing.properties)}}},[e._v(" "+e._s(e.productDetail.thing.properties.length||0)+" ")])],1),a("el-descriptions-item",{attrs:{label:e.$translateTitle("product.parser")}},[a("template",{slot:"label"},[a("el-link",{attrs:{type:"success"},on:{click:function(t){return e.feateditorParser(e.productDetail,"parser",!0)}}},[e._v(" "+e._s(e.$translateTitle("product.parser"))+" ")])],1),a("el-link",{attrs:{type:e.productDetail.config.parser.length?"success":"default"},on:{click:function(t){return e.feateditorParser(e.productDetail,"parser",!1)}}},[e._v(" "+e._s(e.productDetail.config.parser.length||0)+" ")])],2),a("el-descriptions-item",[a("template",{slot:"label"},[a("el-link",{attrs:{type:"success"},on:{click:function(t){return e.feateditorParser(e.productDetail,"profile",!0)}}},[e._v(" "+e._s(e.$translateTitle("product.profile"))+" ")])],1),a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.feateditorParser(e.productDetail,"profile",!1)}}},[e._v(" "+e._s(e.productDetail.config.profile.length||0)+" ")])],2),e._e(),a("el-descriptions-item",[a("template",{slot:"label"},[a("el-link",{attrs:{disabled:!e.productDetail.decoder.code.length,type:"warning"},on:{click:function(t){return e.seeDecoder(e.productDetail)}}},[e._v(" "+e._s(e.$translateTitle("product.decoder"))+" ")])],1)],2)],1),e.productDetail.objectId?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.checkschema}},[e._v(" "+e._s(e.$translateTitle("product.viewobjectmodel"))+" ")]):e._e(),e.productDetail.objectId?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.createProperty}},[e._v(" "+e._s(e.$translateTitle("product.newobjectmodel"))+" ")]):e._e(),e.codeFlag?e.codeFlag?a("vab-editor",{staticStyle:{height:"500px"},attrs:{lang:"erlang",theme:"monokai"},model:{value:e.ace_editor,callback:function(t){e.ace_editor=t},expression:"ace_editor"}}):a("el-empty",{attrs:{"image-size":200}}):a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],key:e.tableType,staticStyle:{width:"100%"},attrs:{"cell-style":{"text-align":"center"},data:"things"==e.tableType?e.things:"profile"==e.tableType||"parser"==e.tableType?e.parserTableList:"basedate.params"==e.tableType?e.dictTableList:[],"header-cell-style":{"text-align":"center"},height:"60vh","highlight-current-row":"",size:"medium"}},["things"==e.tableType?a("div",{key:e.tableType+e.thingKey},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return"struct"==t.row.dataType.type?[a("el-table",{staticStyle:{"box-sizing":"border-box",width:"60%","text-align":"center"},attrs:{data:t.row.dataType.specs}},[a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.identifier")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.identifier))])]}}],null,!0)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.functionaltypes")}},[a("span",[e._v(" "+e._s(e.$translateTitle("product.attribute"))+" ")])]),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.functionname"),prop:"name"}}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.datadefinition")}})],1)]:void 0}}],null,!0)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.order"),sortable:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.dataForm.order)+" ")]}}],null,!1,3334091129)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.Rounds"),sortable:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.dataForm.round)+" ")]}}],null,!1,2600166517)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.Strategy"),sortable:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.dataForm.strategy)+" ")]}}],null,!1,1968030284)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.protocol"),sortable:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.dataForm&&a.dataForm.protocol?a.dataForm.protocol:"")+" ")]}}],null,!1,1423239548)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.functionaltypes"),sortable:"",width:"120"}},[a("span",[e._v(e._s(e.$translateTitle("product.attribute")))])]),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.identifier"),prop:"identifier",sortable:""}}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.functionname"),prop:"name",sortable:""}}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.datatype"),sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.dataType.type))])]}}],null,!1,1360520824)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.datadefinition"),sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[!t.row.dataType.specs||"double"!=t.row.dataType.type&&"float"!=t.row.dataType.type&&"int"!=t.row.dataType.type?"string"==t.row.dataType.type?a("span",[e._v(" "+e._s(e.$translateTitle("product.datalength")+":"+t.row.dataType.size+e.$translateTitle("product.byte"))+" ")]):"date"==t.row.dataType.type?a("span"):"struct"!=t.row.dataType.type?a("span",[e._v(" "+e._s(t.row.dataType.specs)+" ")]):a("span"):a("span",[e._v(" "+e._s(e.$translateTitle("product.rangeofvalues")+t.row.dataType.specs.min+"~"+t.row.dataType.specs.max)+" ")])]}}],null,!1,4078319750)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("developer.operation"),width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deletewmx(t.$index)}}},[e._v(" "+e._s(e.$translateTitle("developer.delete"))+" ")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.wmxDataFill(t.row,t.$index)}}},[e._v(" "+e._s(e.$translateTitle("task.Edit"))+" ")])]}}],null,!1,3315990905)})],1):"profile"==e.tableType||"parser"==e.tableType?a("div",[a("el-table-column",{attrs:{align:"center",label:"uid",prop:"uid","show-overflow-tooltip":"",sortable:""}}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.chinesetitle"),prop:"name","show-overflow-tooltip":"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-popover",{attrs:{placement:"top",trigger:"hover"}},[a("p",[e._v(" "+e._s(e.$translateTitle("product.englishtitle"))+": "+e._s(r.enname)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("developer.describe"))+": "+e._s(r.description)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("product.identifier"))+": "+e._s(r.identifier)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("developer.describe"))+": "+e._s(r.description)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("product.Table Name"))+": "+e._s(r.table)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("product.class"))+": "+e._s(r.field)+" ")]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(" "+e._s(r.name)+" ")])],1)])]}}],null,!1,1179674302)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.functionaltypes"),prop:"type","show-overflow-tooltip":"",sortable:""}})],1):"basedate.params"==e.tableType?a("div",[a("el-table-column",{attrs:{label:"序号",prop:"order"}}),a("el-table-column",{attrs:{label:"标识符",prop:"identifier"}}),a("el-table-column",{attrs:{label:"功能名称",prop:"name"}}),a("el-table-column",{attrs:{label:"数据类型",prop:"type"}}),a("el-table-column",{attrs:{label:"数据地址",prop:"address"}}),a("el-table-column",{attrs:{label:"数据长度",prop:"bytes"}}),a("el-table-column",{attrs:{label:"是否必填",prop:"required"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.required?a("span",[e._v("是")]):a("span",[e._v("否")])]}}],null,!1,650597788)})],1):a("div",[a("el-empty",{attrs:{"image-size":200}})],1)])],1)},l=[],o=a("bae0"),s=a.n(o),i={name:"ProfileDescriptions",props:{thingKey:{required:!0,type:String,default:""},productId:{required:!0,type:String,default:""},tableLoading:{required:!1,type:Boolean,default:!1},dictTableList:{required:!1,type:Array,default:function(){return[]}},decoderTableList:{required:!1,type:Object,default:function(){}},parserTableList:{required:!1,type:Array,default:function(){return[]}},things:{required:!1,type:Array,default:function(){return[]}},tableType:{required:!0,type:String,default:""}},data:function(){return{ace_editor:"",codeFlag:!1,productDetail:{thing:{properties:[]},config:{parser:[],profile:[]},decoder:{code:[]}},Category:s.a}},mounted:function(){},methods:{seeDecoder:function(e){var t=e.decoder,a=void 0===t?{}:t;this.codeFlag=!this.codeFlag,this.ace_editor=Base64.decode(a.code)},featProperties:function(e){this.codeFlag=!1,this.$parent.$parent.$parent.properties(e)},feateditorParser:function(e,t,a){this.codeFlag=!1,this.$parent.$parent.$parent.editorParser(e,t,a)},createProperty:function(){this.$parent.$parent.$parent.createProperty()},deletewmx:function(e){this.$parent.$parent.$parent.deletewmx(e)},wmxDataFill:function(e,t){this.$parent.$parent.$parent.wmxDataFill(e,t)},goKonva:function(e){this.$parent.$parent.$parent.goKonva(e)},checkschema:function(){this.$parent.$parent.$parent.checkschema()}}},n=i,c=a("2877"),u=Object(c["a"])(n,r,l,!1,null,null,null);t["default"]=u.exports},ec9d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"parserTable",attrs:{"append-to-body":!0,direction:"rtl",visible:e.parserTable,width:"60%"},on:{"update:visible":function(t){e.parserTable=t},close:function(t){e.$parent.parserTable=!e.parserTable}}},[a("div",{staticClass:"header-title",attrs:{slot:"title"},slot:"title"},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.addParse(e.parserTables)}}},[e._v(" "+e._s(e.$translateTitle("product.newlyadded"))+" ")]),a("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.saveParse(e.parserTables)}}},[e._v(" "+e._s(e.$translateTitle("product.preservation"))+" ")])],1),a("el-table",{attrs:{data:e.parserTables,size:"mini"}},[a("el-table-column",{attrs:{align:"center",label:"uid",prop:"uid","show-overflow-tooltip":"",sortable:"",width:"100"}}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.chinesetitle"),prop:"name","show-overflow-tooltip":"",sortable:"",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-popover",{attrs:{placement:"top",trigger:"hover"}},[a("p",[e._v(" "+e._s(e.$translateTitle("product.englishtitle"))+": "+e._s(r.enname)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("developer.describe"))+": "+e._s(r.description)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("product.identifier"))+": "+e._s(r.identifier)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("developer.describe"))+": "+e._s(r.description)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("product.Table Name"))+": "+e._s(r.table)+" ")]),a("p",[e._v(" "+e._s(e.$translateTitle("product.class"))+": "+e._s(r.field)+" ")]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(" "+e._s(r.name)+" ")])],1)])]}}])}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.functionaltypes"),prop:"type","show-overflow-tooltip":"",sortable:""}}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.visible"),prop:"visible",sortable:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-switch",{attrs:{disabled:""},model:{value:r.visible,callback:function(t){e.$set(r,"visible",t)},expression:"row.visible"}})]}}])}),a("el-table-column",{attrs:{align:"center",fixed:"right",label:e.$translateTitle("developer.operation"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editParse(t.$index,t.row)}}},[e._v(" "+e._s(e.$translateTitle("concentrator.edit"))+" ")]),a("el-button",{attrs:{disabled:!t.row.config.order,type:"text"},on:{click:function(a){return e.previewParse(t.row.config)}}},[e._v(" "+e._s(e.$translateTitle("application.preview"))+" ")]),a("el-button",{attrs:{size:"small",type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.lockingParse(t.row.uid,t.$index,e.parserTables)}}},[e._v(" "+e._s(e.$translateTitle("application.locking"))+" ")]),a("el-button",{attrs:{disabled:t.row.disable,size:"small",type:"text"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteParse(t.row.uid,t.$index,e.parserTables)}}},[e._v(" "+e._s(e.$translateTitle("task.Delete"))+" ")])]}}])})],1)],1)},l=[],o={name:"ProfileDrawer",props:{parserTable:{required:!0,type:Boolean,default:!1},parserTables:{required:!1,type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},mounted:function(){},methods:{addParse:function(e){this.$parent.addParse(e)},saveParse:function(e){this.$parent.saveParse(e)},editParse:function(e,t){this.$parent.editParse(e,t)},previewParse:function(e){this.$parent.previewParse(e)},lockingParse:function(e,t,a){this.$parent.lockingParse(e,t,a)},deleteParse:function(e,t,a){this.$parent.deleteParse(e,t,a)}}},s=o,i=a("2877"),n=Object(i["a"])(s,r,l,!1,null,null,null);t["default"]=n.exports}}]);