/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  time: Wed Nov 17 2021 04:11:49 GMT+0000 (Coordinated Universal Time)
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["libs-dgiot-85a20469"],{"03d9":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return h}));var i,r,s,o,a,l,c,u,h,d=n("dff7");(function(e){e.noSelection=d["a"]("noSelection","No selection"),e.singleSelectionRange=d["a"]("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),e.singleSelection=d["a"]("singleSelection","Line {0}, Column {1}"),e.multiSelectionRange=d["a"]("multiSelectionRange","{0} selections ({1} characters selected)"),e.multiSelection=d["a"]("multiSelection","{0} selections"),e.emergencyConfOn=d["a"]("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),e.openingDocs=d["a"]("openingDocs","Now opening the Editor Accessibility documentation page."),e.readonlyDiffEditor=d["a"]("readonlyDiffEditor"," in a read-only pane of a diff editor."),e.editableDiffEditor=d["a"]("editableDiffEditor"," in a pane of a diff editor."),e.readonlyEditor=d["a"]("readonlyEditor"," in a read-only code editor"),e.editableEditor=d["a"]("editableEditor"," in a code editor"),e.changeConfigToOnMac=d["a"]("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),e.changeConfigToOnWinLinux=d["a"]("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),e.auto_on=d["a"]("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),e.auto_off=d["a"]("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),e.tabFocusModeOnMsg=d["a"]("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),e.tabFocusModeOnMsgNoKb=d["a"]("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),e.tabFocusModeOffMsg=d["a"]("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),e.tabFocusModeOffMsgNoKb=d["a"]("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),e.openDocMac=d["a"]("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),e.openDocWinLinux=d["a"]("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),e.outroMsg=d["a"]("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),e.showAccessibilityHelpAction=d["a"]("showAccessibilityHelpAction","Show Accessibility Help")})(i||(i={})),function(e){e.inspectTokensAction=d["a"]("inspectTokens","Developer: Inspect Tokens")}(r||(r={})),function(e){e.gotoLineActionLabel=d["a"]("gotoLineActionLabel","Go to Line/Column...")}(s||(s={})),function(e){e.helpQuickAccessActionLabel=d["a"]("helpQuickAccess","Show all Quick Access Providers")}(o||(o={})),function(e){e.quickCommandActionLabel=d["a"]("quickCommandActionLabel","Command Palette"),e.quickCommandHelp=d["a"]("quickCommandActionHelp","Show And Run Commands")}(a||(a={})),function(e){e.quickOutlineActionLabel=d["a"]("quickOutlineActionLabel","Go to Symbol..."),e.quickOutlineByCategoryActionLabel=d["a"]("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(l||(l={})),function(e){e.editorViewAccessibleLabel=d["a"]("editorViewAccessibleLabel","Editor content"),e.accessibilityHelpMessage=d["a"]("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(c||(c={})),function(e){e.toggleHighContrast=d["a"]("toggleHighContrast","Toggle High Contrast Theme")}(u||(u={})),function(e){e.bulkEditServiceSummary=d["a"]("bulkEditServiceSummary","Made {0} edits in {1} files")}(h||(h={}))},"045b":function(e,t,n){"use strict";function i(e,t){let n=e.getCount(),i=e.findTokenIndexAtOffset(t),s=e.getLanguageId(i),o=i;while(o+1<n&&e.getLanguageId(o+1)===s)o++;let a=i;while(a>0&&e.getLanguageId(a-1)===s)a--;return new r(e,s,a,o+1,e.getStartOffset(a),e.getEndOffset(o))}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));class r{constructor(e,t,n,i,r,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=r,this._lastCharOffset=s}getLineContent(){const e=this._actual.getLineContent();return e.substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){const t=this._actual.getLineContent();return t.substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function s(e){return 0!==(7&e)}},"0d83":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return C})),n.d(t,"q",(function(){return b})),n.d(t,"r",(function(){return w}));class i{constructor(){this.type=0}}class r{constructor(){this.type=1}}class s{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class o{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class a{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class l{constructor(){this.type=5}}class c{constructor(e){this.type=6,this.isFocused=e}}class u{constructor(){this.type=7}}class h{constructor(){this.type=8}}class d{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class g{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class f{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class m{constructor(e,t,n,i,r,s){this.type=12,this.source=e,this.range=t,this.selections=n,this.verticalType=i,this.revealHorizontal=r,this.scrollType=s}}class p{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class _{constructor(){this.type=14}}class C{constructor(e){this.type=15,this.ranges=e}}class b{constructor(){this.type=16}}class w{constructor(){this.type=17}}},1080:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b}));var i=n("3742"),r=n("7ab3"),s=n("6a89");class o{constructor(e,t,n,i,r,s){this._richEditBracketBrand=void 0,this.languageIdentifier=e,this.index=t,this.open=n,this.close=i,this.forwardRegex=r,this.reversedRegex=s,this._openSet=o._toSet(this.open),this._closeSet=o._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e)t.add(n);return t}}function a(e){const t=e.length;e=e.map(e=>[e[0].toLowerCase(),e[1].toLowerCase()]);const n=[];for(let o=0;o<t;o++)n[o]=o;const i=(e,t)=>{const[n,i]=e,[r,s]=t;return n===r||n===s||i===r||i===s},r=(e,i)=>{const r=Math.min(e,i),s=Math.max(e,i);for(let o=0;o<t;o++)n[o]===s&&(n[o]=r)};for(let o=0;o<t;o++){const s=e[o];for(let a=o+1;a<t;a++){const t=e[a];i(s,t)&&r(n[o],n[a])}}const s=[];for(let o=0;o<t;o++){let i=[],r=[];for(let s=0;s<t;s++)if(n[s]===o){const[t,n]=e[s];i.push(t),r.push(n)}i.length>0&&s.push({open:i,close:r})}return s}class l{constructor(e,t){this._richEditBracketsBrand=void 0;const n=a(t);this.brackets=n.map((t,i)=>new o(e,i,t.open,t.close,d(t.open,t.close,n,i),g(t.open,t.close,n,i))),this.forwardRegex=f(this.brackets),this.reversedRegex=m(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const i of this.brackets){for(const e of i.open)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of i.close)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function c(e,t,n,i){for(let r=0,s=t.length;r<s;r++){if(r===n)continue;const s=t[r];for(const t of s.open)t.indexOf(e)>=0&&i.push(t);for(const t of s.close)t.indexOf(e)>=0&&i.push(t)}}function u(e,t){return e.length-t.length}function h(e){if(e.length<=1)return e;const t=[],n=new Set;for(const i of e)n.has(i)||(t.push(i),n.add(i));return t}function d(e,t,n,i){let r=[];r=r.concat(e),r=r.concat(t);for(let s=0,o=r.length;s<o;s++)c(r[s],n,i,r);return r=h(r),r.sort(u),r.reverse(),_(r)}function g(e,t,n,i){let r=[];r=r.concat(e),r=r.concat(t);for(let s=0,o=r.length;s<o;s++)c(r[s],n,i,r);return r=h(r),r.sort(u),r.reverse(),_(r.map(C))}function f(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=h(t),_(t)}function m(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=h(t),_(t.map(C))}function p(e){const t=/^[\w ]+$/.test(e);return e=i["s"](e),t?`\\b${e}\\b`:e}function _(e){let t=`(${e.map(p).join(")|(")})`;return i["p"](t,!0)}const C=function(){function e(e){if(r["d"]){const t=new Uint16Array(e.length);let n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return r["c"]().decode(t)}{let t=[],n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charAt(i);return t.join("")}}let t=null,n=null;return function(i){return t!==i&&(t=i,n=e(t)),n}}();class b{static _findPrevBracketInText(e,t,n,i){let r=n.match(e);if(!r)return null;let o=n.length-(r.index||0),a=r[0].length,l=i+o;return new s["a"](t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,n,i,r){const s=C(n),o=s.substring(n.length-r,n.length-i);return this._findPrevBracketInText(e,t,o,i)}static findNextBracketInText(e,t,n,i){let r=n.match(e);if(!r)return null;let o=r.index||0,a=r[0].length;if(0===a)return null;let l=i+o;return new s["a"](t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,n,i,r){const s=n.substring(i,r);return this.findNextBracketInText(e,t,s,i)}}},"130b":function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return d}));var i=n("308f"),r=n("a666");class s extends r["a"]{constructor(){super(),this._onEvent=this._register(new i["b"]),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,n=this._outgoingEvents.length;t<n;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOutgoingEvents(){while(this._outgoingEvents.length>0){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new o),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const n of e)this._addOutgoingEvent(n);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{const t=this.beginEmitViewEvents();t.emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){while(this._viewEventQueue){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const n of t)n.handleEvents(e)}}}class o{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class a{constructor(e,t,n,i){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=n,this.contentHeight=i,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new a(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class l{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new l(this.oldHasFocus,e.hasFocus)}}class c{constructor(e,t,n,i,r,s,o,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=n,this._oldScrollTop=i,this.scrollWidth=r,this.scrollLeft=s,this.scrollHeight=o,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return 2!==e.kind?this:new c(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class u{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class h{constructor(e,t,n,i,r,s,o){this.kind=5,this.oldSelections=e,this.selections=t,this.oldModelVersionId=n,this.modelVersionId=i,this.source=r,this.reason=s,this.reachedMaxCursorCount=o}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const n=e.length,i=t.length;if(n!==i)return!1;for(let r=0;r<n;r++)if(!e[r].equalsSelection(t[r]))return!1;return!0}isNoOp(){return h._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 5!==e.kind?this:new h(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class d{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}},"1b69":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var i=n("0a0f");const r=Object(i["c"])("modelService");function s(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},2837:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e[e["None"]=0]="None",e[e["Indent"]=1]="Indent",e[e["IndentOutdent"]=2]="IndentOutdent",e[e["Outdent"]=3]="Outdent"}(i||(i={}));class r{constructor(e){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++){const n=e.notIn[t];switch(n){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}}isOK(e){return 0===(this._standardTokenMask&e)}}class s{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)o(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),o(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),o(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),o(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&o(this.autoClosingPairsCloseSingleChar,t.close,t)}}function o(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}},"2de5":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var i=n("099d");class r{constructor(e,t){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class s{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Object(i["a"])(e);const n=this.values,r=this.prefixSum,s=t.length;return 0!==s&&(this.values=new Uint32Array(n.length+s),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+s),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=Object(i["a"])(e),t=Object(i["a"])(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Object(i["a"])(e),t=Object(i["a"])(t);const n=this.values,r=this.prefixSum;if(e>=n.length)return!1;let s=n.length-e;return t>=s&&(t=s),0!==t&&(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Object(i["a"])(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,n=this.values.length-1,i=0,s=0,o=0;while(t<=n)if(i=t+(n-t)/2|0,s=this.prefixSum[i],o=s-this.values[i],e<o)n=i-1;else{if(!(e>=s))break;t=i+1}return new r(i,e-o)}}},"32a4":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));var i=n("dff7"),r=n("308f"),s=n("b707"),o=n("70cb"),a=n("89cd"),l=n("b9b4");const c={ModesRegistry:"editor.modesRegistry"};class u{constructor(){this._onDidChangeLanguages=new r["b"],this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}const h=new u;a["a"].add(c.ModesRegistry,h);const d="plaintext",g=".txt",f=new s["s"](d,1);h.registerLanguage({id:d,extensions:[g],aliases:[i["a"]("plainText.alias","Plain Text"),"text"],mimetypes:[l["a"].text]}),o["a"].register(f,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)},"32f2":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));class i{constructor(e,t,n){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|n}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class r{constructor(e,t,n){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class s{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(r.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),r=Math.floor(this._outerHeight),s=n/r,o=Math.floor(4*this._pixelRatio/2);let a=[];for(let l=0,c=this._zones.length;l<c;l++){const r=this._zones[l];if(!e){const e=r.getColorZones();if(e){a.push(e);continue}}const c=Math.floor(s*this._getVerticalOffsetForLine(r.startLineNumber)),u=Math.floor(s*(this._getVerticalOffsetForLine(r.endLineNumber)+t));let h=Math.floor((c+u)/2),d=u-h;d<o&&(d=o),h-d<0&&(h=d),h+d>n&&(h=n-d);const g=r.color;let f=this._color2Id[g];f||(f=++this._lastAssignedId,this._color2Id[g]=f,this._id2Color[f]=g);const m=new i(h-d,h+d,f);r.setColorZone(m),a.push(m)}return this._colorZonesInvalid=!1,a.sort(i.compare),a}}},5380:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class i{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class r{constructor(e,t,n){this.configuration=e,this.theme=new i(t),this.model=n,this.viewLayout=n.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}},"567d":function(e,t,n){"use strict";n.d(t,"b",(function(){return K})),n.d(t,"a",(function(){return Q}));var i=n("5fe7"),r=n("a666"),s=n("1b1f"),o=n("c531"),a=n("6a89"),l=n("b707"),c=n("70cb"),u=n("1b0e"),h=n("30db"),d=n("6d8e"),g=n("7061"),f=n("22e9"),m=n("a411"),p=n("d093"),_=n("3170");class C{constructor(e,t,n){const i=new Uint8Array(e*t);for(let r=0,s=e*t;r<s;r++)i[r]=n;this._data=i,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,n){this._data[e*this.cols+t]=n}}class b{constructor(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++){let[i,s,o]=e[r];s>t&&(t=s),i>n&&(n=i),o>n&&(n=o)}t++,n++;let i=new C(n,t,0);for(let r=0,s=e.length;r<s;r++){let[t,n,s]=e[r];i.set(t,n,s)}this._states=i,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let w=null;function L(){return null===w&&(w=new b([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),w}let v=null;function S(){if(null===v){v=new _["a"](0);const e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let n=0;n<e.length;n++)v.set(e.charCodeAt(n),1);const t=".,;";for(let n=0;n<t.length;n++)v.set(t.charCodeAt(n),2)}return v}class k{static _createLink(e,t,n,i,r){let s=r-1;do{const n=t.charCodeAt(s),i=e.get(n);if(2!==i)break;s--}while(s>i);if(i>0){const e=t.charCodeAt(i-1),n=t.charCodeAt(s);(40===e&&41===n||91===e&&93===n||123===e&&125===n)&&s--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:s+2},url:t.substring(i,s+1)}}static computeLinks(e,t=L()){const n=S();let i=[];for(let r=1,s=e.getLineCount();r<=s;r++){const s=e.getLineContent(r),o=s.length;let a=0,l=0,c=0,u=1,h=!1,d=!1,g=!1,f=!1;while(a<o){let e=!1;const o=s.charCodeAt(a);if(13===u){let t;switch(o){case 40:h=!0,t=0;break;case 41:t=h?0:1;break;case 91:g=!0,d=!0,t=0;break;case 93:g=!1,t=d?0:1;break;case 123:f=!0,t=0;break;case 125:t=f?0:1;break;case 39:t=34===c||96===c?0:1;break;case 34:t=39===c||96===c?0:1;break;case 96:t=39===c||34===c?0:1;break;case 42:t=42===c?1:0;break;case 124:t=124===c?1:0;break;case 32:t=g?0:1;break;default:t=n.get(o)}1===t&&(i.push(k._createLink(n,s,r,l,a)),e=!0)}else if(12===u){let t;91===o?(d=!0,t=0):t=n.get(o),1===t?e=!0:u=13}else u=t.nextState(u,o),0===u&&(e=!0);e&&(u=1,h=!1,d=!1,f=!1,l=a+1,c=o),a++}13===u&&i.push(k._createLink(n,s,r,l,o))}return i}}function O(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?k.computeLinks(e):[]}class I{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,n,i,r){if(e&&t){let n=this.doNavigateValueSet(t,r);if(n)return{range:e,value:n}}if(n&&i){let e=this.doNavigateValueSet(i,r);if(e)return{range:n,value:e}}return null}doNavigateValueSet(e,t){let n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)}numberReplace(e,t){let n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),r=parseFloat(e);return isNaN(i)||isNaN(r)||i!==r?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,n){let i=null;for(let r=0,s=e.length;null===i&&r<s;r++)i=this.valueSetReplace(e[r],t,n);return i}valueSetReplace(e,t,n){let i=e.indexOf(t);return i>=0?(i+=n?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null}}I.INSTANCE=new I;var M=n("6eab"),y=n("ef8e"),N=n("e58e"),E=function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):r(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class x extends m["a"]{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let n=Object(p["d"])(e.column,Object(p["c"])(t),this._lines[e.lineNumber-1],0);return n?new a["a"](e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null}words(e){const t=this._lines,n=this._wordenize.bind(this);let i=0,r="",s=0,o=[];return{*[Symbol.iterator](){while(1)if(s<o.length){const e=r.substring(o[s].start,o[s].end);s+=1,yield e}else{if(!(i<t.length))break;r=t[i],o=n(r,e),s=0,i+=1}}}}getLineWords(e,t){let n=this._lines[e-1],i=this._wordenize(n,t),r=[];for(const s of i)r.push({word:n.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return r}_wordenize(e,t){const n=[];let i;t.lastIndex=0;while(i=t.exec(e)){if(0===i[0].length)break;n.push({start:i.index,end:i.index+i[0].length})}return n}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,r=[];r.push(this._lines[n].substring(e.startColumn-1));for(let s=n+1;s<i;s++)r.push(this._lines[s]);return r.push(this._lines[i].substring(0,e.endColumn-1)),r.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e}_validatePosition(e){if(!g["a"].isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:n}=e,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{let e=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>e&&(n=e,i=!0)}return i?{lineNumber:t,column:n}:e}}class T{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new x(d["a"].parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;let n=this._models[e];n.onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,n,i){return E(this,void 0,void 0,(function*(){const r=this._getModel(e),s=this._getModel(t);if(!r||!s)return null;const o=r.getLinesContent(),a=s.getLinesContent(),l=new f["a"](o,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0,maxComputationTime:i}),c=l.computeDiff(),u=!(c.changes.length>0)&&this._modelsAreIdentical(r,s);return{quitEarly:c.quitEarly,identical:u,changes:c.changes}}))}_modelsAreIdentical(e,t){const n=e.getLineCount(),i=t.getLineCount();if(n!==i)return!1;for(let r=1;r<=n;r++){const n=e.getLineContent(r),i=t.getLineContent(r);if(n!==i)return!1}return!0}computeMoreMinimalEdits(e,t){return E(this,void 0,void 0,(function*(){const n=this._getModel(e);if(!n)return t;const i=[];let r=void 0;t=t.slice(0).sort((e,t)=>{if(e.range&&t.range)return a["a"].compareRangesUsingStarts(e.range,t.range);let n=e.range?0:1,i=t.range?0:1;return n-i});for(let{range:e,text:s,eol:o}of t){if("number"===typeof o&&(r=o),a["a"].isEmpty(e)&&!s)continue;const t=n.getValueInRange(e);if(s=s.replace(/\r\n|\n|\r/g,n.eol),t===s)continue;if(Math.max(s.length,t.length)>T._diffLimit){i.push({range:e,text:s});continue}const l=Object(u["b"])(t,s,!1),c=n.offsetAt(a["a"].lift(e).getStartPosition());for(const e of l){const t=n.positionAt(c+e.originalStart),r=n.positionAt(c+e.originalStart+e.originalLength),o={text:s.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:r.lineNumber,endColumn:r.column}};n.getValueInRange(o.range)!==o.text&&i.push(o)}}return"number"===typeof r&&i.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),i}))}computeLinks(e){return E(this,void 0,void 0,(function*(){let t=this._getModel(e);return t?O(t):null}))}textualSuggest(e,t,n,i){return E(this,void 0,void 0,(function*(){const r=new N["a"](!0),s=new RegExp(n,i),o=new Set;e:for(let n of e){const e=this._getModel(n);if(e)for(let n of e.words(s))if(n!==t&&isNaN(Number(n))&&(o.add(n),o.size>T._suggestionsLimit))break e}return{words:Array.from(o),duration:r.elapsed()}}))}computeWordRanges(e,t,n,i){return E(this,void 0,void 0,(function*(){let r=this._getModel(e);if(!r)return Object.create(null);const s=new RegExp(n,i),o=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=r.getLineWords(e,s);for(const n of t){if(!isNaN(Number(n.word)))continue;let t=o[n.word];t||(t=[],o[n.word]=t),t.push({startLineNumber:e,startColumn:n.startColumn,endLineNumber:e,endColumn:n.endColumn})}}return o}))}navigateValueSet(e,t,n,i,r){return E(this,void 0,void 0,(function*(){let s=this._getModel(e);if(!s)return null;let o=new RegExp(i,r);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},o);if(!l)return null;let c=s.getValueInRange(l),u=I.INSTANCE.navigateValueSet(t,a,l,c,n);return u}))}loadForeignModule(e,t,n){const i=(e,t)=>this._host.fhr(e,t),r=y["c"](n,i);let s={host:r,getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(s,t),Promise.resolve(y["d"](this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!==typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(n){return Promise.reject(n)}}}T._diffLimit=1e5,T._suggestionsLimit=1e4,"function"===typeof importScripts&&(h["b"].monaco=Object(M["a"])());var V=n("1b69"),D=n("7b4a"),R=n("3742"),P=n("e8e3"),A=n("d3d7"),W=n("fdcc"),F=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},B=function(e,t){return function(n,i){t(n,i,e)}},H=function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):r(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const j=6e4,U=3e5;function z(e,t){let n=e.getModel(t);return!!n&&!n.isTooLargeForSyncing()}let K=class extends r["a"]{constructor(e,t,n){super(),this._modelService=e,this._workerManager=this._register(new q(this._modelService)),this._logService=n,this._register(l["t"].register("*",{provideLinks:(e,t)=>z(this._modelService,e.uri)?this._workerManager.withWorker().then(t=>t.computeLinks(e.uri)).then(e=>e&&{links:e}):Promise.resolve({links:[]})})),this._register(l["d"].register("*",new Y(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}computeDiff(e,t,n,i){return this._workerManager.withWorker().then(r=>r.computeDiff(e,t,n,i))}computeMoreMinimalEdits(e,t){if(Object(P["l"])(t)){if(!z(this._modelService,e))return Promise.resolve(t);const n=N["a"].create(!0),r=this._workerManager.withWorker().then(n=>n.computeMoreMinimalEdits(e,t));return r.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed())),Promise.race([r,Object(i["k"])(1e3).then(()=>t)])}return Promise.resolve(void 0)}canNavigateValueSet(e){return z(this._modelService,e)}navigateValueSet(e,t,n){return this._workerManager.withWorker().then(i=>i.navigateValueSet(e,t,n))}canComputeWordRanges(e){return z(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(n=>n.computeWordRanges(e,t))}};K=F([B(0,V["a"]),B(1,D["a"]),B(2,A["b"])],K);class Y{constructor(e,t,n){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=n}provideCompletionItems(e,t){return H(this,void 0,void 0,(function*(){const n=this._configurationService.getValue(e.uri,t,"editor");if(!n.wordBasedSuggestions)return;const i=[];if("currentDocument"===n.wordBasedSuggestionsMode)z(this._modelService,e.uri)&&i.push(e.uri);else for(const t of this._modelService.getModels())z(this._modelService,t.uri)&&(t===e?i.unshift(t.uri):"allDocuments"!==n.wordBasedSuggestionsMode&&t.getLanguageIdentifier().id!==e.getLanguageIdentifier().id||i.push(t.uri));if(0===i.length)return;const r=c["a"].getWordDefinition(e.getLanguageIdentifier().id),s=e.getWordAtPosition(t),o=s?new a["a"](t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):a["a"].fromPositions(t),l=o.setEndPosition(t.lineNumber,t.column),u=yield this._workerManager.withWorker(),h=yield u.textualSuggest(i,null===s||void 0===s?void 0:s.word,r);return h?{duration:h.duration,suggestions:h.words.map(e=>({kind:18,label:e,insertText:e,range:{insert:l,replace:o}}))}:void 0}))}}class q extends r["a"]{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime();let t=this._register(new i["c"]);t.cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(U/2)),this._register(this._modelService.onModelRemoved(e=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;let e=this._modelService.getModels();0===e.length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;let e=(new Date).getTime()-this._lastWorkerUsedTime;e>U&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Q(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class G extends r["a"]{constructor(e,t,n){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!n){let e=new i["c"];e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(j/2)),this._register(e)}}dispose(){for(let e in this._syncedModels)Object(r["f"])(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const n of e){let e=n.toString();this._syncedModels[e]||this._beginModelSync(n,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let n in this._syncedModelsLastUsedTime){let i=e-this._syncedModelsLastUsedTime[n];i>j&&t.push(n)}for(const n of t)this._stopModelSync(n)}_beginModelSync(e,t){let n=this._modelService.getModel(e);if(!n)return;if(!t&&n.isTooLargeForSyncing())return;let i=e.toString();this._proxy.acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});const s=new r["b"];s.add(n.onDidChangeContent(e=>{this._proxy.acceptModelChanged(i.toString(),e)})),s.add(n.onWillDispose(()=>{this._stopModelSync(i)})),s.add(Object(r["i"])(()=>{this._proxy.acceptRemovedModel(i)})),this._syncedModels[i]=s}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Object(r["f"])(t)}}class ${constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Z{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class Q extends r["a"]{constructor(e,t,n){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new o["a"](n),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new s["a"](this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Z(this)))}catch(e){Object(s["b"])(e),this._worker=new $(new T(new Z(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(Object(s["b"])(e),this._worker=new $(new T(new Z(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new G(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return H(this,void 0,void 0,(function*(){return this._disposed?Promise.reject(Object(W["b"])()):this._getProxy().then(n=>(this._getOrCreateModelManager(n).ensureSyncedResources(e,t),n))}))}computeDiff(e,t,n,i){return this._withSyncedResources([e,t],!0).then(r=>r.computeDiff(e.toString(),t.toString(),n,i))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(n=>n.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,n){return H(this,void 0,void 0,(function*(){const i=yield this._withSyncedResources(e),r=n.source,s=Object(R["L"])(n);return i.textualSuggest(e.map(e=>e.toString()),t,r,s)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then(n=>{let i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);let r=c["a"].getWordDefinition(i.getLanguageIdentifier().id),s=r.source,o=Object(R["L"])(r);return n.computeWordRanges(e.toString(),t,s,o)})}navigateValueSet(e,t,n){return this._withSyncedResources([e]).then(i=>{let r=this._modelService.getModel(e);if(!r)return null;let s=c["a"].getWordDefinition(r.getLanguageIdentifier().id),o=s.source,a=Object(R["L"])(s);return i.navigateValueSet(e.toString(),t,n,o,a)})}dispose(){super.dispose(),this._disposed=!0}}},5818:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("0a0f");const r=Object(i["c"])("modeService")},"5adc":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return m}));var i=n("ceb8");class r{constructor(e,t,n,i,r){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=r}}function s(e){if(!e||!Array.isArray(e))return[];let t=[],n=0;for(let i=0,s=e.length;i<s;i++){let s=e[i],o=-1;if("string"===typeof s.fontStyle){o=0;let e=s.fontStyle.split(" ");for(let t=0,n=e.length;t<n;t++){let n=e[t];switch(n){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4;break}}}let a=null;"string"===typeof s.foreground&&(a=s.foreground);let l=null;"string"===typeof s.background&&(l=s.background),t[n++]=new r(s.token||"",i,o,a,l)}return t}function o(e,t){e.sort((e,t)=>{let n=d(e.token,t.token);return 0!==n?n:e.index-t.index});let n=0,i="000000",r="ffffff";while(e.length>=1&&""===e[0].token){let t=e.shift();-1!==t.fontStyle&&(n=t.fontStyle),null!==t.foreground&&(i=t.foreground),null!==t.background&&(r=t.background)}let s=new l;for(let l of t)s.getId(l);let o=s.getId(i),a=s.getId(r),u=new g(n,o,a),h=new f(u);for(let l=0,c=e.length;l<c;l++){let t=e[l];h.insert(t.token,t.fontStyle,s.getId(t.foreground),s.getId(t.background))}return new c(s,h)}const a=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class l{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(a);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=i["a"].fromHex("#"+e),n)}getColorMap(){return this._id2color.slice(0)}}class c{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(s(e),t)}static createFromParsedTokenTheme(e,t){return o(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let n=this._cache.get(t);if("undefined"===typeof n){let e=this._match(t),i=h(t);n=(e.metadata|i<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}const u=/\b(comment|string|regex|regexp)\b/;function h(e){let t=e.match(u);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function d(e,t){return e<t?-1:e>t?1:0}class g{constructor(e,t,n){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new g(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class f{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));let r=this._children.get(t);return"undefined"!==typeof r?r.match(n):this._mainRule}insert(e,t,n,i){if(""===e)return void this._mainRule.acceptOverwrite(t,n,i);let r,s,o=e.indexOf(".");-1===o?(r=e,s=""):(r=e.substring(0,o),s=e.substring(o+1));let a=this._children.get(r);"undefined"===typeof a&&(a=new f(this._mainRule.clone()),this._children.set(r,a)),a.insert(s,t,n,i)}}function m(e){let t=[];for(let n=1,i=e.length;n<i;n++){let i=e[n];t[n]=`.mtk${n} { color: ${i}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}},6881:function(e,t,n){"use strict";var i,r,s,o,a,l,c,u,h,d,g,f,m,p,_,C,b,w,L,v,S,k,O,I,M,y,N,E,x,T,V,D,R,P,A;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return C})),n.d(t,"q",(function(){return b})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return L})),n.d(t,"t",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"v",(function(){return k})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return I})),n.d(t,"y",(function(){return M})),n.d(t,"z",(function(){return y})),n.d(t,"A",(function(){return N})),n.d(t,"B",(function(){return E})),n.d(t,"C",(function(){return x})),n.d(t,"D",(function(){return T})),n.d(t,"E",(function(){return V})),n.d(t,"F",(function(){return D})),n.d(t,"G",(function(){return R})),n.d(t,"H",(function(){return P})),n.d(t,"I",(function(){return A})),function(e){e[e["Unknown"]=0]="Unknown",e[e["Disabled"]=1]="Disabled",e[e["Enabled"]=2]="Enabled"}(i||(i={})),function(e){e[e["KeepWhitespace"]=1]="KeepWhitespace",e[e["InsertAsSnippet"]=4]="InsertAsSnippet"}(r||(r={})),function(e){e[e["Method"]=0]="Method",e[e["Function"]=1]="Function",e[e["Constructor"]=2]="Constructor",e[e["Field"]=3]="Field",e[e["Variable"]=4]="Variable",e[e["Class"]=5]="Class",e[e["Struct"]=6]="Struct",e[e["Interface"]=7]="Interface",e[e["Module"]=8]="Module",e[e["Property"]=9]="Property",e[e["Event"]=10]="Event",e[e["Operator"]=11]="Operator",e[e["Unit"]=12]="Unit",e[e["Value"]=13]="Value",e[e["Constant"]=14]="Constant",e[e["Enum"]=15]="Enum",e[e["EnumMember"]=16]="EnumMember",e[e["Keyword"]=17]="Keyword",e[e["Text"]=18]="Text",e[e["Color"]=19]="Color",e[e["File"]=20]="File",e[e["Reference"]=21]="Reference",e[e["Customcolor"]=22]="Customcolor",e[e["Folder"]=23]="Folder",e[e["TypeParameter"]=24]="TypeParameter",e[e["User"]=25]="User",e[e["Issue"]=26]="Issue",e[e["Snippet"]=27]="Snippet"}(s||(s={})),function(e){e[e["Deprecated"]=1]="Deprecated"}(o||(o={})),function(e){e[e["Invoke"]=0]="Invoke",e[e["TriggerCharacter"]=1]="TriggerCharacter",e[e["TriggerForIncompleteCompletions"]=2]="TriggerForIncompleteCompletions"}(a||(a={})),function(e){e[e["EXACT"]=0]="EXACT",e[e["ABOVE"]=1]="ABOVE",e[e["BELOW"]=2]="BELOW"}(l||(l={})),function(e){e[e["NotSet"]=0]="NotSet",e[e["ContentFlush"]=1]="ContentFlush",e[e["RecoverFromMarkers"]=2]="RecoverFromMarkers",e[e["Explicit"]=3]="Explicit",e[e["Paste"]=4]="Paste",e[e["Undo"]=5]="Undo",e[e["Redo"]=6]="Redo"}(c||(c={})),function(e){e[e["LF"]=1]="LF",e[e["CRLF"]=2]="CRLF"}(u||(u={})),function(e){e[e["Text"]=0]="Text",e[e["Read"]=1]="Read",e[e["Write"]=2]="Write"}(h||(h={})),function(e){e[e["None"]=0]="None",e[e["Keep"]=1]="Keep",e[e["Brackets"]=2]="Brackets",e[e["Advanced"]=3]="Advanced",e[e["Full"]=4]="Full"}(d||(d={})),function(e){e[e["acceptSuggestionOnCommitCharacter"]=0]="acceptSuggestionOnCommitCharacter",e[e["acceptSuggestionOnEnter"]=1]="acceptSuggestionOnEnter",e[e["accessibilitySupport"]=2]="accessibilitySupport",e[e["accessibilityPageSize"]=3]="accessibilityPageSize",e[e["ariaLabel"]=4]="ariaLabel",e[e["autoClosingBrackets"]=5]="autoClosingBrackets",e[e["autoClosingDelete"]=6]="autoClosingDelete",e[e["autoClosingOvertype"]=7]="autoClosingOvertype",e[e["autoClosingQuotes"]=8]="autoClosingQuotes",e[e["autoIndent"]=9]="autoIndent",e[e["automaticLayout"]=10]="automaticLayout",e[e["autoSurround"]=11]="autoSurround",e[e["bracketPairColorization"]=12]="bracketPairColorization",e[e["guides"]=13]="guides",e[e["codeLens"]=14]="codeLens",e[e["codeLensFontFamily"]=15]="codeLensFontFamily",e[e["codeLensFontSize"]=16]="codeLensFontSize",e[e["colorDecorators"]=17]="colorDecorators",e[e["columnSelection"]=18]="columnSelection",e[e["comments"]=19]="comments",e[e["contextmenu"]=20]="contextmenu",e[e["copyWithSyntaxHighlighting"]=21]="copyWithSyntaxHighlighting",e[e["cursorBlinking"]=22]="cursorBlinking",e[e["cursorSmoothCaretAnimation"]=23]="cursorSmoothCaretAnimation",e[e["cursorStyle"]=24]="cursorStyle",e[e["cursorSurroundingLines"]=25]="cursorSurroundingLines",e[e["cursorSurroundingLinesStyle"]=26]="cursorSurroundingLinesStyle",e[e["cursorWidth"]=27]="cursorWidth",e[e["disableLayerHinting"]=28]="disableLayerHinting",e[e["disableMonospaceOptimizations"]=29]="disableMonospaceOptimizations",e[e["domReadOnly"]=30]="domReadOnly",e[e["dragAndDrop"]=31]="dragAndDrop",e[e["emptySelectionClipboard"]=32]="emptySelectionClipboard",e[e["extraEditorClassName"]=33]="extraEditorClassName",e[e["fastScrollSensitivity"]=34]="fastScrollSensitivity",e[e["find"]=35]="find",e[e["fixedOverflowWidgets"]=36]="fixedOverflowWidgets",e[e["folding"]=37]="folding",e[e["foldingStrategy"]=38]="foldingStrategy",e[e["foldingHighlight"]=39]="foldingHighlight",e[e["foldingImportsByDefault"]=40]="foldingImportsByDefault",e[e["unfoldOnClickAfterEndOfLine"]=41]="unfoldOnClickAfterEndOfLine",e[e["fontFamily"]=42]="fontFamily",e[e["fontInfo"]=43]="fontInfo",e[e["fontLigatures"]=44]="fontLigatures",e[e["fontSize"]=45]="fontSize",e[e["fontWeight"]=46]="fontWeight",e[e["formatOnPaste"]=47]="formatOnPaste",e[e["formatOnType"]=48]="formatOnType",e[e["glyphMargin"]=49]="glyphMargin",e[e["gotoLocation"]=50]="gotoLocation",e[e["hideCursorInOverviewRuler"]=51]="hideCursorInOverviewRuler",e[e["hover"]=52]="hover",e[e["inDiffEditor"]=53]="inDiffEditor",e[e["inlineSuggest"]=54]="inlineSuggest",e[e["letterSpacing"]=55]="letterSpacing",e[e["lightbulb"]=56]="lightbulb",e[e["lineDecorationsWidth"]=57]="lineDecorationsWidth",e[e["lineHeight"]=58]="lineHeight",e[e["lineNumbers"]=59]="lineNumbers",e[e["lineNumbersMinChars"]=60]="lineNumbersMinChars",e[e["linkedEditing"]=61]="linkedEditing",e[e["links"]=62]="links",e[e["matchBrackets"]=63]="matchBrackets",e[e["minimap"]=64]="minimap",e[e["mouseStyle"]=65]="mouseStyle",e[e["mouseWheelScrollSensitivity"]=66]="mouseWheelScrollSensitivity",e[e["mouseWheelZoom"]=67]="mouseWheelZoom",e[e["multiCursorMergeOverlapping"]=68]="multiCursorMergeOverlapping",e[e["multiCursorModifier"]=69]="multiCursorModifier",e[e["multiCursorPaste"]=70]="multiCursorPaste",e[e["occurrencesHighlight"]=71]="occurrencesHighlight",e[e["overviewRulerBorder"]=72]="overviewRulerBorder",e[e["overviewRulerLanes"]=73]="overviewRulerLanes",e[e["padding"]=74]="padding",e[e["parameterHints"]=75]="parameterHints",e[e["peekWidgetDefaultFocus"]=76]="peekWidgetDefaultFocus",e[e["definitionLinkOpensInPeek"]=77]="definitionLinkOpensInPeek",e[e["quickSuggestions"]=78]="quickSuggestions",e[e["quickSuggestionsDelay"]=79]="quickSuggestionsDelay",e[e["readOnly"]=80]="readOnly",e[e["renameOnType"]=81]="renameOnType",e[e["renderControlCharacters"]=82]="renderControlCharacters",e[e["renderFinalNewline"]=83]="renderFinalNewline",e[e["renderLineHighlight"]=84]="renderLineHighlight",e[e["renderLineHighlightOnlyWhenFocus"]=85]="renderLineHighlightOnlyWhenFocus",e[e["renderValidationDecorations"]=86]="renderValidationDecorations",e[e["renderWhitespace"]=87]="renderWhitespace",e[e["revealHorizontalRightPadding"]=88]="revealHorizontalRightPadding",e[e["roundedSelection"]=89]="roundedSelection",e[e["rulers"]=90]="rulers",e[e["scrollbar"]=91]="scrollbar",e[e["scrollBeyondLastColumn"]=92]="scrollBeyondLastColumn",e[e["scrollBeyondLastLine"]=93]="scrollBeyondLastLine",e[e["scrollPredominantAxis"]=94]="scrollPredominantAxis",e[e["selectionClipboard"]=95]="selectionClipboard",e[e["selectionHighlight"]=96]="selectionHighlight",e[e["selectOnLineNumbers"]=97]="selectOnLineNumbers",e[e["showFoldingControls"]=98]="showFoldingControls",e[e["showUnused"]=99]="showUnused",e[e["snippetSuggestions"]=100]="snippetSuggestions",e[e["smartSelect"]=101]="smartSelect",e[e["smoothScrolling"]=102]="smoothScrolling",e[e["stickyTabStops"]=103]="stickyTabStops",e[e["stopRenderingLineAfter"]=104]="stopRenderingLineAfter",e[e["suggest"]=105]="suggest",e[e["suggestFontSize"]=106]="suggestFontSize",e[e["suggestLineHeight"]=107]="suggestLineHeight",e[e["suggestOnTriggerCharacters"]=108]="suggestOnTriggerCharacters",e[e["suggestSelection"]=109]="suggestSelection",e[e["tabCompletion"]=110]="tabCompletion",e[e["tabIndex"]=111]="tabIndex",e[e["unusualLineTerminators"]=112]="unusualLineTerminators",e[e["useShadowDOM"]=113]="useShadowDOM",e[e["useTabStops"]=114]="useTabStops",e[e["wordSeparators"]=115]="wordSeparators",e[e["wordWrap"]=116]="wordWrap",e[e["wordWrapBreakAfterCharacters"]=117]="wordWrapBreakAfterCharacters",e[e["wordWrapBreakBeforeCharacters"]=118]="wordWrapBreakBeforeCharacters",e[e["wordWrapColumn"]=119]="wordWrapColumn",e[e["wordWrapOverride1"]=120]="wordWrapOverride1",e[e["wordWrapOverride2"]=121]="wordWrapOverride2",e[e["wrappingIndent"]=122]="wrappingIndent",e[e["wrappingStrategy"]=123]="wrappingStrategy",e[e["showDeprecated"]=124]="showDeprecated",e[e["inlayHints"]=125]="inlayHints",e[e["editorClassName"]=126]="editorClassName",e[e["pixelRatio"]=127]="pixelRatio",e[e["tabFocusMode"]=128]="tabFocusMode",e[e["layoutInfo"]=129]="layoutInfo",e[e["wrappingInfo"]=130]="wrappingInfo"}(g||(g={})),function(e){e[e["TextDefined"]=0]="TextDefined",e[e["LF"]=1]="LF",e[e["CRLF"]=2]="CRLF"}(f||(f={})),function(e){e[e["LF"]=0]="LF",e[e["CRLF"]=1]="CRLF"}(m||(m={})),function(e){e[e["None"]=0]="None",e[e["Indent"]=1]="Indent",e[e["IndentOutdent"]=2]="IndentOutdent",e[e["Outdent"]=3]="Outdent"}(p||(p={})),function(e){e[e["Other"]=0]="Other",e[e["Type"]=1]="Type",e[e["Parameter"]=2]="Parameter"}(_||(_={})),function(e){e[e["Automatic"]=0]="Automatic",e[e["Explicit"]=1]="Explicit"}(C||(C={})),function(e){e[e["DependsOnKbLayout"]=-1]="DependsOnKbLayout",e[e["Unknown"]=0]="Unknown",e[e["Backspace"]=1]="Backspace",e[e["Tab"]=2]="Tab",e[e["Enter"]=3]="Enter",e[e["Shift"]=4]="Shift",e[e["Ctrl"]=5]="Ctrl",e[e["Alt"]=6]="Alt",e[e["PauseBreak"]=7]="PauseBreak",e[e["CapsLock"]=8]="CapsLock",e[e["Escape"]=9]="Escape",e[e["Space"]=10]="Space",e[e["PageUp"]=11]="PageUp",e[e["PageDown"]=12]="PageDown",e[e["End"]=13]="End",e[e["Home"]=14]="Home",e[e["LeftArrow"]=15]="LeftArrow",e[e["UpArrow"]=16]="UpArrow",e[e["RightArrow"]=17]="RightArrow",e[e["DownArrow"]=18]="DownArrow",e[e["Insert"]=19]="Insert",e[e["Delete"]=20]="Delete",e[e["KEY_0"]=21]="KEY_0",e[e["KEY_1"]=22]="KEY_1",e[e["KEY_2"]=23]="KEY_2",e[e["KEY_3"]=24]="KEY_3",e[e["KEY_4"]=25]="KEY_4",e[e["KEY_5"]=26]="KEY_5",e[e["KEY_6"]=27]="KEY_6",e[e["KEY_7"]=28]="KEY_7",e[e["KEY_8"]=29]="KEY_8",e[e["KEY_9"]=30]="KEY_9",e[e["KEY_A"]=31]="KEY_A",e[e["KEY_B"]=32]="KEY_B",e[e["KEY_C"]=33]="KEY_C",e[e["KEY_D"]=34]="KEY_D",e[e["KEY_E"]=35]="KEY_E",e[e["KEY_F"]=36]="KEY_F",e[e["KEY_G"]=37]="KEY_G",e[e["KEY_H"]=38]="KEY_H",e[e["KEY_I"]=39]="KEY_I",e[e["KEY_J"]=40]="KEY_J",e[e["KEY_K"]=41]="KEY_K",e[e["KEY_L"]=42]="KEY_L",e[e["KEY_M"]=43]="KEY_M",e[e["KEY_N"]=44]="KEY_N",e[e["KEY_O"]=45]="KEY_O",e[e["KEY_P"]=46]="KEY_P",e[e["KEY_Q"]=47]="KEY_Q",e[e["KEY_R"]=48]="KEY_R",e[e["KEY_S"]=49]="KEY_S",e[e["KEY_T"]=50]="KEY_T",e[e["KEY_U"]=51]="KEY_U",e[e["KEY_V"]=52]="KEY_V",e[e["KEY_W"]=53]="KEY_W",e[e["KEY_X"]=54]="KEY_X",e[e["KEY_Y"]=55]="KEY_Y",e[e["KEY_Z"]=56]="KEY_Z",e[e["Meta"]=57]="Meta",e[e["ContextMenu"]=58]="ContextMenu",e[e["F1"]=59]="F1",e[e["F2"]=60]="F2",e[e["F3"]=61]="F3",e[e["F4"]=62]="F4",e[e["F5"]=63]="F5",e[e["F6"]=64]="F6",e[e["F7"]=65]="F7",e[e["F8"]=66]="F8",e[e["F9"]=67]="F9",e[e["F10"]=68]="F10",e[e["F11"]=69]="F11",e[e["F12"]=70]="F12",e[e["F13"]=71]="F13",e[e["F14"]=72]="F14",e[e["F15"]=73]="F15",e[e["F16"]=74]="F16",e[e["F17"]=75]="F17",e[e["F18"]=76]="F18",e[e["F19"]=77]="F19",e[e["NumLock"]=78]="NumLock",e[e["ScrollLock"]=79]="ScrollLock",e[e["US_SEMICOLON"]=80]="US_SEMICOLON",e[e["US_EQUAL"]=81]="US_EQUAL",e[e["US_COMMA"]=82]="US_COMMA",e[e["US_MINUS"]=83]="US_MINUS",e[e["US_DOT"]=84]="US_DOT",e[e["US_SLASH"]=85]="US_SLASH",e[e["US_BACKTICK"]=86]="US_BACKTICK",e[e["US_OPEN_SQUARE_BRACKET"]=87]="US_OPEN_SQUARE_BRACKET",e[e["US_BACKSLASH"]=88]="US_BACKSLASH",e[e["US_CLOSE_SQUARE_BRACKET"]=89]="US_CLOSE_SQUARE_BRACKET",e[e["US_QUOTE"]=90]="US_QUOTE",e[e["OEM_8"]=91]="OEM_8",e[e["OEM_102"]=92]="OEM_102",e[e["NUMPAD_0"]=93]="NUMPAD_0",e[e["NUMPAD_1"]=94]="NUMPAD_1",e[e["NUMPAD_2"]=95]="NUMPAD_2",e[e["NUMPAD_3"]=96]="NUMPAD_3",e[e["NUMPAD_4"]=97]="NUMPAD_4",e[e["NUMPAD_5"]=98]="NUMPAD_5",e[e["NUMPAD_6"]=99]="NUMPAD_6",e[e["NUMPAD_7"]=100]="NUMPAD_7",e[e["NUMPAD_8"]=101]="NUMPAD_8",e[e["NUMPAD_9"]=102]="NUMPAD_9",e[e["NUMPAD_MULTIPLY"]=103]="NUMPAD_MULTIPLY",e[e["NUMPAD_ADD"]=104]="NUMPAD_ADD",e[e["NUMPAD_SEPARATOR"]=105]="NUMPAD_SEPARATOR",e[e["NUMPAD_SUBTRACT"]=106]="NUMPAD_SUBTRACT",e[e["NUMPAD_DECIMAL"]=107]="NUMPAD_DECIMAL",e[e["NUMPAD_DIVIDE"]=108]="NUMPAD_DIVIDE",e[e["KEY_IN_COMPOSITION"]=109]="KEY_IN_COMPOSITION",e[e["ABNT_C1"]=110]="ABNT_C1",e[e["ABNT_C2"]=111]="ABNT_C2",e[e["MAX_VALUE"]=112]="MAX_VALUE"}(b||(b={})),function(e){e[e["Hint"]=1]="Hint",e[e["Info"]=2]="Info",e[e["Warning"]=4]="Warning",e[e["Error"]=8]="Error"}(w||(w={})),function(e){e[e["Unnecessary"]=1]="Unnecessary",e[e["Deprecated"]=2]="Deprecated"}(L||(L={})),function(e){e[e["Inline"]=1]="Inline",e[e["Gutter"]=2]="Gutter"}(v||(v={})),function(e){e[e["UNKNOWN"]=0]="UNKNOWN",e[e["TEXTAREA"]=1]="TEXTAREA",e[e["GUTTER_GLYPH_MARGIN"]=2]="GUTTER_GLYPH_MARGIN",e[e["GUTTER_LINE_NUMBERS"]=3]="GUTTER_LINE_NUMBERS",e[e["GUTTER_LINE_DECORATIONS"]=4]="GUTTER_LINE_DECORATIONS",e[e["GUTTER_VIEW_ZONE"]=5]="GUTTER_VIEW_ZONE",e[e["CONTENT_TEXT"]=6]="CONTENT_TEXT",e[e["CONTENT_EMPTY"]=7]="CONTENT_EMPTY",e[e["CONTENT_VIEW_ZONE"]=8]="CONTENT_VIEW_ZONE",e[e["CONTENT_WIDGET"]=9]="CONTENT_WIDGET",e[e["OVERVIEW_RULER"]=10]="OVERVIEW_RULER",e[e["SCROLLBAR"]=11]="SCROLLBAR",e[e["OVERLAY_WIDGET"]=12]="OVERLAY_WIDGET",e[e["OUTSIDE_EDITOR"]=13]="OUTSIDE_EDITOR"}(S||(S={})),function(e){e[e["TOP_RIGHT_CORNER"]=0]="TOP_RIGHT_CORNER",e[e["BOTTOM_RIGHT_CORNER"]=1]="BOTTOM_RIGHT_CORNER",e[e["TOP_CENTER"]=2]="TOP_CENTER"}(k||(k={})),function(e){e[e["Left"]=1]="Left",e[e["Center"]=2]="Center",e[e["Right"]=4]="Right",e[e["Full"]=7]="Full"}(O||(O={})),function(e){e[e["Off"]=0]="Off",e[e["On"]=1]="On",e[e["Relative"]=2]="Relative",e[e["Interval"]=3]="Interval",e[e["Custom"]=4]="Custom"}(I||(I={})),function(e){e[e["None"]=0]="None",e[e["Text"]=1]="Text",e[e["Blocks"]=2]="Blocks"}(M||(M={})),function(e){e[e["Smooth"]=0]="Smooth",e[e["Immediate"]=1]="Immediate"}(y||(y={})),function(e){e[e["Auto"]=1]="Auto",e[e["Hidden"]=2]="Hidden",e[e["Visible"]=3]="Visible"}(N||(N={})),function(e){e[e["LTR"]=0]="LTR",e[e["RTL"]=1]="RTL"}(E||(E={})),function(e){e[e["Invoke"]=1]="Invoke",e[e["TriggerCharacter"]=2]="TriggerCharacter",e[e["ContentChange"]=3]="ContentChange"}(x||(x={})),function(e){e[e["File"]=0]="File",e[e["Module"]=1]="Module",e[e["Namespace"]=2]="Namespace",e[e["Package"]=3]="Package",e[e["Class"]=4]="Class",e[e["Method"]=5]="Method",e[e["Property"]=6]="Property",e[e["Field"]=7]="Field",e[e["Constructor"]=8]="Constructor",e[e["Enum"]=9]="Enum",e[e["Interface"]=10]="Interface",e[e["Function"]=11]="Function",e[e["Variable"]=12]="Variable",e[e["Constant"]=13]="Constant",e[e["String"]=14]="String",e[e["Number"]=15]="Number",e[e["Boolean"]=16]="Boolean",e[e["Array"]=17]="Array",e[e["Object"]=18]="Object",e[e["Key"]=19]="Key",e[e["Null"]=20]="Null",e[e["EnumMember"]=21]="EnumMember",e[e["Struct"]=22]="Struct",e[e["Event"]=23]="Event",e[e["Operator"]=24]="Operator",e[e["TypeParameter"]=25]="TypeParameter"}(T||(T={})),function(e){e[e["Deprecated"]=1]="Deprecated"}(V||(V={})),function(e){e[e["Hidden"]=0]="Hidden",e[e["Blink"]=1]="Blink",e[e["Smooth"]=2]="Smooth",e[e["Phase"]=3]="Phase",e[e["Expand"]=4]="Expand",e[e["Solid"]=5]="Solid"}(D||(D={})),function(e){e[e["Line"]=1]="Line",e[e["Block"]=2]="Block",e[e["Underline"]=3]="Underline",e[e["LineThin"]=4]="LineThin",e[e["BlockOutline"]=5]="BlockOutline",e[e["UnderlineThin"]=6]="UnderlineThin"}(R||(R={})),function(e){e[e["AlwaysGrowsWhenTypingAtEdges"]=0]="AlwaysGrowsWhenTypingAtEdges",e[e["NeverGrowsWhenTypingAtEdges"]=1]="NeverGrowsWhenTypingAtEdges",e[e["GrowsOnlyWhenTypingBefore"]=2]="GrowsOnlyWhenTypingBefore",e[e["GrowsOnlyWhenTypingAfter"]=3]="GrowsOnlyWhenTypingAfter"}(P||(P={})),function(e){e[e["None"]=0]="None",e[e["Same"]=1]="Same",e[e["Indent"]=2]="Indent",e[e["DeepIndent"]=3]="DeepIndent"}(A||(A={}))},"6a5d":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("308f"),r=(n("eda7"),n("a666")),s=(n("4035"),n("49d9"),n("9768")),o=n("32b8");function a(e,t,n,i){if(Array.isArray(e)){let r=0;for(const s of e){const e=a(s,t,n,i);if(10===e)return e;e>r&&(r=e)}return r}if("string"===typeof e)return i?"*"===e?5:e===n?10:0:0;if(e){const{language:r,pattern:a,scheme:l,hasAccessToAllModels:c}=e;if(!i&&!c)return 0;let u=0;if(l)if(l===t.scheme)u=10;else{if("*"!==l)return 0;u=5}if(r)if(r===n)u=10;else{if("*"!==r)return 0;u=Math.max(u,5)}if(a){let e;if(e="string"===typeof a?a:Object.assign(Object.assign({},a),{base:Object(o["d"])(a.base)}),e!==t.fsPath&&!Object(s["a"])(e,t.fsPath))return 0;u=10}return u}return 0}var l=n("1b69");function c(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(c):!!e.exclusive)}class u{constructor(){this._clock=0,this._entries=[],this._onDidChange=new i["b"]}get onDidChange(){return this._onDidChange.event}register(e,t){let n={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(r["i"])(()=>{if(n){let e=this._entries.indexOf(n);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let n of this._entries)n._score>0&&t.push(n.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,e=>t.push(e.provider)),t}orderedGroups(e){const t=[];let n,i;return this._orderedForEach(e,e=>{n&&i===e._score?n.push(e.provider):(i=e._score,n=[e.provider],t.push(n))}),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=a(t.selector,e.uri,e.getLanguageIdentifier().language,Object(l["b"])(e)),c(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(u._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}new WeakMap},"6da2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var i=n("3742"),r=n("7ab3"),s=n("7416");class o{constructor(e,t,n){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=n}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class a{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class l{constructor(e,t,n,i,r,o,a,l,c,u,h,d,g,f,m,p,_,C,b){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.continuesWithWrappedLine=i,this.isBasicASCII=r,this.containsRTL=o,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(s["a"].compare),this.tabSize=u,this.startVisibleColumn=h,this.spaceWidth=d,this.stopRenderingLineAfter=m,this.renderWhitespace="all"===p?4:"boundary"===p?1:"selection"===p?2:"trailing"===p?3:0,this.renderControlCharacters=_,this.fontLigatures=C,this.selectionsOnLine=b&&b.sort((e,t)=>e.startOffset<t.startOffset?-1:1);const w=Math.abs(f-d),L=Math.abs(g-d);w<L?(this.renderSpaceWidth=f,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&s["a"].equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class c{constructor(e,t){this.partIndex=e,this.charIndex=t}}class u{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setColumnInfo(e,t,n,i){const r=(t<<16|n<<0)>>>0;this._data[e-1]=r,this._absoluteOffsets[e-1]=i+n}getAbsoluteOffset(e){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),n=u.getPartIndex(t),i=u.getCharIndex(t);return new c(n,i)}getColumn(e,t){const n=this.partDataToCharOffset(e.partIndex,t,e.charIndex);return n+1}partDataToCharOffset(e,t,n){if(0===this.length)return 0;let i=(e<<16|n<<0)>>>0,r=0,s=this.length-1;while(r+1<s){let e=r+s>>>1,t=this._data[e];if(t===i)return e;t>i?s=e:r=e}if(r===s)return r;let o=this._data[r],a=this._data[s];if(o===i)return r;if(a===i)return s;let l,c=u.getPartIndex(o),h=u.getCharIndex(o),d=u.getPartIndex(a);l=c!==d?t:u.getCharIndex(a);let g=n-h,f=l-n;return g<=f?r:s}}class h{constructor(e,t,n){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=n}}function d(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendASCIIString("<span>");let n=0,i=0,r=0;for(const o of e.lineDecorations)1!==o.type&&2!==o.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(o.className),t.appendASCIIString('"></span>'),1===o.type&&(r|=1,n++),2===o.type&&(r|=2,i++));t.appendASCIIString("</span>");const s=new u(1,n+i);return s.setColumnInfo(1,n,0,0),new h(s,!1,r)}return t.appendASCIIString("<span><span></span></span>"),new h(new u(0,0),!1,0)}return L(p(e),t)}class g{constructor(e,t,n,i){this.characterMapping=e,this.html=t,this.containsRTL=n,this.containsForeignElements=i}}function f(e){let t=Object(r["a"])(1e4),n=d(e,t);return new g(n.characterMapping,t.build(),n.containsRTL,n.containsForeignElements)}class m{constructor(e,t,n,i,r,s,o,a,l,c,u,h,d,g,f){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.len=i,this.isOverflowing=r,this.parts=s,this.containsForeignElements=o,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=c,this.containsRTL=u,this.spaceWidth=h,this.renderSpaceCharCode=d,this.renderWhitespace=g,this.renderControlCharacters=f}}function p(e){const t=e.lineContent;let n,i;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(n=!0,i=e.stopRenderingLineAfter):(n=!1,i=t.length);let r=_(e.lineTokens,e.fauxIndentLength,i);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(r=b(e,t,i,r));let s=0;if(e.lineDecorations.length>0){for(let t=0,n=e.lineDecorations.length;t<n;t++){const n=e.lineDecorations[t];3===n.type||1===n.type?s|=1:2===n.type&&(s|=2)}r=w(t,i,r,e.lineDecorations)}return e.containsRTL||(r=C(t,r,!e.isBasicASCII||e.fontLigatures)),new m(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,i,n,r,s,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}function _(e,t,n){let i=[],r=0;t>0&&(i[r++]=new o(t,"",0));for(let s=0,a=e.getCount();s<a;s++){const a=e.getEndOffset(s);if(a<=t)continue;const l=e.getClassName(s);if(a>=n){i[r++]=new o(n,l,0);break}i[r++]=new o(a,l,0)}return i}function C(e,t,n){let i=0,r=[],s=0;if(n)for(let a=0,l=t.length;a<l;a++){const n=t[a],l=n.endIndex;if(i+50<l){const t=n.type,a=n.metadata;let c=-1,u=i;for(let n=i;n<l;n++)32===e.charCodeAt(n)&&(c=n),-1!==c&&n-u>=50&&(r[s++]=new o(c+1,t,a),u=c+1,c=-1);u!==l&&(r[s++]=new o(l,t,a))}else r[s++]=n;i=l}else for(let a=0,l=t.length;a<l;a++){const e=t[a],n=e.endIndex;let l=n-i;if(l>50){const t=e.type,a=e.metadata,c=Math.ceil(l/50);for(let e=1;e<c;e++){let n=i+50*e;r[s++]=new o(n,t,a)}r[s++]=new o(n,t,a)}else r[s++]=e;i=n}return r}function b(e,t,n,r){const s=e.continuesWithWrappedLine,a=e.fauxIndentLength,l=e.tabSize,c=e.startVisibleColumn,u=e.useMonospaceOptimizations,h=e.selectionsOnLine,d=1===e.renderWhitespace,g=3===e.renderWhitespace,f=e.renderSpaceWidth!==e.spaceWidth;let m=[],p=0,_=0,C=r[_].type,b=r[_].endIndex;const w=r.length;let L,v=!1,S=i["t"](t);-1===S?(v=!0,S=n,L=n):L=i["H"](t);let k=!1,O=0,I=h&&h[O],M=c%l;for(let N=a;N<n;N++){const e=t.charCodeAt(N);let s;if(I&&N>=I.endOffset&&(O++,I=h&&h[O]),N<S||N>L)s=!0;else if(9===e)s=!0;else if(32===e)if(d)if(k)s=!0;else{const e=N+1<n?t.charCodeAt(N+1):0;s=32===e||9===e}else s=!0;else s=!1;if(s&&h&&(s=!!I&&I.startOffset<=N&&I.endOffset>N),s&&g&&(s=v||N>L),k){if(!s||!u&&M>=l){if(f){const e=p>0?m[p-1].endIndex:a;for(let t=e+1;t<=N;t++)m[p++]=new o(t,"mtkw",1)}else m[p++]=new o(N,"mtkw",1);M%=l}}else(N===b||s&&N>a)&&(m[p++]=new o(N,C,0),M%=l);9===e?M=l:i["C"](e)?M+=2:M++,k=s;while(N===b){if(_++,!(_<w))break;C=r[_].type,b=r[_].endIndex}}let y=!1;if(k)if(s&&d){let e=n>0?t.charCodeAt(n-1):0,i=n>1?t.charCodeAt(n-2):0,r=32===e&&32!==i&&9!==i;r||(y=!0)}else y=!0;if(y)if(f){const e=p>0?m[p-1].endIndex:a;for(let t=e+1;t<=n;t++)m[p++]=new o(t,"mtkw",1)}else m[p++]=new o(n,"mtkw",1);else m[p++]=new o(n,C,0);return m}function w(e,t,n,i){i.sort(s["a"].compare);const r=s["b"].normalize(e,i),a=r.length;let l=0,c=[],u=0,h=0;for(let s=0,g=n.length;s<g;s++){const e=n[s],t=e.endIndex,i=e.type,d=e.metadata;while(l<a&&r[l].startOffset<t){const e=r[l];if(e.startOffset>h&&(h=e.startOffset,c[u++]=new o(h,i,d)),!(e.endOffset+1<=t)){h=t,c[u++]=new o(h,i+" "+e.className,d|e.metadata);break}h=e.endOffset+1,c[u++]=new o(h,i+" "+e.className,d|e.metadata),l++}t>h&&(h=t,c[u++]=new o(h,i,d))}const d=n[n.length-1].endIndex;if(l<a&&r[l].startOffset===d)while(l<a&&r[l].startOffset===d){const e=r[l];c[u++]=new o(h,e.className,e.metadata),l++}return c}function L(e,t){const n=e.fontIsMonospace,r=e.canUseHalfwidthRightwardsArrow,s=e.containsForeignElements,o=e.lineContent,a=e.len,l=e.isOverflowing,c=e.parts,d=e.fauxIndentLength,g=e.tabSize,f=e.startVisibleColumn,m=e.containsRTL,p=e.spaceWidth,_=e.renderSpaceCharCode,C=e.renderWhitespace,b=e.renderControlCharacters,w=new u(a+1,c.length);let L=!1,v=0,S=f,k=0,O=0,I=0,M=0;m?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let u=0,h=c.length;u<h;u++){M+=I;const e=c[u],l=e.endIndex,h=e.type,f=0!==C&&e.isWhitespace(),m=f&&!n&&("mtkw"===h||!s),y=v===l&&e.isPseudoAfter();if(k=0,t.appendASCIIString('<span class="'),t.appendASCIIString(m?"mtkz":h),t.appendASCII(34),f){let e=0;{let t=v,n=S;for(;t<l;t++){const i=o.charCodeAt(t),r=0|(9===i?g-n%g:1);e+=r,t>=d&&(n+=r)}}for(m&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(p*e)),t.appendASCIIString('px"')),t.appendASCII(62);v<l;v++){w.setColumnInfo(v+1,u-O,k,M),O=0;const e=o.charCodeAt(v);let n;if(9===e){n=g-S%g|0,!r||n>1?t.write1(8594):t.write1(65515);for(let e=2;e<=n;e++)t.write1(160)}else n=1,t.write1(_);k+=n,v>=d&&(S+=n)}I=e}else{let e=0;for(t.appendASCII(62);v<l;v++){w.setColumnInfo(v+1,u-O,k,M),O=0;const n=o.charCodeAt(v);let r=1,s=1;switch(n){case 9:r=g-S%g,s=r;for(let e=1;e<=r;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:b?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:i["C"](n)&&s++,b&&n<32?t.write1(9216+n):b&&127===n?t.write1(9249):t.write1(n)}k+=r,e+=r,v>=d&&(S+=s)}I=e}y?O++:O=0,v>=a&&!L&&e.isPseudoAfter()&&(L=!0,w.setColumnInfo(v+1,u,k,M)),t.appendASCIIString("</span>")}return L||w.setColumnInfo(a+1,c.length-1,k,M),l&&t.appendASCIIString("<span>&hellip;</span>"),t.appendASCIIString("</span>"),new h(w,m,s)}},"6eab":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("2504"),r=n("308f"),s=n("fe45"),o=n("6d8e"),a=n("7061"),l=n("6a89"),c=n("8025"),u=n("4dc7"),h=n("6881");class d{static chord(e,t){return Object(s["a"])(e,t)}}function g(){return{editor:void 0,languages:void 0,CancellationTokenSource:i["b"],Emitter:r["b"],KeyCode:h["q"],KeyMod:d,Position:a["a"],Range:l["a"],Selection:c["a"],SelectionDirection:h["B"],MarkerSeverity:h["r"],MarkerTag:h["s"],Uri:o["a"],Token:u["a"]}}d.CtrlCmd=2048,d.Shift=1024,d.Alt=512,d.WinCtrl=256},"70cb":function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n("308f"),r=n("a666"),s=n("3742"),o=n("d093"),a=n("2837"),l=n("045b");class c{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(e=>new a["c"](e)):e.brackets?this._autoClosingPairs=e.brackets.map(e=>new a["c"]({open:e[0],close:e[1]})):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=e.colorizedBracketPairs.map(e=>[e[0],e[1]]):e.brackets?this._colorizedBracketPairs=e.brackets.map(e=>[e[0],e[1]]).filter(e=>!("<"===e[0]&&">"===e[1])):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new a["c"]({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"===typeof e.autoCloseBefore?e.autoCloseBefore:c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,n){if(0===t.getTokenCount())return!0;const i=t.findTokenIndexAtOffset(n-2),r=t.getStandardTokenType(i);return e.isOK(r)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";var u=n("1080");class h{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const n of t.close){const t=n.charAt(n.length-1);e.push(t)}return e=e.filter((e,t,n)=>n.indexOf(e)===t),e}onElectricCharacter(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const i=t.findTokenIndexAtOffset(n-1);if(Object(l["b"])(t.getStandardTokenType(i)))return null;const r=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,n-1)+e,o=u["a"].findPrevBracketInRange(r,1,s,0,s.length);if(!o)return null;const a=s.substring(o.startColumn-1,o.endColumn-1).toLowerCase(),c=this._richEditBrackets.textIsOpenBracket[a];if(c)return null;const h=t.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(h)?{matchOpenBracket:a}:null}}function d(e){return e.global&&(e.lastIndex=0),!0}class g{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&d(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&d(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&d(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&d(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}var f=n("fdcc");class m{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(e=>{const t=m._createOpenBracketRegExp(e[0]),n=m._createCloseBracketRegExp(e[1]);t&&n&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:n})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,i){if(e>=3)for(let r=0,s=this._regExpRules.length;r<s;r++){let e=this._regExpRules[r];const s=[{reg:e.beforeText,text:n},{reg:e.afterText,text:i},{reg:e.previousLineText,text:t}].every(e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text)));if(s)return e.action}if(e>=2&&n.length>0&&i.length>0)for(let r=0,s=this._brackets.length;r<s;r++){let e=this._brackets[r];if(e.openRegExp.test(n)&&e.closeRegExp.test(i))return{indentAction:a["b"].IndentOutdent}}if(e>=2&&n.length>0)for(let r=0,s=this._brackets.length;r<s;r++){let e=this._brackets[r];if(e.openRegExp.test(n))return{indentAction:a["b"].Indent}}return null}static _createOpenBracketRegExp(e){let t=s["s"](e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",m._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=s["s"](e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,m._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Object(f["f"])(t),null}}}class p{constructor(e,t){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null,this._conf=t,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new m(this._conf):null,this.comments=p._handleComments(this._conf),this.characterPair=new c(this._conf),this.wordDefinition=this._conf.wordPattern||o["a"],this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new g(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new u["b"](this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new h(this.brackets)),this._electricCharacter}onEnter(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}static _handleComments(e){let t=e.comments;if(!t)return null;let n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){let[e,i]=t.blockComment;n.blockCommentStartToken=e,n.blockCommentEndToken=i}return n}}class _{constructor(e){this.languageIdentifier=e}}class C{constructor(e,t,n){this.configuration=e,this.priority=t,this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class b{constructor(e){this.languageIdentifier=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const n=new C(e,t,++this._order);return this._entries.push(n),this._resolved=null,Object(r["i"])(()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===n){this._entries.splice(e,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new p(this.languageIdentifier,e))}return this._resolved}_resolve(){if(0===this._entries.length)return null;this._entries.sort(C.cmp);const e={};for(const t of this._entries){const n=t.configuration;e.comments=n.comments||e.comments,e.brackets=n.brackets||e.brackets,e.wordPattern=n.wordPattern||e.wordPattern,e.indentationRules=n.indentationRules||e.indentationRules,e.onEnterRules=n.onEnterRules||e.onEnterRules,e.autoClosingPairs=n.autoClosingPairs||e.autoClosingPairs,e.surroundingPairs=n.surroundingPairs||e.surroundingPairs,e.autoCloseBefore=n.autoCloseBefore||e.autoCloseBefore,e.folding=n.folding||e.folding,e.colorizedBracketPairs=n.colorizedBracketPairs||e.colorizedBracketPairs,e.__electricCharacterSupport=n.__electricCharacterSupport||e.__electricCharacterSupport}return e}}class w{constructor(){this._entries=new Map,this._onDidChange=new i["b"],this.onDidChange=this._onDidChange.event}register(e,t,n=0){let i=this._entries.get(e.id);i||(i=new b(e),this._entries.set(e.id,i));const s=i.register(t,n);return this._onDidChange.fire(new _(e)),Object(r["i"])(()=>{s.dispose(),this._onDidChange.fire(new _(e))})}_getRichEditSupport(e){const t=this._entries.get(e);return t?t.getRichEditSupport():null}getIndentationRules(e){const t=this._getRichEditSupport(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this._getRichEditSupport(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,n){let i=Object(l["a"])(t,n-1),r=this._getElectricCharacterSupport(i.languageId);return r?r.onElectricCharacter(e,i,n-i.firstCharOffset):null}getComments(e){let t=this._getRichEditSupport(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this._getRichEditSupport(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new a["a"](t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,n){const i=Object(l["a"])(t,n-1);return c.shouldAutoClosePair(e,i,n-i.firstCharOffset)}getWordDefinition(e){let t=this._getRichEditSupport(e);return t?Object(o["c"])(t.wordDefinition||null):Object(o["c"])(null)}getFoldingRules(e){let t=this._getRichEditSupport(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,n){let i=e.getLanguageIdAtPosition(t,0);if(t>1){let r,s=-1;for(r=t-1;r>=1;r--){if(e.getLanguageIdAtPosition(r,0)!==i)return s;let t=e.getLineContent(r);if(!n.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return r;s=r}}return-1}getInheritIndentForLine(e,t,n,i=!0){if(e<4)return null;const r=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!r)return null;if(n<=1)return{indentation:"",action:null};const o=this.getPrecedingValidLine(t,n,r);if(o<0)return null;if(o<1)return{indentation:"",action:null};const l=t.getLineContent(o);if(r.shouldIncrease(l)||r.shouldIndentNextLine(l))return{indentation:s["w"](l),action:a["b"].Indent,line:o};if(r.shouldDecrease(l))return{indentation:s["w"](l),action:null,line:o};{if(1===o)return{indentation:s["w"](t.getLineContent(o)),action:null,line:o};const e=o-1,n=r.getIndentMetadata(t.getLineContent(e));if(!(3&n)&&4&n){let n=0;for(let i=e-1;i>0;i--)if(!r.shouldIndentNextLine(t.getLineContent(i))){n=i;break}return{indentation:s["w"](t.getLineContent(n+1)),action:null,line:n+1}}if(i)return{indentation:s["w"](t.getLineContent(o)),action:null,line:o};for(let i=o;i>0;i--){const e=t.getLineContent(i);if(r.shouldIncrease(e))return{indentation:s["w"](e),action:a["b"].Indent,line:i};if(r.shouldIndentNextLine(e)){let e=0;for(let n=i-1;n>0;n--)if(!r.shouldIndentNextLine(t.getLineContent(i))){e=n;break}return{indentation:s["w"](t.getLineContent(e+1)),action:null,line:e+1}}if(r.shouldDecrease(e))return{indentation:s["w"](e),action:null,line:i}}return{indentation:s["w"](t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,n,i,r){if(e<4)return null;const o=this._getRichEditSupport(n);if(!o)return null;const l=this.getIndentRulesSupport(n);if(!l)return null;const c=this.getInheritIndentForLine(e,t,i),u=t.getLineContent(i);if(c){const n=c.line;if(void 0!==n){const i=o.onEnter(e,"",t.getLineContent(n),"");if(i){let e=s["w"](t.getLineContent(n));return i.removeText&&(e=e.substring(0,e.length-i.removeText)),i.indentAction===a["b"].Indent||i.indentAction===a["b"].IndentOutdent?e=r.shiftIndent(e):i.indentAction===a["b"].Outdent&&(e=r.unshiftIndent(e)),l.shouldDecrease(u)&&(e=r.unshiftIndent(e)),i.appendText&&(e+=i.appendText),s["w"](e)}}return l.shouldDecrease(u)?c.action===a["b"].Indent?c.indentation:r.unshiftIndent(c.indentation):c.action===a["b"].Indent?r.shiftIndent(c.indentation):c.indentation}return null}getIndentForEnter(e,t,n,i){if(e<4)return null;t.forceTokenization(n.startLineNumber);const r=t.getLineTokens(n.startLineNumber),o=Object(l["a"])(r,n.startColumn-1),c=o.getLineContent();let u,h,d=!1;if(o.firstCharOffset>0&&r.getLanguageId(0)!==o.languageId?(d=!0,u=c.substr(0,n.startColumn-1-o.firstCharOffset)):u=r.getLineContent().substring(0,n.startColumn-1),n.isEmpty())h=c.substr(n.startColumn-1-o.firstCharOffset);else{const e=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn);h=e.getLineContent().substr(n.endColumn-1-o.firstCharOffset)}const g=this.getIndentRulesSupport(o.languageId);if(!g)return null;const f=u,m=s["w"](u),p={getLineTokens:e=>t.getLineTokens(e),getLanguageIdentifier:()=>t.getLanguageIdentifier(),getLanguageIdAtPosition:(e,n)=>t.getLanguageIdAtPosition(e,n),getLineContent:e=>e===n.startLineNumber?f:t.getLineContent(e)},_=s["w"](r.getLineContent()),C=this.getInheritIndentForLine(e,p,n.startLineNumber+1);if(!C){const e=d?_:m;return{beforeEnter:e,afterEnter:e}}let b=d?_:C.indentation;return C.action===a["b"].Indent&&(b=i.shiftIndent(b)),g.shouldDecrease(h)&&(b=i.unshiftIndent(b)),{beforeEnter:d?_:m,afterEnter:b}}getIndentActionForType(e,t,n,i,r){if(e<4)return null;const s=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn);if(s.firstCharOffset)return null;const o=this.getIndentRulesSupport(s.languageId);if(!o)return null;const l=s.getLineContent(),c=l.substr(0,n.startColumn-1-s.firstCharOffset);let u;if(n.isEmpty())u=l.substr(n.startColumn-1-s.firstCharOffset);else{const e=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn);u=e.getLineContent().substr(n.endColumn-1-s.firstCharOffset)}if(!o.shouldDecrease(c+u)&&o.shouldDecrease(c+i+u)){const i=this.getInheritIndentForLine(e,t,n.startLineNumber,!1);if(!i)return null;let s=i.indentation;return i.action!==a["b"].Indent&&(s=r.unshiftIndent(s)),s}return null}getIndentMetadata(e,t){const n=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,n){const i=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn),r=this._getRichEditSupport(i.languageId);if(!r)return null;const s=i.getLineContent(),o=s.substr(0,n.startColumn-1-i.firstCharOffset);let l;if(n.isEmpty())l=s.substr(n.startColumn-1-i.firstCharOffset);else{const e=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn);l=e.getLineContent().substr(n.endColumn-1-i.firstCharOffset)}let c="";if(n.startLineNumber>1&&0===i.firstCharOffset){const e=this.getScopedLineTokens(t,n.startLineNumber-1);e.languageId===i.languageId&&(c=e.getLineContent())}const u=r.onEnter(e,c,o,l);if(!u)return null;const h=u.indentAction;let d=u.appendText;const g=u.removeText||0;d?h===a["b"].Indent&&(d="\t"+d):d=h===a["b"].Indent||h===a["b"].IndentOutdent?"\t":"";let f=this.getIndentationAtPosition(t,n.startLineNumber,n.startColumn);return g&&(f=f.substring(0,f.length-g)),{indentAction:h,appendText:d,removeText:g,indentation:f}}getIndentationAtPosition(e,t,n){const i=e.getLineContent(t);let r=s["w"](i);return r.length>n-1&&(r=r.substring(0,n-1)),r}getScopedLineTokens(e,t,n){e.forceTokenization(t);const i=e.getLineTokens(t),r="undefined"===typeof n?e.getLineMaxColumn(t)-1:n-1;return Object(l["a"])(i,r)}getBracketsSupport(e){const t=this._getRichEditSupport(e);return t&&t.brackets||null}getColorizedBracketPairs(e){var t;return(null===(t=this._getRichEditSupport(e))||void 0===t?void 0:t.characterPair.getColorizedBrackets())||[]}}const L=new w},"72b4":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("308f"),r=n("a666");class s{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new i["b"],this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Object(r["i"])(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let n=null,i=!1;return this._promises.set(e,t.then(t=>{this._promises.delete(e),!i&&t&&(n=this.register(e,t))})),Object(r["i"])(()=>{i=!0,n&&n.dispose()})}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const n=this._promises.get(e);return n?n.then(t=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},7416:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("3742");class r{constructor(e,t,n,i){this.startColumn=e,this.endColumn=t,this.className=n,this.type=i,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const n=e.length,i=t.length;if(n!==i)return!1;for(let s=0;s<n;s++)if(!r._equals(e[s],t[s]))return!1;return!0}static extractWrapped(e,t,n){if(0===e.length)return e;const i=t+1,s=n+1,o=n-t,a=[];let l=0;for(const c of e)c.endColumn<=i||c.startColumn>=s||(a[l++]=new r(Math.max(1,c.startColumn-i+1),Math.min(o+1,c.endColumn-i+1),c.className,c.type));return a}static filter(e,t,n,i){if(0===e.length)return[];let s=[],o=0;for(let a=0,l=e.length;a<l;a++){const l=e[a],c=l.range;if(c.endLineNumber<t||c.startLineNumber>t)continue;if(c.isEmpty()&&(0===l.type||3===l.type))continue;const u=c.startLineNumber===t?c.startColumn:n,h=c.endLineNumber===t?c.endColumn:i;s[o++]=new r(u,h,l.inlineClassName,l.type)}return s}static _typeCompare(e,t){const n=[2,0,1,3];return n[e]-n[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const n=r._typeCompare(e.type,t.type);return 0!==n?n:e.className!==t.className?e.className<t.className?-1:1:0}}class s{constructor(e,t,n,i){this.startOffset=e,this.endOffset=t,this.className=n,this.metadata=i}}class o{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let n=0,i=e.length;n<i;n++)t|=e[n];return t}consumeLowerThan(e,t,n){while(this.count>0&&this.stopOffsets[0]<e){let e=0;while(e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1])e++;n.push(new s(t,this.stopOffsets[e],this.classNames.join(" "),o._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(n.push(new s(t,e-1,this.classNames.join(" "),o._metadata(this.metadata))),t=e),t}insert(e,t,n){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(n);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=e){this.stopOffsets.splice(i,0,e),this.classNames.splice(i,0,t),this.metadata.splice(i,0,n);break}this.count++}}class a{static normalize(e,t){if(0===t.length)return[];let n=[];const r=new o;let s=0;for(let o=0,a=t.length;o<a;o++){const a=t[o];let l=a.startColumn,c=a.endColumn;const u=a.className,h=1===a.type?2:2===a.type?4:0;if(l>1){const t=e.charCodeAt(l-2);i["D"](t)&&l--}if(c>1){const t=e.charCodeAt(c-2);i["D"](t)&&c--}const d=l-1,g=c-2;s=r.consumeLowerThan(d,s,n),0===r.count&&(s=d),r.insert(g,u,h)}return r.consumeLowerThan(1073741824,s,n),n}}},"7b4a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var i=n("0a0f");const r=Object(i["c"])("textResourceConfigurationService"),s=Object(i["c"])("textResourcePropertiesService")},"7e0b":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("3742"),r=n("3170"),s=n("a8d0"),o=n("338e");class a extends r["a"]{constructor(e,t){super(0);for(let n=0;n<e.length;n++)this.set(e.charCodeAt(n),1);for(let n=0;n<t.length;n++)this.set(t.charCodeAt(n),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let l=[],c=[];class u{constructor(e,t){this.classifier=new a(e,t)}static create(e){return new u(e.get(118),e.get(117))}createLineBreaksComputer(e,t,n,i){t|=0,n=+n;const r=[],s=[],o=[];return{addRequest:(e,t,n)=>{r.push(e),s.push(t),o.push(n)},finalize:()=>{const a=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let u=[];for(let e=0,l=r.length;e<l;e++){const l=s[e],c=o[e];!c||c.injectionOptions||l?u[e]=d(this.classifier,r[e],l,t,n,a,i):u[e]=h(this.classifier,c,r[e],t,n,a,i)}return l.length=0,c.length=0,u}}}}function h(e,t,n,r,s,o,a){if(-1===s)return null;const u=n.length;if(u<=1)return null;const h=t.breakOffsets,d=t.breakOffsetsVisibleColumn,f=p(n,r,s,o,a),_=s-f;let C=l,b=c,w=0,L=0,v=0,S=s;const k=h.length;let O=0;if(O>=0){let e=Math.abs(d[O]-S);while(O+1<k){const t=Math.abs(d[O+1]-S);if(t>=e)break;e=t,O++}}while(O<k){let t=O<0?0:h[O],s=O<0?0:d[O];L>t&&(t=L,s=v);let a=0,l=0,c=0,f=0;if(s<=S){let p=s,v=0===t?0:n.charCodeAt(t-1),k=0===t?0:e.get(v),O=!0;for(let s=t;s<u;s++){const t=s,u=n.charCodeAt(s);let h,d;if(i["D"](u)?(s++,h=0,d=2):(h=e.get(u),d=g(u,p,r,o)),t>L&&m(v,k,u,h)&&(a=t,l=p),p+=d,p>S){t>L?(c=t,f=p-d):(c=s+1,f=p),p-l>_&&(a=0),O=!1;break}v=u,k=h}if(O){w>0&&(C[w]=h[h.length-1],b[w]=d[h.length-1],w++);break}}if(0===a){let u=s,h=n.charCodeAt(t),d=e.get(h),p=!1;for(let r=t-1;r>=L;r--){const t=r+1,s=n.charCodeAt(r);if(9===s){p=!0;break}let g,C;if(i["E"](s)?(r--,g=0,C=2):(g=e.get(s),C=i["C"](s)?o:1),u<=S){if(0===c&&(c=t,f=u),u<=S-_)break;if(m(s,g,h,d)){a=t,l=u;break}}u-=C,h=s,d=g}if(0!==a){const e=_-(f-l);if(e<=r){const t=n.charCodeAt(c);let s;s=i["D"](t)?2:g(t,f,r,o),e-s<0&&(a=0)}}if(p){O--;continue}}if(0===a&&(a=c,l=f),a<=L){const e=n.charCodeAt(L);i["D"](e)?(a=L+2,l=v+2):(a=L+1,l=v+g(e,v,r,o))}L=a,C[w]=a,v=l,b[w]=l,w++,S=l+_;while(O<0||O<k&&d[O]<l)O++;let p=Math.abs(d[O]-S);while(O+1<k){const e=Math.abs(d[O+1]-S);if(e>=p)break;p=e,O++}}return 0===w?null:(C.length=w,b.length=w,l=t.breakOffsets,c=t.breakOffsetsVisibleColumn,t.breakOffsets=C,t.breakOffsetsVisibleColumn=b,t.wrappedTextIndentLength=f,t)}function d(e,t,n,r,a,l,c){const u=o["b"].applyInjectedText(t,n);let h,d;if(n&&n.length>0?(h=n.map(e=>e.options),d=n.map(e=>e.column-1)):(h=null,d=null),-1===a)return h?new s["b"]([u.length],[],0,d,h):null;const f=u.length;if(f<=1)return h?new s["b"]([u.length],[],0,d,h):null;const _=p(u,r,a,l,c),C=a-_;let b=[],w=[],L=0,v=0,S=0,k=a,O=u.charCodeAt(0),I=e.get(O),M=g(O,0,r,l),y=1;i["D"](O)&&(M+=1,O=u.charCodeAt(1),I=e.get(O),y++);for(let s=y;s<f;s++){const t=s,n=u.charCodeAt(s);let o,a;i["D"](n)?(s++,o=0,a=2):(o=e.get(n),a=g(n,M,r,l)),m(O,I,n,o)&&(v=t,S=M),M+=a,M>k&&((0===v||M-S>C)&&(v=t,S=M-a),b[L]=v,w[L]=S,L++,k=S+C,v=0),O=n,I=o}return 0!==L||n&&0!==n.length?(b[L]=f,w[L]=M,new s["b"](b,w,_,d,h)):null}function g(e,t,n,r){return 9===e?n-t%n:i["C"](e)||e<32?r:1}function f(e,t){return t-e%t}function m(e,t,n,i){return 32!==n&&(2===t||3===t&&2!==i||1===i||3===i&&1!==t)}function p(e,t,n,r,s){let o=0;if(0!==s){const a=i["t"](e);if(-1!==a){for(let n=0;n<a;n++){const i=9===e.charCodeAt(n)?f(o,t):1;o+=i}const i=3===s?2:2===s?1:0;for(let e=0;e<i;e++){const e=f(o,t);o+=e}o+r>n&&(o=0)}}return o}},"8bf1":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u}));var i=n("4dc7"),r=n("b707");class s{clone(){return this}equals(e){return this===e}}const o=new s,a="vs.editor.nullMode",l=new r["s"](a,0);function c(e,t,n,r){return new i["b"]([new i["a"](r,"",e)],n)}function u(e,t,n,r){let s=new Uint32Array(2);return s[0]=r,s[1]=(16384|e<<0|2<<23)>>>0,new i["c"](s,null===n?o:n)}},"918c":function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"n",(function(){return l})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"a",(function(){return _})),n.d(t,"o",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"r",(function(){return L})),n.d(t,"q",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"s",(function(){return O})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return y})),n.d(t,"w",(function(){return N})),n.d(t,"v",(function(){return E})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return V})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return P})),n.d(t,"i",(function(){return A}));var i=n("dff7"),r=n("ceb8"),s=n("303e"),o=n("b7d0");const a=Object(s["Nb"])("editor.lineHighlightBackground",{dark:null,light:null,hc:null},i["a"]("lineHighlight","Background color for the highlight of line at the cursor position.")),l=Object(s["Nb"])("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},i["a"]("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),c=Object(s["Nb"])("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},i["a"]("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),u=Object(s["Nb"])("editor.rangeHighlightBorder",{dark:null,light:null,hc:s["b"]},i["a"]("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),h=Object(s["Nb"])("editor.symbolHighlightBackground",{dark:s["u"],light:s["u"],hc:null},i["a"]("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),d=Object(s["Nb"])("editor.symbolHighlightBorder",{dark:null,light:null,hc:s["b"]},i["a"]("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),g=Object(s["Nb"])("editorCursor.foreground",{dark:"#AEAFAD",light:r["a"].black,hc:r["a"].white},i["a"]("caret","Color of the editor cursor.")),f=Object(s["Nb"])("editorCursor.background",null,i["a"]("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),m=Object(s["Nb"])("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},i["a"]("editorWhitespaces","Color of whitespace characters in the editor.")),p=Object(s["Nb"])("editorIndentGuide.background",{dark:m,light:m,hc:m},i["a"]("editorIndentGuides","Color of the editor indentation guides.")),_=Object(s["Nb"])("editorIndentGuide.activeBackground",{dark:m,light:m,hc:m},i["a"]("editorActiveIndentGuide","Color of the active editor indentation guides.")),C=Object(s["Nb"])("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:r["a"].white},i["a"]("editorLineNumbers","Color of editor line numbers.")),b=Object(s["Nb"])("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:s["b"]},i["a"]("editorActiveLineNumber","Color of editor active line number"),!1,i["a"]("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),w=Object(s["Nb"])("editorLineNumber.activeForeground",{dark:b,light:b,hc:b},i["a"]("editorActiveLineNumber","Color of editor active line number")),L=Object(s["Nb"])("editorRuler.foreground",{dark:"#5A5A5A",light:r["a"].lightgrey,hc:r["a"].white},i["a"]("editorRuler","Color of the editor rulers.")),v=(Object(s["Nb"])("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},i["a"]("editorCodeLensForeground","Foreground color of editor CodeLens")),Object(s["Nb"])("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},i["a"]("editorBracketMatchBackground","Background color behind matching brackets")),Object(s["Nb"])("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:s["h"]},i["a"]("editorBracketMatchBorder","Color for matching brackets boxes")),Object(s["Nb"])("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},i["a"]("editorOverviewRulerBorder","Color of the overview ruler border."))),S=Object(s["Nb"])("editorOverviewRuler.background",null,i["a"]("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),k=Object(s["Nb"])("editorGutter.background",{dark:s["q"],light:s["q"],hc:s["q"]},i["a"]("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),O=Object(s["Nb"])("editorUnnecessaryCode.border",{dark:null,light:null,hc:r["a"].fromHex("#fff").transparent(.8)},i["a"]("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),I=Object(s["Nb"])("editorUnnecessaryCode.opacity",{dark:r["a"].fromHex("#000a"),light:r["a"].fromHex("#0007"),hc:null},i["a"]("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),M=(Object(s["Nb"])("editorGhostText.border",{dark:null,light:null,hc:r["a"].fromHex("#fff").transparent(.8)},i["a"]("editorGhostTextBorder","Border color of ghost text in the editor.")),Object(s["Nb"])("editorGhostText.foreground",{dark:r["a"].fromHex("#ffffff56"),light:r["a"].fromHex("#0007"),hc:null},i["a"]("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),new r["a"](new r["b"](0,122,204,.6))),y=(Object(s["Nb"])("editorOverviewRuler.rangeHighlightForeground",{dark:M,light:M,hc:M},i["a"]("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Object(s["Nb"])("editorOverviewRuler.errorForeground",{dark:new r["a"](new r["b"](255,18,18,.7)),light:new r["a"](new r["b"](255,18,18,.7)),hc:new r["a"](new r["b"](255,50,50,1))},i["a"]("overviewRuleError","Overview ruler marker color for errors."))),N=Object(s["Nb"])("editorOverviewRuler.warningForeground",{dark:s["H"],light:s["H"],hc:s["G"]},i["a"]("overviewRuleWarning","Overview ruler marker color for warnings.")),E=Object(s["Nb"])("editorOverviewRuler.infoForeground",{dark:s["B"],light:s["B"],hc:s["A"]},i["a"]("overviewRuleInfo","Overview ruler marker color for infos.")),x=Object(s["Nb"])("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},i["a"]("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),T=Object(s["Nb"])("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},i["a"]("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),V=Object(s["Nb"])("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},i["a"]("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),D=Object(s["Nb"])("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},i["a"]("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),R=Object(s["Nb"])("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},i["a"]("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),P=Object(s["Nb"])("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},i["a"]("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),A=Object(s["Nb"])("editorBracketHighlight.unexpectedBracket.foreground",{dark:new r["a"](new r["b"](255,18,18,.8)),light:new r["a"](new r["b"](255,18,18,.8)),hc:new r["a"](new r["b"](255,50,50,1))},i["a"]("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets."));Object(o["f"])((e,t)=>{const n=e.getColor(s["q"]);n&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${n}; }`);const i=e.getColor(s["v"]);i&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);const r=e.getColor(k);r&&t.addRule(`.monaco-editor .margin { background-color: ${r}; }`);const o=e.getColor(c);o&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${o}; }`);const a=e.getColor(u);a&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${a}; }`);const l=e.getColor(h);l&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${l}; }`);const g=e.getColor(d);g&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${g}; }`);const f=e.getColor(m);f&&(t.addRule(`.monaco-editor .mtkw { color: ${f} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${f} !important; }`))})},"91df":function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var i=n("ceb8"),r=n("a666"),s=n("3742"),o=n("fd49"),a=n("7061"),l=n("6a89"),c=n("338e"),u=n("b707"),h=n("e1b5");n("8bf1");function d(e,t,n,i,r,s,o){let a="<div>",l=i,c=0,u=!0;for(let h=0,d=t.getCount();h<d;h++){const d=t.getEndOffset(h);if(d<=i)continue;let g="";for(;l<d&&l<r;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=s-(l+c)%s;c+=e-1;while(e>0)o&&u?(g+="&#160;",u=!1):(g+=" ",u=!0),e--;break;case 60:g+="&lt;",u=!1;break;case 62:g+="&gt;",u=!1;break;case 38:g+="&amp;",u=!1;break;case 0:g+="&#00;",u=!1;break;case 65279:case 8232:case 8233:case 133:g+="�",u=!1;break;case 13:g+="&#8203",u=!1;break;case 32:o&&u?(g+="&#160;",u=!1):(g+=" ",u=!0);break;default:g+=String.fromCharCode(t),u=!1}}if(a+=`<span style="${t.getInlineStyle(h,n)}">${g}</span>`,d>r||l>=r)break}return a+="</div>",a}var g=n("ff6c"),f=n("0d83"),m=n("308f"),p=n("42e3");class _{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,n=this._changes,i=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,n,i)}}class C{constructor(e,t,n,i,r){this.id=e,this.afterLineNumber=t,this.ordinal=n,this.height=i,this.minWidth=r,this.prefixSum=0}}class b{constructor(e,t,n,i){this._instanceId=s["O"](++b.INSTANCE_COUNT),this._pendingChanges=new _,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=n,this._paddingBottom=i}static findInsertionIndex(e,t,n){let i=0,r=e.length;while(i<r){const s=i+r>>>1;t===e[s].afterLineNumber?n<e[s].ordinal?r=s:i=s+1:t<e[s].afterLineNumber?r=s:i=s+1}return i}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{const n={insertWhitespace:(e,n,i,r)=>{t=!0,e|=0,n|=0,i|=0,r|=0;const s=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new C(s,e,n,i,r)),s},changeOneWhitespace:(e,n,i)=>{t=!0,n|=0,i|=0,this._pendingChanges.change({id:e,newAfterLineNumber:n,newHeight:i})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}};e(n)}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,n){if((e.length>0||n.length>0)&&(this._minWidth=-1),e.length+t.length+n.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of n){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const i=new Set;for(const a of n)i.add(a.id);const r=new Map;for(const a of t)r.set(a.id,a);const s=e=>{let t=[];for(const n of e)if(!i.has(n.id)){if(r.has(n.id)){const e=r.get(n.id);n.afterLineNumber=e.newAfterLineNumber,n.height=e.newHeight}t.push(n)}return t},o=s(this._arr).concat(s(e));o.sort((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber),this._arr=o,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=b.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let n=0,i=t.length;n<i;n++)if(t[n].id===e)return n;return-1}_changeOneWhitespace(e,t,n){const i=this._findWhitespaceIndex(e);if(-1!==i&&(this._arr[i].height!==n&&(this._arr[i].height=n,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)),this._arr[i].afterLineNumber!==t)){const e=this._arr[i];this._removeWhitespace(i),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let n=0,i=this._arr.length;n<i;n++){const i=this._arr[n].afterLineNumber;e<=i&&i<=t?this._arr[n].afterLineNumber=e-1:i>t&&(this._arr[n].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let n=0,i=this._arr.length;n<i;n++){const i=this._arr[n].afterLineNumber;e<=i&&(this._arr[n].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let n=t;n<=e;n++)this._arr[n].prefixSum=this._arr[n-1].prefixSum+this._arr[n].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let n=0,i=t.length-1;while(n<=i){const r=i-n|0,s=r/2|0,o=n+s|0;if(t[o].afterLineNumber<e){if(o+1>=t.length||t[o+1].afterLineNumber>=e)return o;n=o+1|0}else i=o-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e),n=t+1;return n<this._arr.length?n:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t;this._checkPendingChanges(),e|=0,t=e>1?this._lineHeight*(e-1):0;const n=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return t+n+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,n=this._arr.length;t<n;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e|=0,e<0)return 1;const t=0|this._lineCount,n=this._lineHeight;let i=1,r=t;while(i<r){const t=(i+r)/2|0,s=0|this.getVerticalOffsetForLineNumber(t);if(e>=s+n)i=t+1;else{if(e>=s)return t;r=t}}return i>t?t:i}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const n=this._lineHeight,i=0|this.getLineNumberAtOrAfterVerticalOffset(e),r=0|this.getVerticalOffsetForLineNumber(i);let s=0|this._lineCount,o=0|this.getFirstWhitespaceIndexAfterLineNumber(i);const a=0|this.getWhitespacesCount();let l,c;-1===o?(o=a,c=s+1,l=0):(c=0|this.getAfterLineNumberForWhitespaceIndex(o),l=0|this.getHeightForWhitespaceIndex(o));let u=r,h=u;const d=5e5;let g=0;r>=d&&(g=Math.floor(r/d)*d,g=Math.floor(g/n)*n,h-=g);const f=[],m=e+(t-e)/2;let p=-1;for(let w=i;w<=s;w++){if(-1===p){const e=u,t=u+n;(e<=m&&m<t||e>m)&&(p=w)}u+=n,f[w-i]=h,h+=n;while(c===w)h+=l,u+=l,o++,o>=a?c=s+1:(c=0|this.getAfterLineNumberForWhitespaceIndex(o),l=0|this.getHeightForWhitespaceIndex(o));if(u>=t){s=w;break}}-1===p&&(p=s);const _=0|this.getVerticalOffsetForLineNumber(s);let C=i,b=s;return C<b&&r<e&&C++,C<b&&_+n>t&&b--,{bigNumbersDelta:g,startLineNumber:i,endLineNumber:s,relativeVerticalOffset:f,centeredLineNumber:p,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let n,i;return n=t>=1?this._lineHeight*t:0,i=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,n+i+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,n=this.getWhitespacesCount()-1;if(n<0)return-1;const i=this.getVerticalOffsetForWhitespaceIndex(n),r=this.getHeightForWhitespaceIndex(n);if(e>=i+r)return-1;while(t<n){const i=Math.floor((t+n)/2),r=this.getVerticalOffsetForWhitespaceIndex(i),s=this.getHeightForWhitespaceIndex(i);if(e>=r+s)t=i+1;else{if(e>=r)return i;n=i}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const n=this.getVerticalOffsetForWhitespaceIndex(t);if(n>e)return null;const i=this.getHeightForWhitespaceIndex(t),r=this.getIdForWhitespaceIndex(t),s=this.getAfterLineNumberForWhitespaceIndex(t);return{id:r,afterLineNumber:s,verticalOffset:n,height:i}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this.getWhitespacesCount()-1;if(n<0)return[];let r=[];for(let s=n;s<=i;s++){const e=this.getVerticalOffsetForWhitespaceIndex(s),n=this.getHeightForWhitespaceIndex(s);if(e>=t)break;r.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:e,height:n})}return r}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}b.INSTANCE_COUNT=0;var w=n("a8d0"),L=n("130b");const v=125;class S{constructor(e,t,n,i){e|=0,t|=0,n|=0,i|=0,e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),i<0&&(i=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=n,this.contentHeight=i,this.scrollHeight=Math.max(n,i)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class k extends r["a"]{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new m["b"]),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new S(0,0,0,0),this._scrollable=this._register(new p["a"](e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const n=t.contentWidth!==e.contentWidth,i=t.contentHeight!==e.contentHeight;(n||i)&&this._onDidContentSizeChange.fire(new L["a"](t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class O extends r["a"]{constructor(e,t,n){super(),this._configuration=e;const i=this._configuration.options,r=i.get(129),s=i.get(74);this._linesLayout=new b(t,i.get(58),s.top,s.bottom),this._scrollable=this._register(new k(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new S(r.contentWidth,0,r.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?v:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(t.get(58)),e.hasChanged(74)){const e=t.get(74);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(129)){const e=t.get(129),n=e.contentWidth,i=e.height,r=this._scrollable.getScrollDimensions(),s=r.contentWidth;this._scrollable.setScrollDimensions(new S(n,r.contentWidth,i,this._getContentHeight(n,i,s)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const n=this._configuration.options,i=n.get(91);return 2===i.horizontal||e>=t?0:i.horizontalScrollbarSize}_getContentHeight(e,t,n){const i=this._configuration.options;let r=this._linesLayout.getLinesTotalHeight();return i.get(93)?r+=Math.max(0,t-i.get(58)-i.get(74).bottom):r+=this._getHorizontalScrollbarHeight(e,n),r}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,n=e.height,i=e.contentWidth;this._scrollable.setScrollDimensions(new S(t,e.contentWidth,n,this._getContentHeight(t,n,i)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new w["h"](t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new w["h"](t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,n=t.get(130),i=t.get(43);if(n.isViewportWrapping){const n=t.get(129),r=t.get(64);return e>n.contentWidth+i.typicalHalfwidthCharacterWidth&&r.enabled&&"right"===r.side?e+n.verticalScrollbarWidth:e}{const n=t.get(92)*i.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+n,r)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new S(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),i=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n);return{scrollTop:t,scrollTopWithoutViewZones:t-i,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){const e=this._scrollable.getScrollDimensions();return e.contentWidth}getScrollWidth(){const e=this._scrollable.getScrollDimensions();return e.scrollWidth}getContentHeight(){const e=this._scrollable.getScrollDimensions();return e.contentHeight}getScrollHeight(){const e=this._scrollable.getScrollDimensions();return e.scrollHeight}getCurrentScrollLeft(){const e=this._scrollable.getCurrentScrollPosition();return e.scrollLeft}getCurrentScrollTop(){const e=this._scrollable.getCurrentScrollPosition();return e.scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+e,scrollTop:n.scrollTop+t})}}var I=n("e8e3"),M=n("b57f"),y=n("2de5");class N{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}}class E{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],n=e>0?this._modelToView[e-1]:0;this._modelToView[e]=n+t;for(let i=0;i<t;i++)this._viewToModel[n+i]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=I["b"](this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],n=t>0?this._modelToView[t-1]:0;return new y["b"](t,e-n)}}class x{constructor(e,t,n,i,r,s,o,a,l){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=n,this._monospaceLineBreaksComputerFactory=i,this.fontInfo=r,this.tabSize=s,this.wrappingStrategy=o,this.wrappingColumn=a,this.wrappingIndent=l,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new N(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);const n=this.model.getLinesContent(),i=this.model.getInjectedTextDecorations(this._editorId),r=n.length,s=this.createLineBreaksComputer(),o=new I["a"](c["b"].fromDecorations(i));for(let l=0;l<r;l++){const e=o.takeWhile(e=>e.lineNumber===l+1);s.addRequest(n[l],e,t?t[l]:null)}const a=s.finalize();let u=[],h=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(l["a"].compareRangesUsingStarts),d=1,g=0,f=-1,m=f+1<h.length?g+1:r+2;for(let l=0;l<r;l++){let e=l+1;e===m&&(f++,d=h[f].startLineNumber,g=h[f].endLineNumber,m=f+1<h.length?g+1:r+2);let t=e>=d&&e<=g,n=B(a[l],!t);u[l]=n.getViewLineCount(),this.lines[l]=n}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new E(u)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(0===e.length)return[];let t=e.map(e=>this.model.validateRange(e)).sort(l["a"].compareRangesUsingStarts),n=[],i=t[0].startLineNumber,r=t[0].endLineNumber;for(let s=1,o=t.length;s<o;s++){let e=t[s];e.startLineNumber>r+1?(n.push(new l["a"](i,1,r,1)),i=e.startLineNumber,r=e.endLineNumber):e.endLineNumber>r&&(r=e.endLineNumber)}return n.push(new l["a"](i,1,r,1)),n}setHiddenAreas(e){let t=this._reduceRanges(e),n=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(l["a"].compareRangesUsingStarts);if(t.length===n.length){let e=!1;for(let i=0;i<t.length;i++)if(!t[i].equalsRange(n[i])){e=!0;break}if(!e)return!1}let i=[];for(const l of t)i.push({range:l,options:M["b"].EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,i);let r=t,s=1,o=0,a=-1,c=a+1<r.length?o+1:this.lines.length+2,u=!1;for(let l=0;l<this.lines.length;l++){let e=l+1;e===c&&(a++,s=r[a].startLineNumber,o=r[a].endLineNumber,c=a+1<r.length?o+1:this.lines.length+2);let t=!1;if(e>=s&&e<=o?this.lines[l].isVisible()&&(this.lines[l]=this.lines[l].setVisible(!1),t=!0):(u=!0,this.lines[l].isVisible()||(this.lines[l]=this.lines[l].setVisible(!0),t=!0)),t){let e=this.lines[l].getViewLineCount();this.prefixSumComputer.changeValue(l,e)}}return u||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,n,i){const r=this.fontInfo.equals(e),s=this.wrappingStrategy===t,o=this.wrappingColumn===n,a=this.wrappingIndent===i;if(r&&s&&o&&a)return!1;const l=r&&s&&!o&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=n,this.wrappingIndent=i;let c=null;if(l){c=[];for(let e=0,t=this.lines.length;e<t;e++)c[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,c),!0}createLineBreaksComputer(){const e="advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory;return e.createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,n){if(!e||e<=this._validModelVersionId)return null;let i=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,r=this.prefixSumComputer.getAccumulatedValue(n-1);return this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1),new f["k"](i,r)}onModelLinesInserted(e,t,n,i){if(!e||e<=this._validModelVersionId)return null;const r=t>2&&!this.lines[t-2].isVisible();let s=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=0,a=[],l=[];for(let c=0,u=i.length;c<u;c++){let e=B(i[c],!r);a.push(e);let t=e.getViewLineCount();o+=t,l[c]=t}return this.lines=this.lines.slice(0,t-1).concat(a).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,l),new f["l"](s,s+o-1)}onModelLineChanged(e,t,n){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];let i=t-1,r=this.lines[i].getViewLineCount(),s=this.lines[i].isVisible(),o=B(n,s);this.lines[i]=o;let a=this.lines[i].getViewLineCount(),l=!1,c=0,u=-1,h=0,d=-1,g=0,m=-1;r>a?(c=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,u=c+a-1,g=u+1,m=g+(r-a)-1,l=!0):r<a?(c=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,u=c+r-1,h=u+1,d=h+(a-r)-1,l=!0):(c=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,u=c+a-1),this.prefixSumComputer.changeValue(i,a);const p=c<=u?new f["j"](c,u):null,_=h<=d?new f["l"](h,d):null,C=g<=m?new f["k"](g,m):null;return[l,p,_,C]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),n=this._toValidViewLineNumber(n);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),o=this.model.getActiveIndentGuide(i.lineNumber,r.lineNumber,s.lineNumber),a=this.convertModelPositionToViewPosition(o.startLineNumber,1),l=this.convertModelPositionToViewPosition(o.endLineNumber,this.model.getLineMaxColumn(o.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:o.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return new T(n+1,i)}getMinColumnOfViewLine(e){return this.lines[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1],n=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new a["a"](e.modelLineNumber,i)}getModelEndPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1],n=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new a["a"](e.modelLineNumber,i)}getViewLineInfosGroupedByModelRanges(e,t){const n=this.getViewLineInfo(e),i=this.getViewLineInfo(t),r=new Array;let s=this.getModelStartPositionOfViewLine(n),o=new Array;for(let c=n.modelLineNumber;c<=i.modelLineNumber;c++){const e=this.lines[c-1];if(e.isVisible()){let t=c===n.modelLineNumber?n.modelLineWrappedLineIdx:0,r=c===i.modelLineNumber?i.modelLineWrappedLineIdx+1:e.getViewLineCount();for(let e=t;e<r;e++)o.push(new T(c,e))}if(!e.isVisible()&&s){const e=new a["a"](c-1,this.model.getLineMaxColumn(c-1)+1),t=l["a"].fromPositions(s,e);r.push(new V(t,o)),o=[],s=null}else e.isVisible()&&!s&&(s=new a["a"](c,1))}if(s){const e=l["a"].fromPositions(s,this.getModelEndPositionOfViewLine(i));r.push(new V(e,o))}return r}getViewLinesBracketGuides(e,t,n,i,r){const s=n?this.convertViewPositionToModelPosition(n.lineNumber,n.column):null,o=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const e=a.modelRange.startLineNumber,t=this.model.getLinesBracketGuides(e,a.modelRange.endLineNumber,s,i,r);for(const n of a.viewLines)if(n.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(n))o.push([]);else{const i=t[n.modelLineNumber-e];o.push(i)}}return o}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let r=[],s=[],o=[];const l=n.lineNumber-1,c=i.lineNumber-1;let u=null;for(let f=l;f<=c;f++){const e=this.lines[f];if(e.isVisible()){let t=e.getViewLineNumberOfModelPosition(0,f===l?n.column:1),i=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(f+1)),r=i-t+1,c=0;r>1&&1===e.getViewLineMinColumn(this.model,f+1,i)&&(c=0===t?1:2),s.push(r),o.push(c),null===u&&(u=new a["a"](f+1,0))}else null!==u&&(r=r.concat(this.model.getLinesIndentGuides(u.lineNumber,f)),u=null)}null!==u&&(r=r.concat(this.model.getLinesIndentGuides(u.lineNumber,i.lineNumber)),u=null);const h=t-e+1;let d=new Array(h),g=0;for(let a=0,f=r.length;a<f;a++){let e,t=r[a],n=Math.min(h-g,s[a]),i=o[a];e=2===i?0:1===i?1:n;for(let r=0;r<n;r++)r===e&&(t=0),d[g++]=t}return d}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineContent(this.model,n+1,i)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineLength(this.model,n+1,i)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMinColumn(this.model,n+1,i)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMaxColumn(this.model,n+1,i)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineData(this.model,n+1,i)}getViewLinesData(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let i=this.prefixSumComputer.getIndexOf(e-1),r=e,s=i.index,o=i.remainder,a=[];for(let l=s,c=this.model.getLineCount();l<c;l++){let i=this.lines[l];if(!i.isVisible())continue;let c=l===s?o:0,u=i.getViewLineCount()-c,h=!1;r+u>t&&(h=!0,u=t-r+1);let d=c+u;if(i.getViewLinesData(this.model,l+1,c,d,r-e,n,a),r+=u,h)break}return a}validateViewPosition(e,t,n){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),r=i.index,s=i.remainder,o=this.lines[r],l=o.getViewLineMinColumn(this.model,r+1,s),c=o.getViewLineMaxColumn(this.model,r+1,s);t<l&&(t=l),t>c&&(t=c);let u=o.getModelColumnOfViewPosition(s,t),h=this.model.validatePosition(new a["a"](r+1,u));return h.equals(n)?new a["a"](e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)}validateViewRange(e,t){const n=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new l["a"](n.lineNumber,n.column,i.lineNumber,i.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),i=n.index,r=n.remainder,s=this.lines[i].getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new a["a"](i+1,s))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new l["a"](t.lineNumber,t.column,n.lineNumber,n.column)}convertModelPositionToViewPosition(e,t,n=2){const i=this.model.validatePosition(new a["a"](e,t)),r=i.lineNumber,s=i.column;let o=r-1,l=!1;while(o>0&&!this.lines[o].isVisible())o--,l=!0;if(0===o&&!this.lines[o].isVisible())return new a["a"](1,1);const c=1+(0===o?0:this.prefixSumComputer.getAccumulatedValue(o-1));let u;return u=l?this.lines[o].getViewPositionOfModelPosition(c,this.model.getLineMaxColumn(o+1),n):this.lines[r-1].getViewPositionOfModelPosition(c,s,n),u}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const n=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return l["a"].fromPositions(n)}{const t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new l["a"](t.lineNumber,t.column,n.lineNumber,n.column)}}_getViewLineNumberForModelPosition(e,t){let n=e-1;if(this.lines[n].isVisible()){const e=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(e,t)}while(n>0&&!this.lines[n].isVisible())n--;if(0===n&&!this.lines[n].isVisible())return 1;const i=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(i,this.model.getLineMaxColumn(n+1))}getAllOverviewRulerDecorations(e,t,n){const i=this.model.getOverviewRulerDecorations(e,t),r=new U;for(const s of i){const e=s.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const i=e.getColor(n),o=this._getViewLineNumberForModelPosition(s.range.startLineNumber,s.range.startColumn),a=this._getViewLineNumberForModelPosition(s.range.endLineNumber,s.range.endColumn);r.accept(i,o,a,t)}return r.result}getDecorationsInRange(e,t,n){const i=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),r=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(r.lineNumber-i.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new l["a"](i.lineNumber,1,r.lineNumber,r.column),t,n);let s=[];const o=i.lineNumber-1,c=r.lineNumber-1;let u=null;for(let f=o;f<=c;f++){const e=this.lines[f];if(e.isVisible())null===u&&(u=new a["a"](f+1,f===o?i.column:1));else if(null!==u){const e=this.model.getLineMaxColumn(f);s=s.concat(this.model.getDecorationsInRange(new l["a"](u.lineNumber,u.column,f,e),t,n)),u=null}}null!==u&&(s=s.concat(this.model.getDecorationsInRange(new l["a"](u.lineNumber,u.column,r.lineNumber,r.column),t,n)),u=null),s.sort((e,t)=>{const n=l["a"].compareRangesUsingStarts(e.range,t.range);return 0===n?e.id<t.id?-1:e.id>t.id?1:0:n});let h=[],d=0,g=null;for(const a of s){const e=a.id;g!==e&&(g=e,h[d++]=a)}return h}getInjectedTextAt(e){const t=this._toValidViewLineNumber(e.lineNumber),n=this.prefixSumComputer.getIndexOf(t-1),i=n.index,r=n.remainder;return this.lines[i].getInjectedTextAt(r,e.column)}normalizePosition(e,t){const n=this._toValidViewLineNumber(e.lineNumber),i=this.prefixSumComputer.getIndexOf(n-1),r=i.index,s=i.remainder;return this.lines[r].normalizePosition(this.model,r+1,s,e,t)}getLineIndentColumn(e){const t=this._toValidViewLineNumber(e),n=this.prefixSumComputer.getIndexOf(t-1),i=n.index,r=n.remainder;return 0===r?this.model.getLineIndentColumn(i+1):0}}class T{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class V{constructor(e,t){this.modelRange=e,this.viewLines=t}}class D{constructor(){}isVisible(){return!0}setVisible(e){return e?this:R.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,n){return e.getLineContent(t)}getViewLineLength(e,t,n){return e.getLineLength(t)}getViewLineMinColumn(e,t,n){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,n){return e.getLineMaxColumn(t)}getViewLineData(e,t,n){let i=e.getLineTokens(t),r=i.getLineContent();return new w["e"](r,!1,1,r.length+1,0,i.inflate(),null)}getViewLinesData(e,t,n,i,r,s,o){s[r]?o[r]=this.getViewLineData(e,t,0):o[r]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new a["a"](e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,n,i,r){return i}getInjectedTextAt(e,t){return null}}D.INSTANCE=new D;class R{constructor(){}isVisible(){return!1}setVisible(e){return e?D.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,n){throw new Error("Not supported")}getViewLineLength(e,t,n){throw new Error("Not supported")}getViewLineMinColumn(e,t,n){throw new Error("Not supported")}getViewLineMaxColumn(e,t,n){throw new Error("Not supported")}getViewLineData(e,t,n){throw new Error("Not supported")}getViewLinesData(e,t,n,i,r,s,o){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,n,i,r){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}R.INSTANCE=new R;class P{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,t,n){return n+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:this._lineBreakData.getInputOffsetOfOutputPosition(n+1,0)}getViewLineContent(e,t,n){if(!this._isVisible)throw new Error("Not supported");const i=n>0?this._lineBreakData.breakOffsets[n-1]:0,r=n<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[n]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let s;if(null!==this._lineBreakData.injectionOffsets){const n=this._lineBreakData.injectionOffsets.map((e,t)=>new c["b"](0,0,e+1,this._lineBreakData.injectionOptions[t],0));s=c["b"].applyInjectedText(e.getLineContent(t),n).substring(i,r)}else s=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:r+1});return n>0&&(s=W(this._lineBreakData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,n){if(!this._isVisible)throw new Error("Not supported");const i=n>0?this._lineBreakData.breakOffsets[n-1]:0,r=n<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[n]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let s=r-i;return n>0&&(s=this._lineBreakData.wrappedTextIndentLength+s),s}getViewLineMinColumn(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(n)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,t,n)+1}getViewLineData(e,t,n){if(!this._isVisible)throw new Error("Not supported");const i=this._lineBreakData,r=n>0?i.wrappedTextIndentLength:0,s=i.injectionOffsets,o=i.injectionOptions;let a,l,c;if(s){const u=e.getLineTokens(t).withInserted(s.map((e,t)=>({offset:e,text:o[t].content,tokenMetadata:h["a"].defaultTokenMetadata}))),d=n>0?i.breakOffsets[n-1]:0,g=i.breakOffsets[n];a=u.getLineContent().substring(d,g),l=u.sliceAndInflate(d,g,r),c=new Array;let f=0;for(let e=0;e<s.length;e++){const t=o[e].content.length,r=s[e]+f,a=s[e]+f+t;if(r>g)break;if(d<a){const t=o[e];if(t.inlineClassName){const e=n>0?i.wrappedTextIndentLength:0,s=e+Math.max(r-d,0),o=e+Math.min(a-d,g);s!==o&&c.push(new w["d"](s,o,t.inlineClassName,t.inlineClassNameAffectsLetterSpacing))}}f+=t}}else{const i=this.getInputStartOffsetOfOutputLineIndex(n),s=this.getInputEndOffsetOfOutputLineIndex(e,t,n),o=e.getLineTokens(t);a=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:s+1}),l=o.sliceAndInflate(i,s,r),c=null}n>0&&(a=W(i.wrappedTextIndentLength)+a);const u=n>0?i.wrappedTextIndentLength+1:1,d=a.length+1,g=n+1<this.getViewLineCount(),f=0===n?0:i.breakOffsetsVisibleColumn[n-1];return new w["e"](a,g,u,d,f,l,c)}getViewLinesData(e,t,n,i,r,s,o){if(!this._isVisible)throw new Error("Not supported");for(let a=n;a<i;a++){let i=r+a-n;s[i]?o[i]=this.getViewLineData(e,t,a):o[i]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let n=t-1;return e>0&&(n<this._lineBreakData.wrappedTextIndentLength?n=0:n-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,n)+1}getViewPositionOfModelPosition(e,t,n=2){if(!this._isVisible)throw new Error("Not supported");let i=this._lineBreakData.getOutputPositionOfInputOffset(t-1,n),r=i.outputLineIndex,s=i.outputOffset+1;return r>0&&(s+=this._lineBreakData.wrappedTextIndentLength),new a["a"](e+r,s)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");const n=this._lineBreakData.getOutputPositionOfInputOffset(t-1);return e+n.outputLineIndex}normalizePosition(e,t,n,i,r){if(null!==this._lineBreakData.injectionOffsets){const e=i.lineNumber-n,t=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(n,i.column-1),s=this._lineBreakData.normalizeOffsetAroundInjections(t,r);if(s!==t)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(s,r).toPosition(e,this._lineBreakData.wrappedTextIndentLength)}if(0===r){if(n>0&&i.column===this._getViewLineMinColumn(n))return new a["a"](i.lineNumber-1,this.getViewLineMaxColumn(e,t,n-1))}else if(1===r){const r=this.getViewLineCount()-1;if(n<r&&i.column===this.getViewLineMaxColumn(e,t,n))return new a["a"](i.lineNumber+1,this._getViewLineMinColumn(n+1))}return i}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}}let A=[""];function W(e){if(e>=A.length)for(let t=1;t<=e;t++)A[t]=F(t);return A[e]}function F(e){return new Array(e+1).join(" ")}function B(e,t){return null===e?t?D.INSTANCE:R.INSTANCE:new P(e,t)}class H{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}}class j{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new H(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,n,i){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,n,i)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,n){return new f["k"](t,n)}onModelLinesInserted(e,t,n,i){return new f["l"](t,n)}onModelLineChanged(e,t,n){return[!1,new f["j"](t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,n){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,n){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const n=t-e+1;let i=new Array(n);for(let r=0;r<n;r++)i[r]=0;return i}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),n=t.getLineContent();return new w["e"](n,!1,1,n.length+1,0,t.inflate(),null)}getViewLinesData(e,t,n){const i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);let r=[];for(let s=e;s<=t;s++){let t=s-e;n[t]||(r[t]=null),r[t]=this.getViewLineData(s)}return r}getAllOverviewRulerDecorations(e,t,n){const i=this.model.getOverviewRulerDecorations(e,t),r=new U;for(const s of i){const e=s.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const i=e.getColor(n),o=s.range.startLineNumber,a=s.range.endLineNumber;r.accept(i,o,a,t)}return r.result}getDecorationsInRange(e,t,n){return this.model.getDecorationsInRange(e,t,n)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class U{constructor(){this.result=Object.create(null)}accept(e,t,n,i){let r=this.result[e];if(r){const e=r[r.length-3],s=r[r.length-1];if(e===i&&s+1>=t)return void(n>s&&(r[r.length-1]=n));r.push(i,t,n)}else this.result[e]=[i,t,n]}}class z{constructor(e,t,n,i,r){this.editorId=e,this.model=t,this.configuration=n,this._linesCollection=i,this._coordinatesConverter=r,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let n=this._decorationsCache[t];if(!n){const i=e.range,r=e.options;let s;if(r.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new a["a"](i.startLineNumber,1),0),t=this._coordinatesConverter.convertModelPositionToViewPosition(new a["a"](i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)),1);s=new l["a"](e.lineNumber,e.column,t.lineNumber,t.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(i,1);n=new w["g"](s,r),this._decorationsCache[t]=n}return n}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,Object(o["n"])(this.configuration.options)),n=e.startLineNumber,i=e.endLineNumber;let r=[],s=0,a=[];for(let o=n;o<=i;o++)a[o-n]=[];for(let o=0,c=t.length;o<c;o++){let e=t[o],c=e.options,u=this._getOrCreateViewModelDecoration(e),h=u.range;if(r[s++]=u,c.inlineClassName){let e=new w["a"](h,c.inlineClassName,c.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(n,h.startLineNumber),r=Math.min(i,h.endLineNumber);for(let i=t;i<=r;i++)a[i-n].push(e)}if(c.beforeContentClassName&&n<=h.startLineNumber&&h.startLineNumber<=i){let e=new w["a"](new l["a"](h.startLineNumber,h.startColumn,h.startLineNumber,h.startColumn),c.beforeContentClassName,1);a[h.startLineNumber-n].push(e)}if(c.afterContentClassName&&n<=h.endLineNumber&&h.endLineNumber<=i){let e=new w["a"](new l["a"](h.endLineNumber,h.endColumn,h.endLineNumber,h.endColumn),c.afterContentClassName,2);a[h.endLineNumber-n].push(e)}}return{decorations:r,inlineDecorations:a}}}var K=n("5fe7"),Y=n("30db"),q=n("04a5"),G=n("2e5d");const $=!0;class Z extends r["a"]{constructor(e,t,n,i,r,s){if(super(),this._editorId=e,this._configuration=t,this.model=n,this._eventDispatcher=new L["f"],this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new G["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new K["e"](()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new K["e"](()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,$&&this.model.isTooLargeForTokenization())this._lines=new j(this.model);else{const e=this._configuration.options,t=e.get(43),n=e.get(123),s=e.get(130),o=e.get(122);this._lines=new x(this._editorId,this.model,i,r,t,this.model.getOptions().tabSize,n,s.wrappingColumn,o)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new q["a"](n,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new O(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll(e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new f["n"](e)),this._eventDispatcher.emitOutgoingEvent(new L["e"](e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(e=>{this._eventDispatcher.emitOutgoingEvent(e)})),this._decorations=new z(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(g["a"].getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new f["q"])})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](e.startLineNumber,1)),n=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,n.lineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new f["g"](e)),this._eventDispatcher.emitOutgoingEvent(new L["c"](!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new f["b"])}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new f["a"])}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new f["o"])}_onConfigurationChanged(e,t){let n=null;if(-1!==this._viewportStartLine){let e=new a["a"](this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));n=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let i=!1;const r=this._configuration.options,s=r.get(43),o=r.get(123),l=r.get(130),c=r.get(122);if(this._lines.setWrappingSettings(s,o,l.wrappingColumn,c)&&(e.emitViewEvent(new f["f"]),e.emitViewEvent(new f["i"]),e.emitViewEvent(new f["e"](null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(i=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new f["e"](null))),e.emitViewEvent(new f["c"](t)),this.viewLayout.onConfigurationChanged(t),i&&n){const e=this.coordinatesConverter.convertModelPositionToViewPosition(n),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}G["b"].shouldRecreate(t)&&(this.cursorConfig=new G["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let n=!1,i=!1;const r=e.changes,s=e instanceof c["d"]?e.versionId:null,o=this._lines.createLineBreaksComputer();for(const e of r)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){const n=e.detail[t];let i=e.injectedTexts[t];i&&(i=i.filter(e=>!e.ownerId||e.ownerId===this._editorId)),o.addRequest(n,i,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter(e=>!e.ownerId||e.ownerId===this._editorId)),o.addRequest(e.detail,t,null);break}}const a=o.finalize();let l=0;for(const e of r)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new f["f"]),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),n=!0;break;case 3:{const i=this._lines.onModelLinesDeleted(s,e.fromLineNumber,e.toLineNumber);null!==i&&(t.emitViewEvent(i),this.viewLayout.onLinesDeleted(i.fromLineNumber,i.toLineNumber)),n=!0;break}case 4:{const i=a.slice(l,l+e.detail.length);l+=e.detail.length;const r=this._lines.onModelLinesInserted(s,e.fromLineNumber,e.toLineNumber,i);null!==r&&(t.emitViewEvent(r),this.viewLayout.onLinesInserted(r.fromLineNumber,r.toLineNumber)),n=!0;break}case 2:{const n=a[l];l++;const[r,o,c,u]=this._lines.onModelLineChanged(s,e.lineNumber,n);i=r,o&&t.emitViewEvent(o),c&&(t.emitViewEvent(c),this.viewLayout.onLinesInserted(c.fromLineNumber,c.toLineNumber)),u&&(t.emitViewEvent(u),this.viewLayout.onLinesDeleted(u.fromLineNumber,u.toLineNumber));break}case 5:break}null!==s&&this._lines.acceptVersionId(s),this.viewLayout.onHeightMaybeChanged(),!n&&i&&(t.emitViewEvent(new f["i"]),t.emitViewEvent(new f["e"](null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),n=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:n+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let n=0,i=e.ranges.length;n<i;n++){const i=e.ranges[n],r=this.coordinatesConverter.convertModelPositionToViewPosition(new a["a"](i.fromLineNumber,1)).lineNumber,s=this.coordinatesConverter.convertModelPositionToViewPosition(new a["a"](i.toLineNumber,this.model.getLineMaxColumn(i.toLineNumber))).lineNumber;t[n]={fromLineNumber:r,toLineNumber:s}}this._eventDispatcher.emitSingleViewEvent(new f["p"](t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new f["h"]),this.cursorConfig=new G["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new G["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new f["f"]),e.emitViewEvent(new f["i"]),e.emitViewEvent(new f["e"](null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new G["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new f["e"](e))}))}setHiddenAreas(e){try{const t=this._eventDispatcher.beginEmitViewEvents();let n=this._lines.setHiddenAreas(e);n&&(t.emitViewEvent(new f["f"]),t.emitViewEvent(new f["i"]),t.emitViewEvent(new f["e"](null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),t=this._configuration.options.get(58),n=Math.max(20,Math.round(e.height/t)),i=this.viewLayout.getLinesViewportData(),r=Math.max(1,i.completelyVisibleStartLineNumber-n),s=Math.min(this.getLineCount(),i.completelyVisibleEndLineNumber+n);return this._toModelVisibleRanges(new l["a"](r,this.getLineMinColumn(r),s,this.getLineMaxColumn(s)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),n=this._lines.getHiddenAreas();if(0===n.length)return[t];let i=[],r=0,s=t.startLineNumber,o=t.startColumn,a=t.endLineNumber,c=t.endColumn;for(let u=0,h=n.length;u<h;u++){const e=n[u].startLineNumber,t=n[u].endLineNumber;t<s||(e>a||(s<e&&(i[r++]=new l["a"](s,o,e-1,this.model.getLineMaxColumn(e-1))),s=t+1,o=1))}return(s<a||s===a&&o<c)&&(i[r++]=new l["a"](s,o,a,c)),i}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new l["a"](t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new l["a"](n,this.getLineMinColumn(n),i,this.getLineMaxColumn(i))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(t),i=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](n,this.getLineMinColumn(n))),r=this.viewLayout.getVerticalOffsetForLineNumber(n)-t;return{scrollLeft:e.scrollLeft,firstPosition:i,firstPositionDeltaTop:r}}reduceRestoreState(e){if("undefined"===typeof e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(t),i=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:i}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,n){this._viewportStartLine=e;let i=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new l["a"](i.lineNumber,i.column,i.lineNumber,i.column),1);const r=this.viewLayout.getVerticalOffsetForLineNumber(e),s=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=s-r}getActiveIndentGuide(e,t,n){return this._lines.getActiveIndentGuide(e,t,n)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,n,i,r){return this._lines.getViewLinesBracketGuides(e,t,n,i,r)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=s["t"](this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=s["H"](this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let n=this.model.mightContainRTL(),i=this.model.mightContainNonBasicASCII(),r=this.getTabSize(),s=this._lines.getViewLineData(t),o=this._decorations.getDecorationsViewportData(e).inlineDecorations,a=o[t-e.startLineNumber];return s.inlineDecorations&&(a=[...a,...s.inlineDecorations.map(e=>e.toInlineDecoration(t))]),new w["f"](s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,n,i,s.tokens,a,r,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,n){let i=this._lines.getViewLinesData(e,t,n);return new w["c"](this.getTabSize(),i)}getAllOverviewRulerDecorations(e){return this._lines.getAllOverviewRulerDecorations(this._editorId,Object(o["n"])(this._configuration.options),e)}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,n){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=n:t+=n);const r=this.model.getOffsetAt(i),s=r+t;return this.model.getPositionAt(s)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,n){const i=n?"\r\n":this.model.getEOL();e=e.slice(0),e.sort(l["a"].compareRangesUsingStarts);let r=!1,s=!1;for(const a of e)a.isEmpty()?r=!0:s=!0;if(!s){if(!t)return"";const n=e.map(e=>e.startLineNumber);let r="";for(let e=0;e<n.length;e++)e>0&&n[e-1]===n[e]||(r+=this.model.getLineContent(n[e])+i);return r}if(r&&t){let t=[],i=0;for(const r of e){const e=r.startLineNumber;r.isEmpty()?e!==i&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(r,n?2:0)),i=e}return 1===t.length?t[0]:t}let o=[];for(const a of e)a.isEmpty()||o.push(this.model.getValueInRange(a,n?2:0));return 1===o.length?o[0]:o}getRichTextToCopy(e,t){const n=this.model.getLanguageIdentifier();if(1===n.id)return null;if(1!==e.length)return null;let i=e[0];if(i.isEmpty()){if(!t)return null;const e=i.startLineNumber;i=new l["a"](e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const r=this._configuration.options.get(43),s=this._getColorMap(),a=/[:;\\\/<>]/.test(r.fontFamily),c=a||r.fontFamily===o["c"].fontFamily;let u;if(c)u=o["c"].fontFamily;else{u=r.fontFamily,u=u.replace(/"/g,"'");const e=/[,']/.test(u);if(!e){const e=/[+ ]/.test(u);e&&(u=`'${u}'`)}u=`${u}, ${o["c"].fontFamily}`}return{mode:n.language,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${u};font-weight: ${r.fontWeight};font-size: ${r.fontSize}px;line-height: ${r.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(i,s)+"</div>"}}_getHTMLToCopy(e,t){const n=e.startLineNumber,i=e.startColumn,r=e.endLineNumber,s=e.endColumn,o=this.getTabSize();let a="";for(let l=n;l<=r;l++){const e=this.model.getLineTokens(l),c=e.getLineContent(),u=l===n?i-1:0,h=l===r?s-1:c.length;a+=""===c?"<br>":d(c,e.inflate(),t,u,h,o,Y["i"])}return a}_getColorMap(){let e=u["B"].getColorMap(),t=["#000000"];if(e)for(let n=1,r=e.length;n<r;n++)t[n]=i["a"].Format.CSS.formatHex(e[n]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,n){this._withViewEventsCollector(i=>this._cursor.setStates(i,e,t,n))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,n=0){this._withViewEventsCollector(i=>this._cursor.setSelections(i,e,t,n))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new L["d"]):this._withViewEventsCollector(e)}executeEdits(e,t,n){this._executeCursorEdit(i=>this._cursor.executeEdits(i,e,t,n))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(n=>this._cursor.type(n,e,t))}compositionType(e,t,n,i,r){this._executeCursorEdit(s=>this._cursor.compositionType(s,e,t,n,i,r))}paste(e,t,n,i){this._executeCursorEdit(r=>this._cursor.paste(r,e,t,n,i))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(n=>this._cursor.executeCommand(n,e,t))}executeCommands(e,t){this._executeCursorEdit(n=>this._cursor.executeCommands(n,e,t))}revealPrimaryCursor(e,t){this._withViewEventsCollector(n=>this._cursor.revealPrimary(n,e,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),n=new l["a"](t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new f["m"](e,n,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),n=new l["a"](t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new f["m"](e,n,null,0,!0,0)))}revealRange(e,t,n,i,r){this._withViewEventsCollector(s=>s.emitViewEvent(new f["m"](e,n,null,i,t,r)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){const t=this.viewLayout.changeWhitespace(e);t&&(this._eventDispatcher.emitSingleViewEvent(new f["r"]),this._eventDispatcher.emitOutgoingEvent(new L["g"]))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}},a21f:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c}));class i{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class r extends i{constructor(e,t,n){super(e,t),this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class s{constructor(e,t,n){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=n}}class o{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let n=0,i=e.length;n<i;n++){const i=e[n];t[n]=new o(i.left,i.width)}return t}toString(){return`[${this.left},${this.width}]`}}class a{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class l{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class c{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}},a40b:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("0a0f");const r="editorWorkerService",s=Object(i["c"])(r)},a8d0:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return g})),n.d(t,"g",(function(){return f}));var i=n("3742"),r=n("7061"),s=n("6a89");class o{constructor(e,t,n,i){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|n,this.height=0|i}}class a{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e,t){const n=this.outputLineIndex>0?t:0;return new r["a"](e+this.outputLineIndex,n+this.outputOffset+1)}}class l{constructor(e,t,n,i,r){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=n,this.injectionOffsets=i,this.injectionOptions=r}getInputOffsetOfOutputPosition(e,t){let n=0;if(n=0===e?t:this.breakOffsets[e-1]+t,null!==this.injectionOffsets)for(let i=0;i<this.injectionOffsets.length;i++){if(!(n>this.injectionOffsets[i]))break;n<this.injectionOffsets[i]+this.injectionOptions[i].content.length?n=this.injectionOffsets[i]:n-=this.injectionOptions[i].content.length}return n}getOutputPositionOfInputOffset(e,t=2){let n=0;if(null!==this.injectionOffsets)for(let i=0;i<this.injectionOffsets.length;i++){if(e<this.injectionOffsets[i])break;if(1!==t&&e===this.injectionOffsets[i])break;n+=this.injectionOptions[i].content.length}return e+=n,this.getOutputPositionOfOffsetInUnwrappedLine(e,t)}getOutputPositionOfOffsetInUnwrappedLine(e,t=2){let n=0,i=this.breakOffsets.length-1,r=0,s=0;while(n<=i){r=n+(i-n)/2|0;const o=this.breakOffsets[r];if(s=r>0?this.breakOffsets[r-1]:0,0===t)if(e<=s)i=r-1;else{if(!(e>o))break;n=r+1}else if(e<s)i=r-1;else{if(!(e>=o))break;n=r+1}}return new a(r,e-s)}outputPositionToOffsetInUnwrappedLine(e,t){let n=(e>0?this.breakOffsets[e-1]:0)+t;return e>0&&(n-=this.wrappedTextIndentLength),n}normalizeOffsetAroundInjections(e,t){const n=this.getInjectedTextAtOffset(e);if(!n)return e;if(2===t)return e===n.offsetInUnwrappedLine+n.length?n.offsetInUnwrappedLine+n.length:n.offsetInUnwrappedLine;if(1===t){let e=n.offsetInUnwrappedLine+n.length,t=n.injectedTextIndex;while(t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t])e+=this.injectionOptions[t+1].content.length,t++;return e}let i=n.offsetInUnwrappedLine,r=n.injectedTextIndex;while(r-1>=0&&this.injectionOffsets[r-1]===this.injectionOffsets[r])i-=this.injectionOptions[r-1].content.length,r++;return i}getInjectedText(e,t){const n=this.outputPositionToOffsetInUnwrappedLine(e,t),i=this.getInjectedTextAtOffset(n);return i?{options:this.injectionOptions[i.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,n=this.injectionOptions;if(null!==t){let i=0;for(let r=0;r<t.length;r++){const s=n[r].content.length,o=t[r]+i,a=t[r]+i+s;if(o>e)break;if(e<=a)return{injectedTextIndex:r,offsetInUnwrappedLine:o,length:s};i+=s}}}}class c{constructor(e,t){this.tabSize=e,this.data=t}}class u{constructor(e,t,n,i,r,s,o){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=n,this.maxColumn=i,this.startVisibleColumn=r,this.tokens=s,this.inlineDecorations=o}}class h{constructor(e,t,n,i,r,s,o,a,l,c){this.minColumn=e,this.maxColumn=t,this.content=n,this.continuesWithWrappedLine=i,this.isBasicASCII=h.isBasicASCII(n,s),this.containsRTL=h.containsRTL(n,this.isBasicASCII,r),this.tokens=o,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=c}static isBasicASCII(e,t){return!t||i["z"](e)}static containsRTL(e,t,n){return!(t||!n)&&i["m"](e)}}class d{constructor(e,t,n){this.range=e,this.inlineClassName=t,this.type=n}}class g{constructor(e,t,n,i){this.startOffset=e,this.endOffset=t,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=i}toInlineDecoration(e){return new d(new s["a"](e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class f{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}},af50:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("567d"),r=n("ef8e");function s(e,t){return new o(e,t)}class o extends i["a"]{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!==typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(n){return Promise.reject(n)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?r["d"](this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(t=>{this._foreignModuleCreateData=null;const n=(t,n)=>e.fmr(t,n),i=(e,t)=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)};let r={};for(const e of t)r[e]=i(e,n);return r})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(e=>this.getProxy())}}},b78f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("0a0f");const r=Object(i["c"])("textModelService")},d19c:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n("308f"),r=n("a666"),s=n("8bf1"),o=n("fdcc"),a=n("b9b4"),l=n("3742"),c=n("b707"),u=n("32a4"),h=n("0910"),d=n("89cd");const g=Object.prototype.hasOwnProperty;class f extends r["a"]{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new i["b"]),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=t,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(u["a"].onDidChangeLanguages(e=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const e=u["a"].getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})}),d["a"].as(h["a"].Configuration).registerOverrideIdentifiers(u["a"].getLanguages().map(e=>e.id)),this._onDidChange.fire()}_getLanguageId(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];const t=this._nextLanguageId2++;return this._languageIdToLanguage[t]=e,this._languageToLanguageId[e]=t,t}_registerLanguage(e){const t=e.id;let n;if(g.call(this._languages,t))n=this._languages[t];else{const e=this._getLanguageId(t);n={identifier:new c["s"](t,e),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=n}this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let i=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),i=t.mimetypes[0]),i||(i="text/x-"+n,e.mimetypes.push(i)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)a["c"]({id:n,mime:i,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let o of t.filenames)a["c"]({id:n,mime:i,filename:o},this._warnOnOverwrite),e.filenames.push(o);if(Array.isArray(t.filenamePatterns))for(let o of t.filenamePatterns)a["c"]({id:n,mime:i,filepattern:o},this._warnOnOverwrite);if("string"===typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);l["M"](t)||a["c"]({id:n,mime:i,firstline:t},this._warnOnOverwrite)}catch(c){Object(o["f"])(c)}}e.aliases.push(n);let r=null;if("undefined"!==typeof t.aliases&&Array.isArray(t.aliases)&&(r=0===t.aliases.length?[null]:t.aliases),null!==r)for(const o of r)o&&0!==o.length&&e.aliases.push(o);let s=null!==r&&r.length>0;if(s&&null===r[0]);else{let t=(s?r[0]:null)||n;!s&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!g.call(this._mimeTypesMap,e)||g.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return g.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null}extractModeIds(e){return e?e.split(",").map(e=>e.trim()).map(e=>g.call(this._mimeTypesMap,e)?this._mimeTypesMap[e].language:e).filter(e=>g.call(this._languages,e)):[]}getLanguageIdentifier(e){if(e===s["b"]||0===e)return s["a"];let t;if("string"===typeof e)t=e;else if(t=this._languageIdToLanguage[e],!t)return null;return g.call(this._languages,t)?this._languages[t].identifier:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let n=a["b"](e,t);return this.extractModeIds(n.join(","))}}var m=n("e8e3");class p{constructor(e,t){let n;this._selector=t,this.languageIdentifier=this._selector(),this._onDidChange=new i["b"]({onFirstListenerAdd:()=>{n=e(()=>this._evaluate())},onLastListenerRemove:()=>{n.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))}}class _ extends r["a"]{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new i["b"]),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new i["b"]({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._encounteredLanguages=new Set,this._registry=this._register(new f(!0,e)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){const n=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return Object(m["j"])(n,null)}getModeId(e){const t=this._registry.extractModeIds(e);return Object(m["j"])(t,null)}getLanguageIdentifier(e){return this._registry.getLanguageIdentifier(e)}create(e){return new p(this.onLanguagesMaybeChanged,()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new p(this.onLanguagesMaybeChanged,()=>{const n=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(n)})}_createModeAndGetLanguageIdentifier(e){const t=this.getLanguageIdentifier(e||"plaintext")||s["a"];return this._getOrCreateMode(t.language),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._encounteredLanguages.has(e)){this._encounteredLanguages.add(e);const t=this.getLanguageIdentifier(e)||s["a"];this._onDidEncounterLanguage.fire(t)}}}},d1a7:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var i=n("308f"),r=n("a666"),s=n("30db"),o=n("fdcc"),a=n("fd49"),l=n("b57f"),c=n("b707"),u=n("32a4"),h=n("7b4a"),d=n("fbba"),g=n("5fe7"),f=n("2504"),m=n("b7d0"),p=n("d3d7"),_=n("3803"),C=n("eda7"),b=n("a054"),w=n("b589"),L=n("4111");class v{constructor(e,t,n){this._legend=e,this._themeService=t,this._logService=n,this._hashTable=new O,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,n){const i=this._hashTable.get(e,t,n.id);let r;if(i)r=i.metadata,this._logService.getLevel()===p["c"].Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${c["A"].getForeground(r)}, fontStyle ${c["A"].getFontStyle(r).toString(2)}`);else{let i=this._legend.tokenTypes[e];const s=[];if(i){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&s.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===p["c"].Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const o=this._themeService.getColorTheme().getTokenStyleMetadata(i,s,n.language);if("undefined"===typeof o)r=2147483647;else{if(r=0,"undefined"!==typeof o.italic){const e=(o.italic?1:0)<<11;r|=1|e}if("undefined"!==typeof o.bold){const e=(o.bold?2:0)<<11;r|=2|e}if("undefined"!==typeof o.underline){const e=(o.underline?4:0)<<11;r|=4|e}if(o.foreground){const e=o.foreground<<14;r|=8|e}0===r&&(r=2147483647)}}else this._logService.getLevel()===p["c"].Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),r=2147483647,i="not-in-legend";this._hashTable.add(e,t,n.id,r),this._logService.getLevel()===p["c"].Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${i}) / ${t} (${s.join(" ")}): foreground ${c["A"].getForeground(r)}, fontStyle ${c["A"].getFontStyle(r).toString(2)}`)}return r}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}}function S(e,t,n){const i=e.data,r=e.data.length/5|0,s=Math.max(Math.ceil(r/1024),400),o=[];let a=0,l=1,c=0;while(a<r){const e=a;let u=Math.min(e+s,r);if(u<r){let t=u;while(t-1>e&&0===i[5*t])t--;if(t-1===e){let e=u;while(e+1<r&&0===i[5*e])e++;u=e}else u=t}let h=new Uint32Array(4*(u-e)),d=0,g=0,f=0,m=0,p=0;while(a<u){const e=5*a,r=i[e],s=i[e+1],o=l+r,u=0===r?c+s:s,_=i[e+2],C=i[e+3],b=i[e+4],w=t.getMetadata(C,b,n);2147483647!==w&&(0===g&&(g=o),f===o&&p>u&&(t.warnOverlappingSemanticTokens(o,u+1),m<u?h[d-4+2]=u:d-=4),h[d]=o-g,h[d+1]=u,h[d+2]=u+_,h[d+3]=w,d+=4,f=o,m=u,p=u+_),l=o,c=u,a++}d!==h.length&&(h=h.subarray(0,d));const _=new L["a"](g,new L["c"](h));o.push(_)}return o}class k{constructor(e,t,n,i){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=n,this.metadata=i,this.next=null}}class O{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=O._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<O._SIZES.length?2/3*this._currentLength:0),this._elements=[],O._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let n=0;n<t;n++)e[n]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,n){return this._hash2(this._hash2(e,t),n)%this._currentLength}get(e,t,n){const i=this._hashFunc(e,t,n);let r=this._elements[i];while(r){if(r.tokenTypeIndex===e&&r.tokenModifierSet===t&&r.languageId===n)return r;r=r.next}return null}add(e,t,n,i){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=O._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<O._SIZES.length?2/3*this._currentLength:0),this._elements=[],O._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;while(e){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new k(e,t,n,i))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}O._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var I=n("6d8e"),M=n("1b69"),y=n("9e74"),N=n("ef8e"),E=n("1e93");function x(e){for(let t=0,n=e.length;t<n;t+=4){const n=e[t+0],i=e[t+1],r=e[t+2],s=e[t+3];e[t+0]=s,e[t+1]=r,e[t+2]=i,e[t+3]=n}}function T(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return s["e"]()||x(t),E["a"].wrap(t)}function V(e){const t=new Uint32Array(D(e));let n=0;if(t[n++]=e.id,"full"===e.type)t[n++]=1,t[n++]=e.data.length,t.set(e.data,n),n+=e.data.length;else{t[n++]=2,t[n++]=e.deltas.length;for(const i of e.deltas)t[n++]=i.start,t[n++]=i.deleteCount,i.data?(t[n++]=i.data.length,t.set(i.data,n),n+=i.data.length):t[n++]=0}return T(t)}function D(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const n of e.deltas)n.data&&(t+=n.data.length)}return t}var R=n("6a89"),P=function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):r(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function A(e){return e&&!!e.data}function W(e){return e&&Array.isArray(e.edits)}function F(e,t,n){const i=B(e);return i?{provider:i,request:Promise.resolve(i.provideDocumentSemanticTokens(e,t,n))}:null}function B(e){const t=c["k"].ordered(e);return t.length>0?t[0]:null}function H(e){const t=c["j"].ordered(e);return t.length>0?t[0]:null}y["a"].registerCommand("_provideDocumentSemanticTokensLegend",(e,...t)=>P(void 0,void 0,void 0,(function*(){const[n]=t;Object(N["b"])(n instanceof I["a"]);const i=e.get(M["a"]).getModel(n);if(!i)return;const r=B(i);return r?r.getLegend():e.get(y["b"]).executeCommand("_provideDocumentRangeSemanticTokensLegend",n)}))),y["a"].registerCommand("_provideDocumentSemanticTokens",(e,...t)=>P(void 0,void 0,void 0,(function*(){const[n]=t;Object(N["b"])(n instanceof I["a"]);const i=e.get(M["a"]).getModel(n);if(!i)return;const r=F(i,null,f["a"].None);if(!r)return e.get(y["b"]).executeCommand("_provideDocumentRangeSemanticTokens",n,i.getFullModelRange());const{provider:s,request:a}=r;let l;try{l=yield a}catch(u){return void Object(o["g"])(u)}if(!l||!A(l))return;const c=V({id:0,type:"full",data:l.data});return l.resultId&&s.releaseDocumentSemanticTokens(l.resultId),c}))),y["a"].registerCommand("_provideDocumentRangeSemanticTokensLegend",(e,...t)=>P(void 0,void 0,void 0,(function*(){const[n]=t;Object(N["b"])(n instanceof I["a"]);const i=e.get(M["a"]).getModel(n);if(!i)return;const r=H(i);return r?r.getLegend():void 0}))),y["a"].registerCommand("_provideDocumentRangeSemanticTokens",(e,...t)=>P(void 0,void 0,void 0,(function*(){const[n,i]=t;Object(N["b"])(n instanceof I["a"]),Object(N["b"])(R["a"].isIRange(i));const r=e.get(M["a"]).getModel(n);if(!r)return;const s=H(r);if(!s)return;let a;try{a=yield s.provideDocumentRangeSemanticTokens(r,R["a"].lift(i),f["a"].None)}catch(l){return void Object(o["g"])(l)}return a&&A(a)?V({id:0,type:"full",data:a.data}):void 0})));var j=n("aa3d"),U=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},z=function(e,t){return function(n,i){t(n,i,e)}};function K(e){return e.toString()}function Y(e){const t=new C["a"],n=e.createSnapshot();let i;while(i=n.read())t.update(i);return t.digest()}class q{constructor(e,t,n){this._modelEventListeners=new r["b"],this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(t=>n(e,t)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageIdentifier)),this.model.setMode(e.languageIdentifier)}}const G=s["d"]||s["f"]?1:2;class ${constructor(e,t,n,i,r,s,o,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=n,this.sharesUndoRedoStack=i,this.heapSize=r,this.sha1=s,this.versionId=o,this.alternativeVersionId=a}}let Z=class e extends r["a"]{constructor(e,t,n,r,s){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=n,this._logService=r,this._undoRedoService=s,this._onModelAdded=this._register(new i["b"]),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new i["b"]),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new i["b"]),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new ee(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new J(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){var n;let i=a["d"].tabSize;if(e.editor&&"undefined"!==typeof e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let r=i;if(e.editor&&"undefined"!==typeof e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(r=t),r<1&&(r=1)}let s=a["d"].insertSpaces;e.editor&&"undefined"!==typeof e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let o=G;const l=e.eol;"\r\n"===l?o=2:"\n"===l&&(o=1);let c=a["d"].trimAutoWhitespace;e.editor&&"undefined"!==typeof e.editor.trimAutoWhitespace&&(c="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let u=a["d"].detectIndentation;e.editor&&"undefined"!==typeof e.editor.detectIndentation&&(u="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let h=a["d"].largeFileOptimizations;e.editor&&"undefined"!==typeof e.editor.largeFileOptimizations&&(h="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let d=a["d"].bracketPairColorizationOptions;return(null===(n=e.editor)||void 0===n?void 0:n.bracketPairColorization)&&"object"===typeof e.editor.bracketPairColorization&&(d={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:i,indentSize:r,insertSpaces:s,detectIndentation:u,defaultEOL:o,trimAutoWhitespace:c,largeFileOptimizations:h,bracketPairColorizationOptions:d}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const n=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return n&&"string"===typeof n&&"auto"!==n?n:3===s["a"]||2===s["a"]?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!==typeof e||e}getCreationOptions(t,n,i){let r=this._modelCreationOptionsByLanguageAndResource[t+n];if(!r){const s=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:n}),o=this._getEOL(n,t);r=e._readModelOptions({editor:s,eol:o},i),this._modelCreationOptionsByLanguageAndResource[t+n]=r}return r}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const n=Object.keys(this._models);for(let i=0,r=n.length;i<r;i++){const r=n[i],s=this._models[r],o=s.model.getLanguageIdentifier().language,a=s.model.uri,l=t[o+a],c=this.getCreationOptions(o,a,s.model.isForSimpleWidget);e._setModelOptionsForModel(s.model,c,l)}}static _setModelOptionsForModel(e,t,n){n&&n.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace&&Object(j["c"])(n.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(K(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(K(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(K(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];this._disposedModels.forEach(e=>{e.sharesUndoRedoStack||t.push(e)}),t.sort((e,t)=>e.time-t.time);while(t.length>0&&this._disposedModelsHeapSize>e){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,n,i){const r=this.getCreationOptions(t.language,n,i),s=new l["c"](e,r,t,n,this._undoRedoService);if(n&&this._disposedModels.has(K(n))){const e=this._removeDisposedModel(n),t=this._undoRedoService.getElements(n),i=Y(s)===e.sha1;if(i||e.sharesUndoRedoStack){for(const e of t.past)Object(b["b"])(e)&&e.matchesResource(n)&&e.setModel(s);for(const e of t.future)Object(b["b"])(e)&&e.matchesResource(n)&&e.setModel(s);this._undoRedoService.setElementsValidFlag(n,!0,e=>Object(b["b"])(e)&&e.matchesResource(n)),i&&(s._overwriteVersionId(e.versionId),s._overwriteAlternativeVersionId(e.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const o=K(s.uri);if(this._models[o])throw new Error("ModelService: Cannot add model because it already exists!");const a=new q(s,e=>this._onWillDispose(e),(e,t)=>this._onDidChangeLanguage(e,t));return this._models[o]=a,a}createModel(e,t,n,i=!1){let r;return t?(r=this._createModelData(e,t.languageIdentifier,n,i),this.setMode(r.model,t)):r=this._createModelData(e,u["b"],n,i),this._onModelAdded.fire(r.model),r.model}setMode(e,t){if(!t)return;const n=this._models[K(e.uri)];n&&n.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(this._models[i].model)}return e}getModel(e){const t=K(e),n=this._models[t];return n?n.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===w["c"].file||e.scheme===w["c"].vscodeRemote||e.scheme===w["c"].userData||e.scheme===w["c"].vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(t){const n=K(t.uri),i=this._models[n],r=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let s=!1,o=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const n of e.past)Object(b["b"])(n)&&n.matchesResource(t.uri)&&(s=!0,o+=n.heapSize(t.uri),n.setModel(t.uri));for(const n of e.future)Object(b["b"])(n)&&n.matchesResource(t.uri)&&(s=!0,o+=n.heapSize(t.uri),n.setModel(t.uri))}}const a=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(s)if(!r&&o>a){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(a-o),this._undoRedoService.setElementsValidFlag(t.uri,!1,e=>Object(b["b"])(e)&&e.matchesResource(t.uri)),this._insertDisposedModel(new $(t.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,o,Y(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!r){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[n],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageIdentifier().language+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,n){const i=n.oldLanguage,r=t.getLanguageIdentifier().language,s=this.getCreationOptions(i,t.uri,t.isForSimpleWidget),o=this.getCreationOptions(r,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,o,s),this._onModelModeChanged.fire({model:t,oldModeId:i})}};Z.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,Z=U([z(0,d["a"]),z(1,h["b"]),z(2,m["b"]),z(3,p["b"]),z(4,_["a"])],Z);const Q="editor.semanticHighlighting";function X(e,t,n){var i;const r=null===(i=n.getValue(Q,{overrideIdentifier:e.getLanguageIdentifier().language,resource:e.uri}))||void 0===i?void 0:i.enabled;return"boolean"===typeof r?r:t.getColorTheme().semanticHighlighting}class J extends r["a"]{constructor(e,t,n,i){super(),this._watchers=Object.create(null),this._semanticStyling=i;const r=e=>{this._watchers[e.uri.toString()]=new ne(e,t,this._semanticStyling)},s=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},o=()=>{for(let i of e.getModels()){const e=this._watchers[i.uri.toString()];X(i,t,n)?e||r(i):e&&s(i,e)}};this._register(e.onModelAdded(e=>{X(e,t,n)&&r(e)})),this._register(e.onModelRemoved(e=>{const t=this._watchers[e.uri.toString()];t&&s(e,t)})),this._register(n.onDidChangeConfiguration(e=>{e.affectsConfiguration(Q)&&o()})),this._register(t.onDidColorThemeChange(o))}}class ee extends r["a"]{constructor(e,t){super(),this._themeService=e,this._logService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new v(e.getLegend(),this._themeService,this._logService)),this._caches.get(e)}}class te{constructor(e,t,n){this._provider=e,this.resultId=t,this.data=n}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class ne extends r["a"]{constructor(e,t,n){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=n,this._fetchDocumentSemanticTokens=this._register(new g["e"](()=>this._fetchDocumentSemanticTokensNow(),ne.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const i=()=>{Object(r["f"])(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of c["k"].all(e))"function"===typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};i(),this._register(c["k"].onDidChange(()=>{i(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const e=new f["b"],t=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,n=F(this._model,t,e.token);if(!n)return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const{provider:i,request:r}=n;this._currentDocumentRequestCancellationTokenSource=e;const s=[],a=this._model.onDidChangeContent(e=>{s.push(e)}),l=this._semanticStyling.get(i);r.then(e=>{this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),this._setDocumentSemanticTokens(i,e||null,l,s)},e=>{const t=e&&(o["e"](e)||"string"===typeof e.message&&-1!==e.message.indexOf("busy"));t||o["f"](e),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),s.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(e,t,n,i,r){for(let s=0;s<r;s++)n[i+s]=e[t+s]}_setDocumentSemanticTokens(e,t,n,i){const r=this._currentDocumentResponse,s=()=>{i.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&n){if(!t)return this._model.setSemanticTokens(null,!0),void s();if(W(t)){if(!r)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:r.data};else{let e=0;for(const r of t.edits)e+=(r.data?r.data.length:0)-r.deleteCount;const n=r.data,i=new Uint32Array(n.length+e);let s=n.length,o=i.length;for(let r=t.edits.length-1;r>=0;r--){const e=t.edits[r],a=s-(e.start+e.deleteCount);a>0&&(ne._copy(n,s-a,i,o-a,a),o-=a),e.data&&(ne._copy(e.data,0,i,o-e.data.length,e.data.length),o-=e.data.length),s=e.start}s>0&&ne._copy(n,0,i,0,s),t={resultId:t.resultId,data:i}}}if(A(t)){this._currentDocumentResponse=new te(e,t.resultId,t.data);const r=S(t,n,this._model.getLanguageIdentifier());if(i.length>0)for(const e of i)for(const t of r)for(const n of e.changes)t.applyEdit(n.range,n.text);this._model.setSemanticTokens(r,!0)}else this._model.setSemanticTokens(null,!0);s()}else this._model.setSemanticTokens(null,!1)}}ne.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300},e06b:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("6a89");class r{constructor(e,t,n,r){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=n,this._model=r,this.visibleRange=new i["a"](t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}},e2dc:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("a666");class r extends i["a"]{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let n=0,i=e.length;n<i;n++){let i=e[n];switch(i.type){case 0:this.onCompositionStart(i)&&(t=!0);break;case 1:this.onCompositionEnd(i)&&(t=!0);break;case 2:this.onConfigurationChanged(i)&&(t=!0);break;case 3:this.onCursorStateChanged(i)&&(t=!0);break;case 4:this.onDecorationsChanged(i)&&(t=!0);break;case 5:this.onFlushed(i)&&(t=!0);break;case 6:this.onFocusChanged(i)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(t=!0);break;case 8:this.onLineMappingChanged(i)&&(t=!0);break;case 9:this.onLinesChanged(i)&&(t=!0);break;case 10:this.onLinesDeleted(i)&&(t=!0);break;case 11:this.onLinesInserted(i)&&(t=!0);break;case 12:this.onRevealRangeRequest(i)&&(t=!0);break;case 13:this.onScrollChanged(i)&&(t=!0);break;case 15:this.onTokensChanged(i)&&(t=!0);break;case 14:this.onThemeChanged(i)&&(t=!0);break;case 16:this.onTokensColorsChanged(i)&&(t=!0);break;case 17:this.onZonesChanged(i)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(i)}}t&&(this._shouldRender=!0)}}},e6e5:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n("b400"),r=n("a666"),s=n("3352"),o=n("b7d0"),a=n("918c"),l=n("1b69"),c=n("6a89"),u=n("b589"),h=n("308f"),d=n("303e"),g=n("4035"),f=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},m=function(e,t){return function(n,i){t(n,i,e)}};class p extends r["a"]{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(Object(r["i"])(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const n=[...this._markersData.keys()];this._markersData.clear();const i=this.model.deltaDecorations(n,t);for(let r=0;r<i.length;r++)this._markersData.set(i[r],e[r]);return 0!==n.length||0!==i.length}getMarker(e){return this._markersData.get(e.id)}}let _=class extends r["a"]{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new h["b"]),this._markerDecorations=new g["b"],e.getModels().forEach(e=>this._onModelAdded(e)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const n=this._markerDecorations.get(e);return n&&n.getMarker(t)||null}_handleMarkerChange(e){e.forEach(e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)})}_onModelAdded(e){const t=new p(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==u["c"].inMemory&&e.uri.scheme!==u["c"].internal&&e.uri.scheme!==u["c"].vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(e=>e.owner).forEach(t=>this._markerService.remove(t,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let n=t.map(t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)}));e.update(t,n)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let n=c["a"].lift(t);if(t.severity!==i["b"].Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),n=e.validateRange(n),n.isEmpty()){let t=e.getWordAtPosition(n.getStartPosition());if(t)n=new c["a"](n.startLineNumber,t.startColumn,n.endLineNumber,t.endColumn);else{let t=e.getLineLastNonWhitespaceColumn(n.startLineNumber)||e.getLineMaxColumn(n.startLineNumber);1===t||(n=n.endColumn>=t?new c["a"](n.startLineNumber,t-1,n.endLineNumber,t):new c["a"](n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&n.startLineNumber===n.endLineNumber){let i=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);i<n.endColumn&&(n=new c["a"](n.startLineNumber,i,n.endLineNumber,n.endColumn),t.startColumn=i)}return n}_createDecorationOption(e){let t,n,r,l=void 0,c=void 0;switch(e.severity){case i["b"].Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case i["b"].Warning:t="squiggly-warning",l=Object(o["g"])(a["w"]),n=20,r={color:Object(o["g"])(d["Db"]),position:s["e"].Inline};break;case i["b"].Info:t="squiggly-info",l=Object(o["g"])(a["v"]),n=10;break;case i["b"].Error:default:t="squiggly-error",l=Object(o["g"])(a["u"]),n=30,r={color:Object(o["g"])(d["xb"]),position:s["e"].Inline};break}return e.tags&&(-1!==e.tags.indexOf(1)&&(c="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(c="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:l,position:s["f"].Right},minimap:r,zIndex:n,inlineClassName:c}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};_=f([m(0,l["a"]),m(1,i["a"])],_)},efdb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("0a0f");const r=Object(i["c"])("markerDecorationsService")},f33e:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return V}));var i=n("fd49"),r=n("6eab"),s=n("4390"),o=n("5249"),a=n("30db"),l=(n("3813"),n("e8e3")),c=n("2504"),u=n("fdcc"),h=n("258a"),d=n("db88"),g=n("ef8e"),f=n("6d8e"),m=(n("bc04"),n("b055"),n("7061")),p=n("6a89"),_=(n("8025"),n("b707")),C=n("a40b"),b=n("1b69");n("d3f4");n("dff7");var w,L=n("9e74"),v=n("60d7"),S=(n("0a0f"),function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):r(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))});function k(e){const t=[],n=new Set,i=_["g"].ordered(e);for(const s of i)t.push(s),s.extensionId&&n.add(v["a"].toKey(s.extensionId));const r=_["i"].ordered(e);for(const s of r){if(s.extensionId){if(n.has(v["a"].toKey(s.extensionId)))continue;n.add(v["a"].toKey(s.extensionId))}t.push({displayName:s.displayName,extensionId:s.extensionId,provideDocumentFormattingEdits(e,t,n){return s.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,n)}})}return t}class O{static setFormatterSelector(e){const t=O._selectors.unshift(e);return{dispose:t}}static select(e,t,n){return S(this,void 0,void 0,(function*(){if(0===e.length)return;const i=h["a"].first(O._selectors);return i?yield i(e,t,n):void 0}))}}function I(e,t,n,i,r){return S(this,void 0,void 0,(function*(){const s=_["i"].ordered(t);for(const o of s){let s=yield Promise.resolve(o.provideDocumentRangeFormattingEdits(t,n,i,r)).catch(u["g"]);if(Object(l["l"])(s))return yield e.computeMoreMinimalEdits(t.uri,s)}}))}function M(e,t,n,i){return S(this,void 0,void 0,(function*(){const r=k(t);for(const s of r){let r=yield Promise.resolve(s.provideDocumentFormattingEdits(t,n,i)).catch(u["g"]);if(Object(l["l"])(r))return yield e.computeMoreMinimalEdits(t.uri,r)}}))}function y(e,t,n,i,r){const s=_["v"].ordered(t);return 0===s.length||s[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(s[0].provideOnTypeFormattingEdits(t,n,i,r,c["a"].None)).catch(u["g"]).then(n=>e.computeMoreMinimalEdits(t.uri,n))}O._selectors=new d["a"],L["a"].registerCommand("_executeFormatRangeProvider",(function(e,...t){const[n,i,r]=t;Object(g["b"])(f["a"].isUri(n)),Object(g["b"])(p["a"].isIRange(i));const s=e.get(b["a"]).getModel(n);if(!s)throw Object(u["c"])("resource");return I(e.get(C["a"]),s,p["a"].lift(i),r,c["a"].None)})),L["a"].registerCommand("_executeFormatDocumentProvider",(function(e,...t){const[n,i]=t;Object(g["b"])(f["a"].isUri(n));const r=e.get(b["a"]).getModel(n);if(!r)throw Object(u["c"])("resource");return M(e.get(C["a"]),r,i,c["a"].None)})),L["a"].registerCommand("_executeFormatOnTypeProvider",(function(e,...t){const[n,i,r,s]=t;Object(g["b"])(f["a"].isUri(n)),Object(g["b"])(m["a"].isIPosition(i)),Object(g["b"])("string"===typeof r);const o=e.get(b["a"]).getModel(n);if(!o)throw Object(u["c"])("resource");return y(e.get(C["a"]),o,m["a"].lift(i),r,s)})),i["g"].wrappingIndent.defaultValue=0,i["g"].glyphMargin.defaultValue=!1,i["g"].autoIndent.defaultValue=3,i["g"].overviewRulerLanes.defaultValue=2,O.setFormatterSelector((e,t,n)=>Promise.resolve(e[0]));const N=Object(r["a"])();N.editor=Object(s["a"])(),N.languages=Object(o["a"])();N.CancellationTokenSource,N.Emitter;const E=N.KeyCode,x=N.KeyMod,T=(N.Position,N.Range,N.Selection,N.SelectionDirection,N.MarkerSeverity,N.MarkerTag,N.Uri,N.Token,N.editor),V=N.languages;((null===(w=a["b"].MonacoEnvironment)||void 0===w?void 0:w.globalAPI)||"function"===typeof define&&n("3c35"))&&(self.monaco=N),"undefined"!==typeof self.require&&"function"===typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},ff6c:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("308f"),r=n("a666"),s=n("4503"),o=n("b707");class a extends r["a"]{constructor(){super(),this._onDidChange=new i["b"],this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(o["B"].onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=Object(r["h"])(new a)),this._INSTANCE}_updateColorMap(){const e=o["B"].getColorMap();if(!e)return this._colors=[s["a"].Empty],void(this._backgroundIsLight=!0);this._colors=[s["a"].Empty];for(let n=1;n<e.length;n++){const t=e[n].rgba;this._colors[n]=new s["a"](t.r,t.g,t.b,Math.round(255*t.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}a._INSTANCE=null}}]);